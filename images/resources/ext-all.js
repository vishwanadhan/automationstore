Ext.DomHelper=function(){var F=null,E=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,B=/^table|tbody|tr|td$/i,P=/tag|children|cn|html$/i,H=/td|tr|tbody/i,D=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,x=/end/i,A,z="afterbegin",y="afterend",Q="beforebegin",J="beforeend",S="<table>",L="</table>",R=S+"<tbody>",I="</tbody>"+L,C=R+"<tr>",K="</tr>"+I;
function M(b,e,h,c,d,a){var g=A.insertHtml(c,Ext.getDom(b),G(e));return h?Ext.get(g,true):g;}function G(d){var g="",i,e,b,h,c;if(typeof d=="string"){g=d;}else{if(Ext.isArray(d)){for(var a=0;a<d.length;a++){if(d[a]){g+=G(d[a]);}}}else{g+="<"+(d.tag=d.tag||"div");for(i in d){e=d[i];if(!P.test(i)){if(typeof e=="object"){g+=" "+i+'="';
for(b in e){g+=b+":"+e[b]+";";}g+='"';}else{g+=" "+({cls:"class",htmlFor:"for"}[i]||i)+'="'+e+'"';}}}if(E.test(d.tag)){g+="/>";}else{g+=">";if((c=d.children||d.cn)){g+=G(c);}else{if(d.html){g+=d.html;}}g+="</"+d.tag+">";}}}return g;}function N(c,i,b,g){F.innerHTML=[i,b,g].join("");var a=-1,e=F,h;while(++a<c){e=e.firstChild;
}if(h=e.nextSibling){var d=document.createDocumentFragment();while(e){h=e.nextSibling;d.appendChild(e);e=h;}e=d;}return e;}function O(b,g,d,a){var e,c;F=F||document.createElement("div");if(b=="td"&&(g==z||g==J)||!H.test(b)&&(g==Q||g==y)){return;}c=g==Q?d:g==y?d.nextSibling:g==z?d.firstChild:null;if(g==Q||g==y){d=d.parentNode;
}if(b=="td"||(b=="tr"&&(g==J||g==z))){e=N(4,C,a,K);}else{if((b=="tbody"&&(g==J||g==z))||(b=="tr"&&(g==Q||g==y))){e=N(3,R,a,I);}else{e=N(2,S,a,L);}}d.insertBefore(e,c);return e;}A={markup:function(a){return G(a);},applyStyles:function(b,g){if(g){var e=0,d,a,c;b=Ext.fly(b);if(typeof g=="function"){g=g.call();
}if(typeof g=="string"){while((c=D.exec(g))){b.setStyle(c[1],c[2]);}}else{if(typeof g=="object"){b.setStyle(g);}}}},insertHtml:function(d,j,c){var e={},h,a,b,k,g,i;d=d.toLowerCase();e[Q]=["BeforeBegin","previousSibling"];e[y]=["AfterEnd","nextSibling"];if(j.insertAdjacentHTML){if(B.test(j.tagName)&&(i=O(j.tagName.toLowerCase(),d,j,c))){return i;
}e[z]=["AfterBegin","firstChild"];e[J]=["BeforeEnd","lastChild"];if((h=e[d])){j.insertAdjacentHTML(h[0],c);return j[h[1]];}}else{b=j.ownerDocument.createRange();a="setStart"+(x.test(d)?"After":"Before");if(e[d]){b[a](j);k=b.createContextualFragment(c);j.parentNode.insertBefore(k,d==Q?j:j.nextSibling);
return j[(d==Q?"previous":"next")+"Sibling"];}else{g=(d==z?"first":"last")+"Child";if(j.firstChild){b[a](j[g]);k=b.createContextualFragment(c);if(d==z){j.insertBefore(k,j.firstChild);}else{j.appendChild(k);}}else{j.innerHTML=c;}return j[g];}}throw'Illegal insertion point -> "'+d+'"';},insertBefore:function(a,b,c){return M(a,b,c,Q);
},insertAfter:function(a,b,c){return M(a,b,c,y,"nextSibling");},insertFirst:function(a,b,c){return M(a,b,c,z,"firstChild");},append:function(a,b,c){return M(a,b,c,J,"",true);},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=G(b);return c?Ext.get(a.firstChild):a.firstChild;},createHtml:G};return A;
}();Ext.apply(Ext.DomHelper,function(){var k,o="afterbegin",q="afterend",p="beforebegin",l="beforeend",n=/tag|children|cn|html$/i;function j(g,d,e,c,h,b){g=Ext.getDom(g);var a;if(k.useDom){a=m(d,null);if(b){g.appendChild(a);}else{(h=="firstChild"?g:g.parentNode).insertBefore(a,g[h]||g);}}else{a=Ext.DomHelper.insertHtml(c,g,Ext.DomHelper.createHtml(d));
}return e?Ext.get(a,true):a;}function m(c,h){var b,d=document,t,g,a,e;if(Ext.isArray(c)){b=d.createDocumentFragment();for(var i=0,u=c.length;i<u;i++){m(c[i],b);}}else{if(typeof c=="string"){b=d.createTextNode(c);}else{b=d.createElement(c.tag||"div");t=!!b.setAttribute;for(var g in c){if(!n.test(g)){a=c[g];
if(g=="cls"){b.className=a;}else{if(t){b.setAttribute(g,a);}else{b[g]=a;}}}}Ext.DomHelper.applyStyles(b,c.style);if((e=c.children||c.cn)){m(e,b);}else{if(c.html){b.innerHTML=c.html;}}}}if(h){h.appendChild(b);}return b;}k={createTemplate:function(a){var b=Ext.DomHelper.createHtml(a);return new Ext.Template(b);
},useDom:false,insertBefore:function(c,a,b){return j(c,a,b,p);},insertAfter:function(c,a,b){return j(c,a,b,q,"nextSibling");},insertFirst:function(c,a,b){return j(c,a,b,o,"firstChild");},append:function(c,a,b){return j(c,a,b,l,"",true);},createDom:m};return k;}());Ext.Template=function(n){var i=this,l=arguments,o=[],a;
if(Ext.isArray(n)){n=n.join("");}else{if(l.length>1){for(var m=0,k=l.length;m<k;m++){a=l[m];if(typeof a=="object"){Ext.apply(i,a);}else{o.push(a);}}n=o.join("");}}i.html=n;if(i.compiled){i.compile();}};Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(d){var c=this;return c.compiled?c.compiled(d):c.html.replace(c.re,function(b,a){return d[a]!==undefined?d[a]:"";
});},set:function(e,g){var d=this;d.html=e;d.compiled=null;return g?d.compile():d;},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'";}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));
return me;},insertFirst:function(d,e,g){return this.doInsert("afterBegin",d,e,g);},insertBefore:function(d,e,g){return this.doInsert("beforeBegin",d,e,g);},insertAfter:function(d,e,g){return this.doInsert("afterEnd",d,e,g);},append:function(d,e,g){return this.doInsert("beforeEnd",d,e,g);},doInsert:function(h,k,i,j){k=Ext.getDom(k);
var g=Ext.DomHelper.insertHtml(h,k,this.applyTemplate(i));return j?Ext.get(g,true):g;},overwrite:function(d,e,g){d=Ext.getDom(d);d.innerHTML=this.applyTemplate(e);return g?Ext.get(d.firstChild,true):d.firstChild;}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(c,d){c=Ext.getDom(c);
return new Ext.Template(c.value||c.innerHTML,d||"");};Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(h){var j=this,i=j.disableFormats!==true,k=Ext.util.Format,m=j;
if(j.compiled){return j.compiled(h);}function l(a,c,d,o){if(d&&i){if(d.substr(0,5)=="this."){return m.call(d.substr(5),h[c],h);}else{if(o){var e=j.argsRe;o=o.split(",");for(var b=0,g=o.length;b<g;b++){o[b]=o[b].replace(e,"$1");}o=[h[c]].concat(o);}else{o=[h[c]];}return k[d].apply(k,o);}}else{return h[c]!==undefined?h[c]:"";
}}return j.html.replace(j.re,l);},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"(";}else{format='this.call("'+format.substr(5)+'", ';
args=", values";}}else{args="";format="(values['"+name+"'] == undefined ? '' : ";}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'";}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn)+"';};";
}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("");}eval(body);return me;},call:function(g,d,e){return this[g](d,e);}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;
Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;
while(n){if(n.nodeType==1){if(++i==index){return n;}}n=n.nextSibling;}return null;}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n;}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n;}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;
if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n);}else{n.nodeIndex=++nodeIndex;}n=nextNode;}return this;}function byClassName(nodeSet,cls){if(!cls){return nodeSet;}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci;}}return result;
}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0];}if(!n){return null;}if(attr=="for"){return n.htmlFor;}if(attr=="class"||attr=="className"){return n.className;}return n.getAttribute(attr)||n[attr];}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result;
}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns];}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci;}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;
for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj;}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n;
}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n;}}}}}}}return result;}function concat(a,b){if(b.slice){return a.concat(b);}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i];}return a;
}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs];}if(!tagName){return cs;}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci;}}return result;}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs];
}if(!id){return cs;}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result;}}return result;}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,innerHTML;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue;
}innerHTML=ci.innerHTML;if(innerHTML!==null&&innerHTML!==undefined){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr);}else{if(attr=="class"||attr=="className"){a=ci.className;}else{if(attr=="for"){a=ci.htmlFor;}else{if(attr=="href"){a=ci.getAttribute("href",2);}else{a=ci.getAttribute(attr);}}}}}else{a=ci.getAttribute(attr);
}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci;}}return result;}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value);}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);
r[r.length]=c;}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup");}return r;}function nodup(cs){if(!cs){return[];}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs;}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs);
}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d;}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j];}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj;}}return r;}}return r;}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d);
}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i];}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff");}return r;}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2;}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2);
}for(var i=0;i<len1;i++){c1[i]._qdiff=d;}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i];}}return r;}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id);}ns=getNodes(ns,mode,"*");return byId(ns,id);}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name);
},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';
path=path.replace(lmode[1],"");}while(path.substr(0,1)=="/"){path=path.substr(1);}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");';}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");';
}path=path.replace(tokenMatch[0],"");}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");';}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");';}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");';}path=path.replace(tokenMatch[0],"");
}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i];});path=path.replace(m[0],"");matched=true;break;}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"';
}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"");}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f;},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root);}var paths=path.split(","),results=[];
for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector";}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result);}}if(paths.length>1){return nodup(results);
}return results;},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false;},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs);
}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type);}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type);},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0];},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select");
}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize();}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v);},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);
return parseFloat(v);},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el);}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0);},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple");
}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result;},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v;
},"!=":function(a,v){return a!=v;},"^=":function(a,v){return a&&a.substr(0,v.length)==v;},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v;},"*=":function(a,v){return a&&a.indexOf(v)!==-1;},"%=":function(a,v){return(a%v)==0;},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-");
},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1;}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci;}}return r;},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci;
}}return r;},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j;
}}pn._batch=batch;}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n;}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n;}}}return r;},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci;}}return r;},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;
while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break;}}if(empty){r[++ri]=ci;}}return r;},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci;}}return r;},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;
ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci;}}return r;},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci;}}return r;},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true);},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;
for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break;}}}return r;},odd:function(c){return this["nth-child"](c,"odd");},even:function(c){return this["nth-child"](c,"even");},nth:function(c,a){return c[a-1]||[];},first:function(c){return c[0]||[];},last:function(c){return c[c.length-1]||[];
},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci;}}return r;},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci;}}return r;},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;
for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci;}}return r;}}};}();Ext.query=Ext.DomQuery.select;Ext.util.DelayedTask=function(l,m,i){var k=this,j,h=function(){clearInterval(j);j=null;l.apply(m,i||[]);};k.delay=function(c,a,b,d){k.cancel();l=a||l;m=b||m;i=d||i;j=setInterval(h,c);
};k.cancel=function(){if(j){clearInterval(j);j=null;}};};(function(){var s=Ext.util,q=Ext.each,k=true,r=false;s.Observable=function(){var b=this,a=b.events;if(b.listeners){b.on(b.listeners);delete b.listeners;}b.events=a||{};};s.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var a=Array.prototype.slice.call(arguments,0),h=a[0].toLowerCase(),g=this,i=k,d=g.events[h],b,e,c;
if(g.eventsSuspended===k){if(e=g.eventQueue){e.push(a);}}else{if(typeof d=="object"){if(d.bubble){if(d.fire.apply(d,a.slice(1))===r){return r;}c=g.getBubbleTarget&&g.getBubbleTarget();if(c&&c.enableBubble){b=c.events[h];if(!b||typeof b!="object"||!b.bubble){c.enableBubble(h);}return c.fireEvent.apply(c,a);
}}else{a.shift();i=d.fire.apply(d,a);}}}return i;},addListener:function(i,e,c,j){var g=this,h,b,d,a;if(typeof i=="object"){j=i;for(h in j){b=j[h];if(!g.filterOptRe.test(h)){g.addListener(h,b.fn||b,b.scope||j.scope,b.fn?b:j);}}}else{i=i.toLowerCase();a=g.events[i]||k;if(typeof a=="boolean"){g.events[i]=a=new s.Event(g,i);
}a.addListener(e,c,typeof j=="object"?j:{});}},removeListener:function(a,c,d){var b=this.events[a.toLowerCase()];if(typeof b=="object"){b.removeListener(c,d);}},purgeListeners:function(){var a=this.events,c,b;for(b in a){c=a[b];if(typeof c=="object"){c.clearListeners();}}},addEvents:function(b){var c=this;
c.events=c.events||{};if(typeof b=="string"){var a=arguments,d=a.length;while(d--){c.events[a[d]]=c.events[a[d]]||k;}}else{Ext.applyIf(c.events,b);}},hasListener:function(b){var a=this.events[b.toLowerCase()];return typeof a=="object"&&a.listeners.length>0;},suspendEvents:function(a){this.eventsSuspended=k;
if(a&&!this.eventQueue){this.eventQueue=[];}},resumeEvents:function(){var b=this,a=b.eventQueue||[];b.eventsSuspended=r;delete b.eventQueue;q(a,function(c){b.fireEvent.apply(b,c);});}};var m=s.Observable.prototype;m.on=m.addListener;m.un=m.removeListener;s.Observable.releaseCapture=function(a){a.fireEvent=m.fireEvent;
};function l(b,a,c){return function(){if(a.target==arguments[0]){b.apply(c,Array.prototype.slice.call(arguments,0));}};}function o(b,a,d,c){d.task=new s.DelayedTask();return function(){d.task.delay(a.buffer,b,c,Array.prototype.slice.call(arguments,0));};}function n(c,b,d,a){return function(){b.removeListener(d,a);
return c.apply(a,arguments);};}function p(b,a,d,c){return function(){var e=new s.DelayedTask();if(!d.tasks){d.tasks=[];}d.tasks.push(e);e.delay(a.delay||10,b,c,Array.prototype.slice.call(arguments,0));};}s.Event=function(a,b){this.name=b;this.obj=a;this.listeners=[];};s.Event.prototype={addListener:function(e,a,b){var d=this,c;
a=a||d.obj;if(!d.isListening(e,a)){c=d.createListener(e,a,b);if(d.firing){d.listeners=d.listeners.slice(0);}d.listeners.push(c);}},createListener:function(e,a,d){d=d||{},a=a||this.obj;var c={fn:e,scope:a,options:d},b=e;if(d.target){b=l(b,d,a);}if(d.delay){b=p(b,d,c,a);}if(d.single){b=n(b,this,e,a);}if(d.buffer){b=o(b,d,c,a);
}c.fireFn=b;return c;},findListener:function(e,a){var d=this.listeners,b=d.length,c;a=a||this.obj;while(b--){c=d[b];if(c){if(c.fn==e&&c.scope==a){return b;}}}return -1;},isListening:function(a,b){return this.findListener(a,b)!=-1;},removeListener:function(b,c){var d,h,g,a=this,e=r;if((d=a.findListener(b,c))!=-1){if(a.firing){a.listeners=a.listeners.slice(0);
}h=a.listeners[d];if(h.task){h.task.cancel();delete h.task;}g=h.tasks&&h.tasks.length;if(g){while(g--){h.tasks[g].cancel();}delete h.tasks;}a.listeners.splice(d,1);e=k;}return e;},clearListeners:function(){var c=this,b=c.listeners,a=b.length;while(a--){c.removeListener(b[a].fn,b[a].scope);}},fire:function(){var c=this,d=c.listeners,b=d.length,e=0,a;
if(b>0){c.firing=k;var g=Array.prototype.slice.call(arguments,0);for(;e<b;e++){a=d[e];if(a&&a.fireFn.apply(a.scope||c.obj||window,g)===r){return(c.firing=r);}}}c.firing=r;return k;}};})();Ext.apply(Ext.util.Observable.prototype,function(){function b(e){var n=(this.methodEvents=this.methodEvents||{})[e],a,l,o,m=this;
if(!n){this.methodEvents[e]=n={};n.originalFn=this[e];n.methodName=e;n.before=[];n.after=[];var k=function(c,d,g){if((l=c.apply(d||m,g))!==undefined){if(typeof l=="object"){if(l.returnValue!==undefined){a=l.returnValue;}else{a=l;}o=!!l.cancel;}else{if(l===false){o=true;}else{a=l;}}}};this[e]=function(){var d=Array.prototype.slice.call(arguments,0),g;
a=l=undefined;o=false;for(var c=0,h=n.before.length;c<h;c++){g=n.before[c];k(g.fn,g.scope,d);if(o){return a;}}if((l=n.originalFn.apply(m,d))!==undefined){a=l;}for(var c=0,h=n.after.length;c<h;c++){g=n.after[c];k(g.fn,g.scope,d);if(o){return a;}}return a;};}return n;}return{beforeMethod:function(e,g,a){b.call(this,e).before.push({fn:g,scope:a});
},afterMethod:function(e,g,a){b.call(this,e).after.push({fn:g,scope:a});},removeMethodListener:function(e,k,l){var i=this.getMethodEvent(e);for(var m=0,a=i.before.length;m<a;m++){if(i.before[m].fn==k&&i.before[m].scope==l){i.before.splice(m,1);return;}}for(var m=0,a=i.after.length;m<a;m++){if(i.after[m].fn==k&&i.after[m].scope==l){i.after.splice(m,1);
return;}}},relayEvents:function(i,n){var o=this;function l(c){return function(){return o.fireEvent.apply(o,[c].concat(Array.prototype.slice.call(arguments,0)));};}for(var a=0,k=n.length;a<k;a++){var m=n[a];o.events[m]=o.events[m]||true;i.on(m,l(m),o);}},enableBubble:function(k){var j=this;if(!Ext.isEmpty(k)){k=Ext.isArray(k)?k:Array.prototype.slice.call(arguments,0);
for(var l=0,a=k.length;l<a;l++){var m=k[l];m=m.toLowerCase();var i=j.events[m]||true;if(typeof i=="boolean"){i=new Ext.util.Event(j,m);j.events[m]=i;}i.bubble=true;}}}};}());Ext.util.Observable.capture=function(g,d,e){g.fireEvent=g.fireEvent.createInterceptor(d,e);};Ext.util.Observable.observeClass=function(c,d){if(c){if(!c.fireEvent){Ext.apply(c,new Ext.util.Observable());
Ext.util.Observable.capture(c.prototype,c.fireEvent,c);}if(typeof d=="object"){c.on(d);}return c;}};Ext.EventManager=function(){var I,P,U=false,T=Ext.isGecko||Ext.isWebKit||Ext.isSafari,Q=Ext.lib.Event,O=Ext.lib.Dom,aa=document,C=window,ab="DOMContentLoaded",V="complete",Y=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,S=[];
function D(d){var a=false,e=0,g=S.length,a=false,c=false,b;if(d){if(d.getElementById||d.navigator){for(;e<g;++e){b=S[e];if(b.el===d){a=b.id;break;}}if(!a){a=Ext.id(d);S.push({id:a,el:d});c=true;}}else{a=Ext.id(d);}if(!Ext.elCache[a]){Ext.Element.addToCache(new Ext.Element(d),a);if(c){Ext.elCache[a].skipGC=true;
}}}return a;}function R(b,k,h,a,c,e){b=Ext.getDom(b);var d=D(b),g=Ext.elCache[d].events,j;j=Q.on(b,k,c);g[k]=g[k]||[];g[k].push([h,c,e,j,a]);if(b.addEventListener&&k=="mousewheel"){var i=["DOMMouseScroll",c,false];b.addEventListener.apply(b,i);Ext.EventManager.addListener(C,"unload",function(){b.removeEventListener.apply(b,i);
});}if(b==aa&&k=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(c);}}function G(){if(window!=top){return false;}try{aa.documentElement.doScroll("left");}catch(a){return false;}ac();return true;}function M(a){if(Ext.isIE&&G()){return true;}if(aa.readyState==V){ac();return true;}U||(P=setTimeout(arguments.callee,2));
return false;}var E;function X(a){E||(E=Ext.query("style, link[rel=stylesheet]"));if(E.length==aa.styleSheets.length){ac();return true;}U||(P=setTimeout(arguments.callee,2));return false;}function J(a){aa.removeEventListener(ab,arguments.callee,false);X();}function ac(a){if(!U){U=true;if(P){clearTimeout(P);
}if(T){aa.removeEventListener(ab,ac,false);}if(Ext.isIE&&M.bindIE){aa.detachEvent("onreadystatechange",M);}Q.un(C,"load",arguments.callee);}if(I&&!Ext.isReady){Ext.isReady=true;I.fire();I.listeners=[];}}function H(){I||(I=new Ext.util.Event());if(T){aa.addEventListener(ab,ac,false);}if(Ext.isIE){if(!M()){M.bindIE=true;
aa.attachEvent("onreadystatechange",M);}}else{if(Ext.isOpera){(aa.readyState==V&&X())||aa.addEventListener(ab,J,false);}else{if(Ext.isWebKit){M();}}}Q.on(C,"load",ac);}function K(b,a){return function(){var c=Ext.toArray(arguments);if(a.target==Ext.EventObject.setEvent(c[0]).target){b.apply(this,c);}};
}function L(b,a,c){return function(d){c.delay(a.buffer,b,null,[new Ext.EventObjectImpl(d)]);};}function W(d,e,c,a,b){return function(g){Ext.EventManager.removeListener(e,c,a,b);d(g);};}function Z(b,a,c){return function(d){var e=new Ext.util.DelayedTask(b);if(!c.tasks){c.tasks=[];}c.tasks.push(e);e.delay(a.delay||10,b,null,[new Ext.EventObjectImpl(d)]);
};}function F(j,a,e,h,g){var d=(!e||typeof e=="boolean")?{}:e,c=Ext.getDom(j),b;h=h||d.fn;g=g||d.scope;if(!c){throw'Error listening for "'+a+'". Element "'+j+"\" doesn't exist.";}function i(l){if(!Ext){return;}l=Ext.EventObject.setEvent(l);var k;if(d.delegate){if(!(k=l.getTarget(d.delegate,c))){return;
}}else{k=l.target;}if(d.stopEvent){l.stopEvent();}if(d.preventDefault){l.preventDefault();}if(d.stopPropagation){l.stopPropagation();}if(d.normalized){l=l.browserEvent;}h.call(g||c,l,k,d);}if(d.target){i=K(i,d);}if(d.delay){i=Z(i,d,h);}if(d.single){i=W(i,c,a,h,g);}if(d.buffer){b=new Ext.util.DelayedTask(i);
i=L(i,d,b);}R(c,a,h,b,i,g);return i;}var N={addListener:function(b,d,i,a,c){if(typeof d=="object"){var e=d,h,g;for(h in e){g=e[h];if(!Y.test(h)){if(Ext.isFunction(g)){F(b,h,e,g,e.scope);}else{F(b,h,g);}}}}else{F(b,d,c,i,a);}},removeListener:function(m,i,d,c){m=Ext.getDom(m);var b=D(m),g=m&&(Ext.elCache[b].events)[i]||[],a,j,l,k,h,e;
for(j=0,h=g.length;j<h;j++){if(Ext.isArray(e=g[j])&&e[0]==d&&(!c||e[2]==c)){if(e[4]){e[4].cancel();}k=d.tasks&&d.tasks.length;if(k){while(k--){d.tasks[k].cancel();}delete d.tasks;}a=e[1];Q.un(m,i,Q.extAdapter?e[3]:a);if(a&&m.addEventListener&&i=="mousewheel"){m.removeEventListener("DOMMouseScroll",a,false);
}if(a&&m==aa&&i=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(a);}g.splice(j,1);if(g.length===0){delete Ext.elCache[b].events[i];}for(k in Ext.elCache[b].events){return false;}Ext.elCache[b].events={};return false;}}},removeAll:function(a){a=Ext.getDom(a);var b=D(a),h=Ext.elCache[b]||{},d=h.events||{},i,j,g,l,e,k,c;
for(l in d){if(d.hasOwnProperty(l)){i=d[l];for(j=0,g=i.length;j<g;j++){e=i[j];if(e[4]){e[4].cancel();}if(e[0].tasks&&(k=e[0].tasks.length)){while(k--){e[0].tasks[k].cancel();}delete e.tasks;}c=e[1];Q.un(a,l,Q.extAdapter?e[3]:c);if(a.addEventListener&&c&&l=="mousewheel"){a.removeEventListener("DOMMouseScroll",c,false);
}if(c&&a==aa&&l=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(c);}}}}if(Ext.elCache[b]){Ext.elCache[b].events={};}},getListeners:function(c,g){c=Ext.getDom(c);var a=D(c),e=Ext.elCache[a]||{},b=e.events||{},d=[];if(b&&b[g]){return b[g];}else{return null;}},purgeElement:function(c,e,a){c=Ext.getDom(c);
var d=D(c),h=Ext.elCache[d]||{},g=h.events||{},b,i,j;if(a){if(g&&g.hasOwnProperty(a)){i=g[a];for(b=0,j=i.length;b<j;b++){Ext.EventManager.removeListener(c,a,i[b][0]);}}}else{Ext.EventManager.removeAll(c);}if(e&&c&&c.childNodes){for(b=0,j=c.childNodes.length;b<j;b++){Ext.EventManager.purgeElement(c.childNodes[b],e,a);
}}},_unload:function(){var c;for(c in Ext.elCache){Ext.EventManager.removeAll(c);}delete Ext.elCache;delete Ext.Element._flyweights;var d,b,e,a=Ext.lib.Ajax;(typeof a.conn=="object")?b=a.conn:b={};for(e in b){d=b[e];if(d){a.abort({conn:d,tId:e});}}},onDocumentReady:function(a,b,c){if(Ext.isReady){I||(I=new Ext.util.Event());
I.addListener(a,b,c);I.fire();I.listeners=[];}else{if(!I){H();}c=c||{};c.delay=c.delay||1;I.addListener(a,b,c);}},fireDocReady:ac};N.on=N.addListener;N.un=N.removeListener;N.stoppedMouseDownEvent=new Ext.util.Event();return N;}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var b=function(){var g=document.body||document.getElementsByTagName("body")[0];
if(!g){return false;}var a=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){a.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")));
}else{if(Ext.isChrome){a.push("ext-chrome");}}if(Ext.isMac){a.push("ext-mac");}if(Ext.isLinux){a.push("ext-linux");}if(Ext.isStrict||Ext.isBorderBox){var e=g.parentNode;if(e){e.className+=Ext.isStrict?" ext-strict":" ext-border-box";}}g.className+=a.join(" ");return true;};if(!b()){Ext.onReady(b);}})();
Ext.EventObject=function(){var d=Ext.lib.Event,e={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},g=Ext.isIE?{1:0,4:1,2:2}:(Ext.isWebKit?{1:0,2:1,3:2}:{0:0,1:1,2:2});Ext.EventObjectImpl=function(a){if(a){this.setEvent(a.browserEvent||a);}};Ext.EventObjectImpl.prototype={setEvent:function(a){var b=this;
if(a==b||(a&&a.browserEvent)){return a;}b.browserEvent=a;if(a){b.button=a.button?g[a.button]:(a.which?a.which-1:-1);if(a.type=="click"&&b.button==-1){b.button=0;}b.type=a.type;b.shiftKey=a.shiftKey;b.ctrlKey=a.ctrlKey||a.metaKey||false;b.altKey=a.altKey;b.keyCode=a.keyCode;b.charCode=a.charCode;b.target=d.getTarget(a);
b.xy=d.getXY(a);}else{b.button=-1;b.shiftKey=false;b.ctrlKey=false;b.altKey=false;b.keyCode=0;b.charCode=0;b.target=null;b.xy=[0,0];}return b;},stopEvent:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a);}d.stopEvent(a.browserEvent);
}},preventDefault:function(){if(this.browserEvent){d.preventDefault(this.browserEvent);}},stopPropagation:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a);}d.stopPropagation(a.browserEvent);}},getCharCode:function(){return this.charCode||this.keyCode;
},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode);},normalizeKey:function(a){return Ext.isSafari?(e[a]||a):a;},getPageX:function(){return this.xy[0];},getPageY:function(){return this.xy[1];},getXY:function(){return this.xy;},getTarget:function(b,a,c){return b?Ext.fly(this.target).findParent(b,a,c):(c?Ext.get(this.target):this.target);
},getRelatedTarget:function(){return this.browserEvent?d.getRelatedTarget(this.browserEvent):null;},getWheelDelta:function(){var b=this.browserEvent;var a=0;if(b.wheelDelta){a=b.wheelDelta/120;}else{if(b.detail){a=-b.detail/3;}}return a;},within:function(b,a,i){if(b){var c=this[a?"getRelatedTarget":"getTarget"]();
return c&&((i?(c==Ext.getDom(b)):false)||Ext.fly(b).contains(c));}return false;}};return new Ext.EventObjectImpl();}();Ext.apply(Ext.EventManager,function(){var n,q,l,o,p=Ext.lib.Dom,r=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,s=0,k=0,m=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);
return{doResizeEvent:function(){var a=p.getViewHeight(),b=p.getViewWidth();if(k!=a||s!=b){n.fire(s=b,k=a);}},onWindowResize:function(a,b,c){if(!n){n=new Ext.util.Event();q=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this);}n.addListener(a,b,c);
},fireWindowResize:function(){if(n){q.delay(100);}},onTextResize:function(b,c,a){if(!l){l=new Ext.util.Event();var d=new Ext.Element(document.createElement("div"));d.dom.className="x-text-resize";d.dom.innerHTML="X";d.appendTo(document.body);o=d.dom.offsetHeight;setInterval(function(){if(d.dom.offsetHeight!=o){l.fire(o,o=d.dom.offsetHeight);
}},this.textResizeInterval);}l.addListener(b,c,a);},removeResizeListener:function(a,b){if(n){n.removeListener(a,b);}},fireResize:function(){if(n){n.fire(p.getViewWidth(),p.getViewHeight());}},textResizeInterval:50,ieDeferSrc:false,useKeydown:m};}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var c=this,d=this.normalizeKey(c.keyCode);
return(d>=33&&d<=40)||d==c.RETURN||d==c.TAB||d==c.ESC;},isSpecialKey:function(){var b=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(b==this.BACKSPACE)||(b>=16&&b<=20)||(b>=44&&b<=46);},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1]);
},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey);}});(function(){var s=document;Ext.Element=function(d,c){var b=typeof d=="string"?s.getElementById(d):d,a;if(!b){return null;}a=b.id;if(!c&&a&&Ext.elCache[a]){return Ext.elCache[a].el;}this.dom=b;this.id=a||Ext.id(b);};var p=Ext.lib.Dom,x=Ext.DomHelper,r=Ext.lib.Event,y=Ext.lib.Anim,w=Ext.Element,o=Ext.elCache;
w.prototype={set:function(d,b){var a=this.dom,c,e,b=(b!==false)&&!!a.setAttribute;for(c in d){if(d.hasOwnProperty(c)){e=d[c];if(c=="style"){x.applyStyles(a,e);}else{if(c=="cls"){a.className=e;}else{if(b){a.setAttribute(c,e);}else{a[c]=e;}}}}}return this;},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a);
},focus:function(a,b){var d=this,b=b||d.dom;try{if(Number(a)){d.focus.defer(a,null,[null,b]);}else{b.focus();}}catch(c){}return d;},blur:function(){try{this.dom.blur();}catch(a){}return this;},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a;},addListener:function(d,a,b,c){Ext.EventManager.on(this.dom,d,a,b||this,c);
return this;},removeListener:function(c,a,b){Ext.EventManager.removeListener(this.dom,c,a,b||this);return this;},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this;},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this;},addUnits:function(a){if(a===""||a=="auto"||a===undefined){a=a||"";
}else{if(!isNaN(a)||!u.test(a)){a=a+(this.defaultUnit||"px");}}return a;},load:function(b,a,c){Ext.Ajax.request(Ext.apply({params:a,url:b.url||b,callback:c,el:this.dom,indicatorText:b.indicatorText||""},Ext.isObject(b)?b:{}));return this;},isBorderBox:function(){return v[(this.dom.tagName||"").toLowerCase()]||Ext.isBorderBox;
},remove:function(){var b=this,a=b.dom;if(a){delete b.dom;Ext.removeNode(a);}},hover:function(b,c,e,a){var d=this;d.on("mouseenter",b,e||d.dom,a);d.on("mouseleave",c,e||d.dom,a);return d;},contains:function(a){return !a?false:Ext.lib.Dom.isAncestor(this.dom,a.dom?a.dom:a);},getAttributeNS:function(a,b){return this.getAttribute(b,a);
},getAttribute:Ext.isIE?function(d,b){var a=this.dom,c=typeof a[b+":"+d];if(["undefined","unknown"].indexOf(c)==-1){return a[b+":"+d];}return a[d];}:function(c,b){var a=this.dom;return a.getAttributeNS(b,c)||a.getAttribute(b+":"+c)||a.getAttribute(c)||a[c];},update:function(a){if(this.dom){this.dom.innerHTML=a;
}return this;}};var q=w.prototype;w.addMethods=function(a){Ext.apply(q,a);};q.on=q.addListener;q.un=q.removeListener;q.autoBoxAdjust=true;var u=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,z;w.get=function(b){var c,d,e;if(!b){return null;}if(typeof b=="string"){if(!(d=s.getElementById(b))){return null;}if(o[b]&&o[b].el){c=o[b].el;
c.dom=d;}else{c=w.addToCache(new w(d));}return c;}else{if(b.tagName){if(!(e=b.id)){e=Ext.id(b);}if(o[e]&&o[e].el){c=o[e].el;c.dom=b;}else{c=w.addToCache(new w(b));}return c;}else{if(b instanceof w){if(b!=z){if(Ext.isIE&&(b.id==undefined||b.id=="")){b.dom=b.dom;}else{b.dom=s.getElementById(b.id)||b.dom;
}}return b;}else{if(b.isComposite){return b;}else{if(Ext.isArray(b)){return w.select(b);}else{if(b==s){if(!z){var a=function(){};a.prototype=w.prototype;z=new a();z.dom=s;}return z;}}}}}}return null;};w.addToCache=function(b,a){a=a||b.id;o[a]={el:b,data:{},events:{}};return b;};w.data=function(c,d,b){c=w.get(c);
if(!c){return null;}var a=o[c.id].data;if(arguments.length==2){return a[d];}else{return(a[d]=b);}};function t(){if(!Ext.enableGarbageCollector){clearInterval(w.collectorThreadId);}else{var c,a,d,e;for(c in o){e=o[c];if(e.skipGC){continue;}a=e.el;d=a.dom;if(!d||!d.parentNode||(!d.offsetParent&&!s.getElementById(c))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(d);
}delete o[c];}}if(Ext.isIE){var b={};for(c in o){b[c]=o[c];}o=Ext.elCache=b;}}}w.collectorThreadId=setInterval(t,30000);var A=function(){};A.prototype=w.prototype;w.Flyweight=function(a){this.dom=a;};w.Flyweight.prototype=new A();w.Flyweight.prototype.isFlyweight=true;w._flyweights={};w.fly=function(a,c){var b=null;
c=c||"_global";if(a=Ext.getDom(a)){(w._flyweights[c]=w._flyweights[c]||new w.Flyweight()).dom=a;b=w._flyweights[c];}return b;};Ext.get=w.get;Ext.fly=w.fly;var v=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){v.button=1;}})();Ext.Element.addMethods({swallowEvent:function(g,e){var h=this;
function i(a){a.stopPropagation();if(e){a.preventDefault();}}if(Ext.isArray(g)){Ext.each(g,function(a){h.on(a,i);});return h;}h.on(g,i);return h;},relayEvent:function(d,c){this.on(d,function(a){c.fireEvent(d,a);});},clean:function(h){var l=this,k=l.dom,j=k.firstChild,m=-1;if(Ext.Element.data(k,"isCleaned")&&h!==true){return l;
}while(j){var i=j.nextSibling;if(j.nodeType==3&&!/\S/.test(j.nodeValue)){k.removeChild(j);}else{j.nodeIndex=++m;}j=i;}Ext.Element.data(k,"isCleaned",true);return l;},load:function(){var b=this.getUpdater();b.update.apply(b,arguments);return this;},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this));
},update:function(html,loadScripts,callback){if(!this.dom){return this;}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback();}return this;}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;
while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2];}hd.appendChild(s);}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2]);
}else{window.eval(match[2]);}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el);}if(typeof callback=="function"){callback();}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this;},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);
return this;},createProxy:function(j,k,g){j=(typeof j=="object")?j:{tag:"div",cls:j};var h=this,i=k?Ext.DomHelper.append(k,j,true):Ext.DomHelper.insertBefore(h.dom,j,true);if(g&&h.setBox&&h.getBox){i.setBox(h.getBox());}return i;}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;
Ext.Element.addMethods({getAnchorXY:function(r,y,A){r=(r||"tl").toLowerCase();A=A||{};var v=this,x=v.dom==document.body||v.dom==document,s=A.width||x?Ext.lib.Dom.getViewWidth():v.getWidth(),h=A.height||x?Ext.lib.Dom.getViewHeight():v.getHeight(),u,o=Math.round,w=v.getXY(),B=v.getScroll(),C=x?B.left:!y?w[0]:0,z=x?B.top:!y?w[1]:0,t={c:[o(s*0.5),o(h*0.5)],t:[o(s*0.5),0],l:[0,o(h*0.5)],r:[s,o(h*0.5)],b:[o(s*0.5),h],tl:[0,0],bl:[0,h],br:[s,h],tr:[s,0]};
u=t[r];return[u[0]+C,u[1]+z];},anchorTo:function(s,n,r,t,v,u){var m=this,p=m.dom,w=!Ext.isEmpty(v),q=function(){Ext.fly(p).alignTo(s,n,r,t);Ext.callback(u,Ext.fly(p));},o=this.getAnchor();this.removeAnchor();Ext.apply(o,{fn:q,scroll:w});Ext.EventManager.onWindowResize(q,null);if(w){Ext.EventManager.on(window,"scroll",q,null,{buffer:!isNaN(v)?v:50});
}q.call(m);return m;},removeAnchor:function(){var c=this,d=this.getAnchor();if(d&&d.fn){Ext.EventManager.removeResizeListener(d.fn);if(d.scroll){Ext.EventManager.un(window,"scroll",d.fn);}delete d.fn;}return c;},getAnchor:function(){var d=Ext.Element.data,g=this.dom;if(!g){return;}var e=d(g,"_anchor");
if(!e){e=d(g,"_anchor",{});}return e;},getAlignToXY:function(T,d,r){T=Ext.get(T);if(!T||!T.dom){throw"Element.alignToXY with an element that doesn't exist";}r=r||[0,0];d=(!d||d=="?"?"tl-bl?":(!/-/.test(d)&&d!==""?"tl-"+d:d||"tl-bl")).toLowerCase();var ae=this,X=ae.dom,U,P,aa,x,c,ab,R,S=Ext.lib.Dom.getViewWidth()-10,m=Ext.lib.Dom.getViewHeight()-10,ag,y,o,W,ad,Y,V=document,p=V.documentElement,h=V.body,af=(p.scrollLeft||h.scrollLeft||0)+5,ac=(p.scrollTop||h.scrollTop||0)+5,w=false,O="",Q="",Z=d.match(/^([a-z]+)-([a-z]+)(\?)?$/);
if(!Z){throw"Element.alignTo with an invalid alignment "+d;}O=Z[1];Q=Z[2];w=!!Z[3];U=ae.getAnchorXY(O,true);P=T.getAnchorXY(Q,false);aa=P[0]-U[0]+r[0];x=P[1]-U[1]+r[1];if(w){c=ae.getWidth();ab=ae.getHeight();R=T.getRegion();ag=O.charAt(0);y=O.charAt(O.length-1);o=Q.charAt(0);W=Q.charAt(Q.length-1);ad=((ag=="t"&&o=="b")||(ag=="b"&&o=="t"));
Y=((y=="r"&&W=="l")||(y=="l"&&W=="r"));if(aa+c>S+af){aa=Y?R.left-c:S+af-c;}if(aa<af){aa=Y?R.right:af;}if(x+ab>m+ac){x=ad?R.top-ab:m+ac-ab;}if(x<ac){x=ad?R.bottom:ac;}}return[aa,x];},alignTo:function(h,j,k,i){var g=this;return g.setXY(g.getAlignToXY(h,j,k),g.preanim&&!!i?g.preanim(arguments,3):false);
},adjustForConstraints:function(g,e,d){return this.getConstrainToXY(e||document,false,d,g)||g;},getConstrainToXY:function(i,j,h,k){var g={top:0,left:0,bottom:0,right:0};return function(J,H,s,D){J=Ext.get(J);s=s?Ext.applyIf(s,g):g;var a,y,I=0,C=0;if(J.dom==document.body||J.dom==document){a=Ext.lib.Dom.getViewWidth();
y=Ext.lib.Dom.getViewHeight();}else{a=J.dom.clientWidth;y=J.dom.clientHeight;if(!H){var E=J.getXY();I=E[0];C=E[1];}}var G=J.getScroll();I+=s.left+G.left;C+=s.top+G.top;a-=s.right;y-=s.bottom;var x=I+a;var K=C+y;var b=D||(!H?this.getXY():[this.getLeft(true),this.getTop(true)]);var F=b[0],c=b[1];var e=this.dom.offsetWidth,w=this.dom.offsetHeight;
var d=false;if((F+e)>x){F=x-e;d=true;}if((c+w)>K){c=K-w;d=true;}if(F<I){F=I;d=true;}if(c<C){c=C;d=true;}return d?[F,c]:false;};}(),getCenterXY:function(){return this.getAlignToXY(document,"c-c");},center:function(b){return this.alignTo(b||document,"c-c");}});Ext.Element.addMethods(function(){var g="parentNode",i="nextSibling",h="previousSibling",k=Ext.DomQuery,j=Ext.get;
return{findParent:function(a,n,b){var o=this.dom,c=document.body,d=0,e;if(Ext.isGecko&&Object.prototype.toString.call(o)=="[object XULElement]"){return null;}n=n||50;if(isNaN(n)){e=Ext.getDom(n);n=Number.MAX_VALUE;}while(o&&o.nodeType==1&&d<n&&o!=c&&o!=e){if(k.is(o,a)){return b?j(o):o;}d++;o=o.parentNode;
}return null;},findParentNode:function(a,b,d){var c=Ext.fly(this.dom.parentNode,"_internal");return c?c.findParent(a,b,d):null;},up:function(a,b){return this.findParentNode(a,b,true);},select:function(a){return Ext.Element.select(a,this.dom);},query:function(a){return k.select(a,this.dom);},child:function(c,b){var a=k.selectNode(c,this.dom);
return b?a:j(a);},down:function(c,b){var a=k.selectNode(" > "+c,this.dom);return b?a:j(a);},parent:function(b,a){return this.matchNode(g,g,b,a);},next:function(b,a){return this.matchNode(i,i,b,a);},prev:function(b,a){return this.matchNode(h,h,b,a);},first:function(b,a){return this.matchNode(i,"firstChild",b,a);
},last:function(b,a){return this.matchNode(h,"lastChild",b,a);},matchNode:function(b,d,c,a){var e=this.dom[d];while(e){if(e.nodeType==1&&(!c||k.is(e,c))){return !a?j(e):e;}e=e[b];}return null;}};}());Ext.Element.addMethods({select:function(d,c){return Ext.Element.select(d,c,this.dom);}});Ext.Element.addMethods(function(){var g=Ext.getDom,e=Ext.get,d=Ext.DomHelper;
return{appendChild:function(a){return e(a).appendTo(this);},appendTo:function(a){g(a).appendChild(this.dom);return this;},insertBefore:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a);return this;},insertAfter:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a.nextSibling);return this;},insertFirst:function(a,b){a=a||{};
if(a.nodeType||a.dom||typeof a=="string"){a=g(a);this.dom.insertBefore(a,this.dom.firstChild);return !b?e(a):a;}else{return this.createChild(a,this.dom.firstChild,b);}},replace:function(a){a=e(a);this.insertBefore(a);a.remove();return this;},replaceWith:function(b){var a=this;if(b.nodeType||b.dom||typeof b=="string"){b=g(b);
a.dom.parentNode.insertBefore(b,a.dom);}else{b=d.insertBefore(a.dom,b);}delete Ext.elCache[a.id];Ext.removeNode(a.dom);a.id=Ext.id(a.dom=b);Ext.Element.addToCache(a.isFlyweight?new Ext.Element(a.dom):a);return a;},createChild:function(b,c,a){b=b||{tag:"div"};return c?d.insertBefore(c,b,a!==true):d[!this.dom.firstChild?"overwrite":"append"](this.dom,b,a!==true);
},wrap:function(c,b){var a=d.insertBefore(this.dom,c||{tag:"div"},!b);a.dom?a.dom.appendChild(this.dom):a.appendChild(this.dom);return a;},insertHtml:function(c,b,i){var a=d.insertHtml(c,this.dom,b);return i?Ext.get(a):a;}};}());Ext.apply(Ext.Element.prototype,function(){var g=Ext.getDom,e=Ext.get,d=Ext.DomHelper;
return{insertSibling:function(l,m,n){var a=this,b,o=(m||"before").toLowerCase()=="after",c;if(Ext.isArray(l)){c=a;Ext.each(l,function(h){b=Ext.fly(c,"_internal").insertSibling(h,m,n);if(o){c=b;}});return b;}l=l||{};if(l.nodeType||l.dom){b=a.dom.parentNode.insertBefore(g(l),o?a.dom.nextSibling:a.dom);
if(!n){b=e(b);}}else{if(o&&!a.dom.nextSibling){b=d.append(a.dom.parentNode,l,!n);}else{b=d[o?"insertAfter":"insertBefore"](a.dom,l,!n);}}return b;}};}());Ext.Element.addMethods(function(){var Z={},ab=/(-[a-z])/gi,ai={},W=document.defaultView,ad=Ext.isIE?"styleFloat":"cssFloat",S=/alpha\(opacity=(.*)\)/i,ah=/^\s+|\s+$/g,O=/\s+/,Q=/\w/g,ak=Ext.Element,P="padding",U="margin",I="border",M="-left",N="-right",af="-top",K="-bottom",ac="-width",R=Math,Y="hidden",aj="isClipped",X="overflow",V="overflow-x",aa="overflow-y",L="originalClip",J={l:I+M+ac,r:I+N+ac,t:I+af+ac,b:I+K+ac},ae={l:P+M,r:P+N,t:P+af,b:P+K},H={l:U+M,r:U+N,t:U+af,b:U+K},ag=Ext.Element.data;
function T(b,a){return a.charAt(1).toUpperCase();}function G(a){return Z[a]||(Z[a]=a=="float"?ad:a.replace(ab,T));}return{adjustWidth:function(c){var b=this;var a=(typeof c=="number");if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("lr")+b.getPadding("lr"));}return(a&&c<0)?0:c;},adjustHeight:function(c){var b=this;
var a=(typeof c=="number");if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("tb")+b.getPadding("tb"));}return(a&&c<0)?0:c;},addClass:function(b){var a=this,c,g,d,e=[];if(!Ext.isArray(b)){if(typeof b=="string"&&!this.hasClass(b)){a.dom.className+=" "+b;}}else{for(c=0,g=b.length;c<g;c++){d=b[c];
if(typeof d=="string"&&(" "+a.dom.className+" ").indexOf(" "+d+" ")==-1){e.push(d);}}if(e.length){a.dom.className+=" "+e.join(" ");}}return a;},removeClass:function(d){var c=this,e,a,b,g,h;if(!Ext.isArray(d)){d=[d];}if(c.dom&&c.dom.className){h=c.dom.className.replace(ah,"").split(O);for(e=0,b=d.length;
e<b;e++){g=d[e];if(typeof g=="string"){g=g.replace(ah,"");a=h.indexOf(g);if(a!=-1){h.splice(a,1);}}}c.dom.className=h.join(" ");}return c;},radioClass:function(e){var d=this.dom.parentNode.childNodes,b,a,c;e=Ext.isArray(e)?e:[e];for(a=0,c=d.length;a<c;a++){b=d[a];if(b&&b.nodeType==1){Ext.fly(b,"_internal").removeClass(e);
}}return this.addClass(e);},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a);},hasClass:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1;},replaceClass:function(a,b){return this.removeClass(a).addClass(b);},isStyle:function(b,a){return this.getStyle(b)==a;
},getStyle:function(){return W&&W.getComputedStyle?function(c){var g=this.dom,b,h,a,e,d=Ext.isWebKit,e;if(g==document){return null;}c=G(c);if(d&&/marginRight/.test(c)){e=this.getStyle("display");g.style.display="inline-block";}a=(b=g.style[c])?b:(h=W.getComputedStyle(g,""))?h[c]:null;if(d){if(a=="rgba(0, 0, 0, 0)"){a="transparent";
}else{if(e){g.style.display=e;}}}return a;}:function(d){var a=this.dom,c,b;if(a==document){return null;}if(d=="opacity"){if(a.style.filter.match){if(c=a.style.filter.match(S)){var e=parseFloat(c[1]);if(!isNaN(e)){return e?e/100:0;}}}return 1;}d=G(d);return a.style[d]||((b=a.currentStyle)?b[d]:null);};
}(),getColor:function(g,e,a){var c=this.getStyle(g),d=(typeof a!="undefined")?a:"#",b;if(!c||/transparent|inherit/.test(c)){return e;}if(/^r/.test(c)){Ext.each(c.slice(4,c.length-1).split(","),function(h){b=parseInt(h,10);d+=(b<16?"0":"")+b.toString(16);});}else{c=c.replace("#","");d+=c.length==3?c.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):c;
}return(d.length>5?d.toLowerCase():e);},setStyle:function(d,e){var b,a,c;if(typeof d!="object"){b={};b[d]=e;d=b;}for(a in d){e=d[a];a=="opacity"?this.setOpacity(e):this.dom.style[G(a)]=e;}return this;},setOpacity:function(e,g){var b=this,d=b.dom.style;if(!g||!b.anim){if(Ext.isIE){var c=e<1?"alpha(opacity="+e*100+")":"",a=d.filter.replace(S,"").replace(ah,"");
d.zoom=1;d.filter=a+(a.length>0?" ":"")+c;}else{d.opacity=e;}}else{b.anim({opacity:{to:e}},b.preanim(arguments,1),null,0.35,"easeIn");}return b;},clearOpacity:function(){var a=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(a.filter)){a.filter=a.filter.replace(S,"").replace(ah,"");}}else{a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]="";
}return this;},getHeight:function(a){var b=this,d=b.dom,e=Ext.isIE&&b.isStyle("display","none"),c=R.max(d.offsetHeight,e?0:d.clientHeight)||0;c=!a?c:c-b.getBorderWidth("tb")-b.getPadding("tb");return c<0?0:c;},getWidth:function(b){var a=this,d=a.dom,e=Ext.isIE&&a.isStyle("display","none"),c=R.max(d.offsetWidth,e?0:d.clientWidth)||0;
c=!b?c:c-a.getBorderWidth("lr")-a.getPadding("lr");return c<0?0:c;},setWidth:function(b,c){var a=this;b=a.adjustWidth(b);!c||!a.anim?a.dom.style.width=a.addUnits(b):a.anim({width:{to:b}},a.preanim(arguments,1));return a;},setHeight:function(c,b){var a=this;c=a.adjustHeight(c);!b||!a.anim?a.dom.style.height=a.addUnits(c):a.anim({height:{to:c}},a.preanim(arguments,1));
return a;},getBorderWidth:function(a){return this.addStyles(a,J);},getPadding:function(a){return this.addStyles(a,ae);},clip:function(){var b=this,a=b.dom;if(!ag(a,aj)){ag(a,aj,true);ag(a,L,{o:b.getStyle(X),x:b.getStyle(V),y:b.getStyle(aa)});b.setStyle(X,Y);b.setStyle(V,Y);b.setStyle(aa,Y);}return b;
},unclip:function(){var c=this,a=c.dom;if(ag(a,aj)){ag(a,aj,false);var b=ag(a,L);if(b.o){c.setStyle(X,b.o);}if(b.x){c.setStyle(V,b.x);}if(b.y){c.setStyle(aa,b.y);}}return c;},addStyles:function(h,i){var b=0,a=h.match(Q),c,d,e,g=a.length;for(e=0;e<g;e++){c=a[e];d=c&&parseInt(this.getStyle(i[c]),10);if(d){b+=R.abs(d);
}}return b;},margins:H};}());Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var d="_internal",c=/(\d+\.?\d+)px/;
return{applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this;},getStyles:function(){var a={};Ext.each(arguments,function(b){a[b]=this.getStyle(b);},this);return a;},setOverflow:function(b){var a=this.dom;if(b=="auto"&&Ext.isMac&&Ext.isGecko2){a.style.overflow="hidden";(function(){a.style.overflow="auto";
}).defer(1);}else{a.style.overflow=b;}},boxWrap:function(b){b=b||"x-box";var a=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+String.format(Ext.Element.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",a.dom).appendChild(this.dom);return a;},setSize:function(b,i,h){var a=this;if(typeof b=="object"){i=b.height;
b=b.width;}b=a.adjustWidth(b);i=a.adjustHeight(i);if(!h||!a.anim){a.dom.style.width=a.addUnits(b);a.dom.style.height=a.addUnits(i);}else{a.anim({width:{to:b},height:{to:i}},a.preanim(arguments,2));}return a;},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle("height"))||0;
if(!a.isBorderBox()){b+=a.getFrameWidth("tb");}}return b;},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!a){a=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){a+=this.getFrameWidth("lr");}}return a;},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:(this.getPadding(a)+this.getBorderWidth(a));
},addClassOnOver:function(a){this.hover(function(){Ext.fly(this,d).addClass(a);},function(){Ext.fly(this,d).removeClass(a);});return this;},addClassOnFocus:function(a){this.on("focus",function(){Ext.fly(this,d).addClass(a);},this.dom);this.on("blur",function(){Ext.fly(this,d).removeClass(a);},this.dom);
return this;},addClassOnClick:function(b){var a=this.dom;this.on("mousedown",function(){Ext.fly(a,d).addClass(b);var h=Ext.getDoc(),i=function(){Ext.fly(a,d).removeClass(b);h.removeListener("mouseup",i);};h.on("mouseup",i);});return this;},getViewSize:function(){var b=document,a=this.dom,i=(a==b||a==b.body);
if(i){var h=Ext.lib.Dom;return{width:h.getViewWidth(),height:h.getViewHeight()};}else{return{width:a.clientWidth,height:a.clientHeight};}},getStyleSize:function(){var n=this,h,o,a=document,b=this.dom,p=(b==a||b==a.body),q=b.style;if(p){var m=Ext.lib.Dom;return{width:m.getViewWidth(),height:m.getViewHeight()};
}if(q.width&&q.width!="auto"){h=parseFloat(q.width);if(n.isBorderBox()){h-=n.getFrameWidth("lr");}}if(q.height&&q.height!="auto"){o=parseFloat(q.height);if(n.isBorderBox()){o-=n.getFrameWidth("tb");}}return{width:h||n.getWidth(true),height:o||n.getHeight(true)};},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)};
},repaint:function(){var a=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(a).removeClass("x-repaint");},1);return this;},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable");
},getMargins:function(b){var a=this,i,k={t:"top",l:"left",r:"right",b:"bottom"},j={};if(!b){for(i in a.margins){j[k[i]]=parseFloat(a.getStyle(a.margins[i]))||0;}return j;}else{return a.addStyles.call(a,b,a.margins);}}};}());(function(){var s=Ext.lib.Dom,r="left",n="right",p="top",l="bottom",m="position",q="static",o="relative",u="auto",t="z-index";
Ext.Element.addMethods({getX:function(){return s.getX(this.dom);},getY:function(){return s.getY(this.dom);},getXY:function(){return s.getXY(this.dom);},getOffsetsTo:function(b){var c=this.getXY(),a=Ext.fly(b,"_internal").getXY();return[c[0]-a[0],c[1]-a[1]];},setX:function(b,a){return this.setXY([b,this.getY()],this.animTest(arguments,a,1));
},setY:function(a,b){return this.setXY([this.getX(),a],this.animTest(arguments,b,1));},setLeft:function(a){this.setStyle(r,this.addUnits(a));return this;},setTop:function(a){this.setStyle(p,this.addUnits(a));return this;},setRight:function(a){this.setStyle(n,this.addUnits(a));return this;},setBottom:function(a){this.setStyle(l,this.addUnits(a));
return this;},setXY:function(c,b){var a=this;if(!b||!a.anim){s.setXY(a.dom,c);}else{a.anim({points:{to:c}},a.preanim(arguments,1),"motion");}return a;},setLocation:function(b,c,a){return this.setXY([b,c],this.animTest(arguments,a,2));},moveTo:function(b,c,a){return this.setXY([b,c],this.animTest(arguments,a,2));
},getLeft:function(a){return !a?this.getX():parseInt(this.getStyle(r),10)||0;},getRight:function(b){var a=this;return !b?a.getX()+a.getWidth():(a.getLeft(true)+a.getWidth())||0;},getTop:function(a){return !a?this.getY():parseInt(this.getStyle(p),10)||0;},getBottom:function(b){var a=this;return !b?a.getY()+a.getHeight():(a.getTop(true)+a.getHeight())||0;
},position:function(c,d,b,e){var a=this;if(!c&&a.isStyle(m,q)){a.setStyle(m,o);}else{if(c){a.setStyle(m,c);}}if(d){a.setStyle(t,d);}if(b||e){a.setXY([b||false,e||false]);}},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:q});return this;},getPositioning:function(){var a=this.getStyle(r);
var b=this.getStyle(p);return{position:this.getStyle(m),left:a,right:a?"":this.getStyle(n),top:b,bottom:b?"":this.getStyle(l),"z-index":this.getStyle(t)};},setPositioning:function(b){var c=this,a=c.dom.style;c.setStyle(b);if(b.right==u){a.right="";}if(b.bottom==u){a.bottom="";}return c;},translatePoints:function(a,b){b=isNaN(a[1])?b:a[1];
a=isNaN(a[0])?a:a[0];var e=this,d=e.isStyle(m,o),c=e.getXY(),h=parseInt(e.getStyle(r),10),g=parseInt(e.getStyle(p),10);h=!isNaN(h)?h:(d?0:e.dom.offsetLeft);g=!isNaN(g)?g:(d?0:e.dom.offsetTop);return{left:(a-c[0]+h),top:(b-c[1]+g)};},animTest:function(a,b,c){return !!b&&this.preanim?this.preanim(a,c):false;
}});})();Ext.Element.addMethods({setBox:function(k,j,h){var l=this,i=k.width,m=k.height;if((j&&!l.autoBoxAdjust)&&!l.isBorderBox()){i-=(l.getBorderWidth("lr")+l.getPadding("lr"));m-=(l.getBorderWidth("tb")+l.getPadding("tb"));}l.setBounds(k.x,k.y,i,m,l.animTest.call(l,arguments,h,2));return l;},getBox:function(A,B){var F=this,E,y,z,l=F.getBorderWidth,w=F.getPadding,r,h,t,C;
if(!B){E=F.getXY();}else{y=parseInt(F.getStyle("left"),10)||0;z=parseInt(F.getStyle("top"),10)||0;E=[y,z];}var x=F.dom,D=x.offsetWidth,b=x.offsetHeight,G;if(!A){G={x:E[0],y:E[1],0:E[0],1:E[1],width:D,height:b};}else{r=l.call(F,"l")+w.call(F,"l");h=l.call(F,"r")+w.call(F,"r");t=l.call(F,"t")+w.call(F,"t");
C=l.call(F,"b")+w.call(F,"b");G={x:E[0]+r,y:E[1]+t,0:E[0]+r,1:E[1]+t,width:D-(r+h),height:b-(t+C)};}G.right=G.x+G.width;G.bottom=G.y+G.height;return G;},move:function(w,r,q){var n=this,t=n.getXY(),v=t[0],x=t[1],p=[v-r,x],u=[v+r,x],y=[v,x-r],s=[v,x+r],o={l:p,left:p,r:u,right:u,t:y,top:y,up:y,b:s,bottom:s,down:s};
w=w.toLowerCase();n.moveTo(o[w][0],o[w][1],n.animTest.call(n,arguments,q,2));},setLeftTop:function(h,i){var e=this,g=e.dom.style;g.left=e.addUnits(h);g.top=e.addUnits(i);return e;},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom);},setBounds:function(h,j,l,i,m){var k=this;if(!m||!k.anim){k.setSize(l,i);
k.setLocation(h,j);}else{k.anim({points:{to:[h,j]},width:{to:k.adjustWidth(l)},height:{to:k.adjustHeight(i)}},k.preanim(arguments,4),"motion");}return k;},setRegion:function(c,d){return this.setBounds(c.left,c.top,c.right-c.left,c.bottom-c.top,this.animTest.call(this,arguments,d,1));}});Ext.Element.addMethods({isScrollable:function(){var b=this.dom;
return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth;},scrollTo:function(d,c){this.dom["scroll"+(/top/i.test(d)?"Top":"Left")]=c;return this;},getScroll:function(){var l=this.dom,o=document,n=o.body,d=o.documentElement,m,j,k;if(l==o||l==n){if(Ext.isIE&&Ext.isStrict){m=d.scrollLeft;j=d.scrollTop;
}else{m=window.pageXOffset;j=window.pageYOffset;}k={left:m||(n?n.scrollLeft:0),top:j||(n?n.scrollTop:0)};}else{k={left:l.scrollLeft,top:l.scrollTop};}return k;}});Ext.Element.addMethods({scrollTo:function(l,j,m){var i=/top/i.test(l),k=this,o=k.dom,n;if(!m||!k.anim){n="scroll"+(i?"Top":"Left"),o[n]=j;
}else{n="scroll"+(i?"Left":"Top"),k.anim({scroll:{to:i?[o[n],j]:[j,o[n]]}},k.preanim(arguments,2),"scroll");}return k;},scrollIntoView:function(w,b){var v=Ext.getDom(w)||Ext.getBody().dom,r=this.dom,l=this.getOffsetsTo(v),C=l[0]+v.scrollLeft,B=l[1]+v.scrollTop,A=B+r.offsetHeight,c=C+r.offsetWidth,z=v.clientHeight,o=parseInt(v.scrollTop,10),x=parseInt(v.scrollLeft,10),t=o+z,y=x+v.clientWidth;
if(r.offsetHeight>z||B<o){v.scrollTop=B;}else{if(A>t){v.scrollTop=A-z;}}v.scrollTop=v.scrollTop;if(b!==false){if(r.offsetWidth>v.clientWidth||C<x){v.scrollLeft=C;}else{if(c>y){v.scrollLeft=c-v.clientWidth;}}v.scrollLeft=v.scrollLeft;}return this;},scrollChildIntoView:function(c,d){Ext.fly(c,"_scrollChildIntoView").scrollIntoView(this,d);
},scroll:function(v,q,x){if(!this.isScrollable()){return;}var w=this.dom,z=w.scrollLeft,h=w.scrollTop,u=w.scrollWidth,s=w.scrollHeight,y=w.clientWidth,r=w.clientHeight,A=false,l,t={l:Math.min(z+q,u-y),r:l=Math.max(z-q,0),t:Math.max(h-q,0),b:Math.min(h+q,s-r)};t.d=t.b;t.u=t.t;v=v.substr(0,1);if((l=t[v])>-1){A=true;
this.scrollTo(v=="l"||v=="r"?"left":"top",l,this.preanim(arguments,2));}return A;}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.addMethods(function(){var n="visibility",q="display",s="hidden",v="offsets",w="none",t="originalDisplay",r="visibilityMode",p=Ext.Element.DISPLAY,o=Ext.Element.data,m=function(b){var a=o(b,t);
if(a===undefined){o(b,t,a="");}return a;},u=function(a){var b=o(a,r);if(b===undefined){o(a,r,b=1);}return b;};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){o(this.dom,r,a);return this;},animate:function(d,b,c,a,e){this.anim(d,{duration:b,callback:c,easing:a},e);return this;
},anim:function(i,h,b,e,a,c){b=b||"run";h=h||{};var g=this,d=Ext.lib.Anim[b](g.dom,i,(h.duration||e)||0.35,(h.easing||a)||"easeOut",function(){if(c){c.call(g);}if(h.callback){h.callback.call(h.scope||g,g,h);}},g);h.anim=d;return d;},preanim:function(a,b){return !a[b]?false:(typeof a[b]=="object"?a[b]:{duration:a[b+1],callback:a[b+2],easing:a[b+3]});
},isVisible:function(){return !this.isStyle(n,s)&&!this.isStyle(q,w);},setVisible:function(d,h){var g=this,a,b,c,e=g.dom;if(typeof h=="string"){a=h==q;b=h==n;c=h==v;h=false;}else{a=u(this.dom)==p;b=!a;}if(!h||!g.anim){if(a){g.setDisplayed(d);}else{if(c){if(!d){g.hideModeStyles={position:g.getStyle("position"),top:g.getStyle("top"),left:g.getStyle("left")};
g.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"});}else{g.applyStyles(g.hideModeStyles||{position:"",top:"",left:""});}}else{g.fixDisplay();e.style.visibility=d?"visible":s;}}}else{if(d){g.setOpacity(0.01);g.setVisible(true);}g.anim({opacity:{to:(d?1:0)}},g.preanim(arguments,1),null,0.35,"easeIn",function(){if(!d){e.style[a?q:n]=(a)?w:s;
Ext.fly(e).setOpacity(1);}});}return g;},toggle:function(a){var b=this;b.setVisible(!b.isVisible(),b.preanim(arguments,0));return b;},setDisplayed:function(a){if(typeof a=="boolean"){a=a?m(this.dom):w;}this.setStyle(q,a);return this;},fixDisplay:function(){var a=this;if(a.isStyle(q,w)){a.setStyle(n,s);
a.setStyle(q,m(this.dom));if(a.isStyle(q,w)){a.setStyle(q,"block");}}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this;}this.setVisible(false,this.preanim(arguments,0));return this;},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this;}this.setVisible(true,this.preanim(arguments,0));
return this;}};}());Ext.Element.addMethods(function(){var j="visibility",l="display",m="hidden",n="none",k="x-masked",o="x-masked-relative",i=Ext.Element.data;return{isVisible:function(c){var b=!this.isStyle(j,m)&&!this.isStyle(l,n),a=this.dom.parentNode;if(c!==true||!b){return b;}while(a&&!/^body/i.test(a.tagName)){if(!Ext.fly(a,"_isVisible").isVisible()){return false;
}a=a.parentNode;}return true;},isDisplayed:function(){return !this.isStyle(l,n);},enableDisplayMode:function(a){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(a)){i(this.dom,"originalDisplay",a);}return this;},mask:function(e,a){var r=this,c=r.dom,s=Ext.DomHelper,b="ext-el-mask-msg",g,h;
if(!/^body/i.test(c.tagName)&&r.getStyle("position")=="static"){r.addClass(o);}if((g=i(c,"maskMsg"))){g.remove();}if((g=i(c,"mask"))){g.remove();}h=s.append(c,{cls:"ext-el-mask"},true);i(c,"mask",h);r.addClass(k);h.setDisplayed(true);if(typeof e=="string"){var d=s.append(c,{cls:b,cn:{tag:"div"}},true);
i(c,"maskMsg",d);d.dom.className=a?b+" "+a:b;d.dom.firstChild.innerHTML=e;d.setDisplayed(true);d.center(r);}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&r.getStyle("height")=="auto"){h.setSize(undefined,r.getHeight());}return h;},unmask:function(){var b=this,a=b.dom,d=i(a,"mask"),c=i(a,"maskMsg");if(d){if(c){c.remove();
i(a,"maskMsg",undefined);}d.remove();i(a,"mask",undefined);}b.removeClass([k,o]);},isMasked:function(){var a=i(this.dom,"mask");return a&&a.isVisible();},createShim:function(){var b=document.createElement("iframe"),a;b.frameBorder="0";b.className="ext-shim";b.src=Ext.SSL_SECURE_URL;a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));
a.autoBoxAdjust=false;return a;}};}());Ext.Element.addMethods({addKeyListener:function(e,h,i){var g;if(typeof e!="object"||Ext.isArray(e)){g={key:e,fn:h,scope:i};}else{g={key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:h,scope:i};}return new Ext.KeyMap(this,g);},addKeyMap:function(b){return new Ext.KeyMap(this,b);
}});(function(){var C=null,S=undefined,X=true,H=false,Y="setX",aa="setY",R="setXY",U="left",W="bottom",I="top",V="right",K="height",M="width",Z="points",E="hidden",B="absolute",G="visible",N="motion",T="position",J="easeOut",O=new Ext.Element.Flyweight(),F={},D=function(a){return a||{};},Q=function(a){O.dom=a;
O.id=Ext.id(a);return O;},P=function(a){if(!F[a]){F[a]=[];}return F[a];},L=function(a,b){F[a]=b;};Ext.enableFx=X;Ext.Fx={switchStatements:function(b,a,c){return a.apply(this,c[b]);},slideIn:function(a,d){d=D(d);var n=this,b=n.dom,k=b.style,i,h,l,e,g,k,o,j,m,c;a=a||"t";n.queueFx(d,function(){i=Q(b).getXY();
Q(b).fixDisplay();h=Q(b).getFxRestore();l={x:i[0],y:i[1],0:i[0],1:i[1],width:b.offsetWidth,height:b.offsetHeight};l.right=l.x+l.width;l.bottom=l.y+l.height;Q(b).setWidth(l.width).setHeight(l.height);e=Q(b).fxWrap(h.pos,d,E);k.visibility=G;k.position=B;function q(){Q(b).fxUnwrap(e,h.pos,d);k.width=h.width;
k.height=h.height;Q(b).afterFx(d);}j={to:[l.x,l.y]};m={to:l.width};c={to:l.height};function p(r,t,u,ae,w,x,y,z,v,s,A){var ad={};Q(r).setWidth(u).setHeight(ae);if(Q(r)[w]){Q(r)[w](x);}t[y]=t[z]="0";if(v){ad.width=v;}if(s){ad.height=s;}if(A){ad.points=A;}return ad;}o=Q(b).switchStatements(a.toLowerCase(),p,{t:[e,k,l.width,0,C,C,U,W,C,c,C],l:[e,k,0,l.height,C,C,V,I,m,C,C],r:[e,k,l.width,l.height,Y,l.right,U,I,C,C,j],b:[e,k,l.width,l.height,aa,l.bottom,U,I,C,c,j],tl:[e,k,0,0,C,C,V,W,m,c,j],bl:[e,k,0,0,aa,l.y+l.height,V,I,m,c,j],br:[e,k,0,0,R,[l.right,l.bottom],U,I,m,c,j],tr:[e,k,0,0,Y,l.x+l.width,U,W,m,c,j]});
k.visibility=G;Q(e).show();arguments.callee.anim=Q(e).fxanim(o,d,N,0.5,J,q);});return n;},slideOut:function(g,i){i=D(i);var d=this,h=d.dom,a=h.style,l=d.getXY(),j,k,c,b,e={to:0};g=g||"t";d.queueFx(i,function(){k=Q(h).getFxRestore();c={x:l[0],y:l[1],0:l[0],1:l[1],width:h.offsetWidth,height:h.offsetHeight};
c.right=c.x+c.width;c.bottom=c.y+c.height;Q(h).setWidth(c.width).setHeight(c.height);j=Q(h).fxWrap(k.pos,i,G);a.visibility=G;a.position=B;Q(j).setWidth(c.width).setHeight(c.height);function n(){i.useDisplay?Q(h).setDisplayed(H):Q(h).hide();Q(h).fxUnwrap(j,k.pos,i);a.width=k.width;a.height=k.height;Q(h).afterFx(i);
}function m(t,v,x,u,p,w,q,o,r){var s={};t[v]=t[x]="0";s[u]=p;if(w){s[w]=q;}if(o){s[o]=r;}return s;}b=Q(h).switchStatements(g.toLowerCase(),m,{t:[a,U,W,K,e],l:[a,V,I,M,e],r:[a,U,I,M,e,Z,{to:[c.right,c.y]}],b:[a,U,I,K,e,Z,{to:[c.x,c.bottom]}],tl:[a,V,W,M,e,K,e],bl:[a,V,I,M,e,K,e,Z,{to:[c.x,c.bottom]}],br:[a,U,I,M,e,K,e,Z,{to:[c.x+c.width,c.bottom]}],tr:[a,U,W,M,e,K,e,Z,{to:[c.right,c.y]}]});
arguments.callee.anim=Q(j).fxanim(b,i,N,0.5,J,n);});return d;},puff:function(c){c=D(c);var e=this,d=e.dom,a=d.style,h,b,g;e.queueFx(c,function(){h=Q(d).getWidth();b=Q(d).getHeight();Q(d).clearOpacity();Q(d).show();g=Q(d).getFxRestore();function i(){c.useDisplay?Q(d).setDisplayed(H):Q(d).hide();Q(d).clearOpacity();
Q(d).setPositioning(g.pos);a.width=g.width;a.height=g.height;a.fontSize="";Q(d).afterFx(c);}arguments.callee.anim=Q(d).fxanim({width:{to:Q(d).adjustWidth(h*2)},height:{to:Q(d).adjustHeight(b*2)},points:{by:[-h*0.5,-b*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},c,N,0.5,J,i);});return e;},switchOff:function(d){d=D(d);
var a=this,e=a.dom,c=e.style,b;a.queueFx(d,function(){Q(e).clearOpacity();Q(e).clip();b=Q(e).getFxRestore();function g(){d.useDisplay?Q(e).setDisplayed(H):Q(e).hide();Q(e).clearOpacity();Q(e).setPositioning(b.pos);c.width=b.width;c.height=b.height;Q(e).afterFx(d);}Q(e).fxanim({opacity:{to:0.3}},C,C,0.1,C,function(){Q(e).clearOpacity();
(function(){Q(e).fxanim({height:{to:1},points:{by:[0,Q(e).getHeight()*0.5]}},d,N,0.3,"easeIn",g);}).defer(100);});});return a;},highlight:function(h,c){c=D(c);var e=this,d=e.dom,b=c.attr||"backgroundColor",a={},g;e.queueFx(c,function(){Q(d).clearOpacity();Q(d).show();function i(){d.style[b]=g;Q(d).afterFx(c);
}g=d.style[b];a[b]={from:h||"ffff9c",to:c.endColor||Q(d).getColor(b)||"ffffff"};arguments.callee.anim=Q(d).fxanim(a,c,"color",1,"easeIn",i);});return e;},frame:function(b,g,c){c=D(c);var h=this,d=h.dom,a,e;h.queueFx(c,function(){b=b||"#C3DAF9";if(b.length==6){b="#"+b;}g=g||1;Q(d).show();var i=Q(d).getXY(),k={x:i[0],y:i[1],0:i[0],1:i[1],width:d.offsetWidth,height:d.offsetHeight},l=function(){a=Q(document.body||document.documentElement).createChild({style:{position:B,"z-index":35000,border:"0px solid "+b}});
return a.queueFx({},j);};arguments.callee.anim={isAnimated:true,stop:function(){g=0;a.stopFx();}};function j(){var m=Ext.isBorderBox?2:1;e=a.anim({top:{from:k.y,to:k.y-20},left:{from:k.x,to:k.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:k.height,to:k.height+20*m},width:{from:k.width,to:k.width+20*m}},{duration:c.duration||1,callback:function(){a.remove();
--g>0?l():Q(d).afterFx(c);}});arguments.callee.anim={isAnimated:true,stop:function(){e.stop();}};}l();});return h;},pause:function(a){var b=this.dom,c;this.queueFx({},function(){c=setTimeout(function(){Q(b).afterFx({});},a*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(c);Q(b).afterFx({});
}};});return this;},fadeIn:function(b){b=D(b);var d=this,c=d.dom,a=b.endOpacity||1;d.queueFx(b,function(){Q(c).setOpacity(0);Q(c).fixDisplay();c.style.visibility=G;arguments.callee.anim=Q(c).fxanim({opacity:{to:a}},b,C,0.5,J,function(){if(a==1){Q(c).clearOpacity();}Q(c).afterFx(b);});});return d;},fadeOut:function(e){e=D(e);
var b=this,a=b.dom,c=a.style,d=e.endOpacity||0;b.queueFx(e,function(){arguments.callee.anim=Q(a).fxanim({opacity:{to:d}},e,C,0.5,J,function(){if(d==0){Ext.Element.data(a,"visibilityMode")==Ext.Element.DISPLAY||e.useDisplay?c.display="none":c.visibility=E;Q(a).clearOpacity();}Q(a).afterFx(e);});});return b;
},scale:function(c,b,a){this.shift(Ext.apply({},a,{width:c,height:b}));return this;},shift:function(a){a=D(a);var b=this.dom,c={};this.queueFx(a,function(){for(var d in a){if(a[d]!=S){c[d]={to:a[d]};}}c.width?c.width.to=Q(b).adjustWidth(a.width):c;c.height?c.height.to=Q(b).adjustWidth(a.height):c;if(c.x||c.y||c.xy){c.points=c.xy||{to:[c.x?c.x.to:Q(b).getX(),c.y?c.y.to:Q(b).getY()]};
}arguments.callee.anim=Q(b).fxanim(c,a,N,0.35,J,function(){Q(b).afterFx(a);});});return this;},ghost:function(i,k){k=D(k);var g=this,j=g.dom,c=j.style,e={opacity:{to:0},points:{}},b=e.points,a,d,h;i=i||"b";g.queueFx(k,function(){a=Q(j).getFxRestore();d=Q(j).getWidth();h=Q(j).getHeight();function l(){k.useDisplay?Q(j).setDisplayed(H):Q(j).hide();
Q(j).clearOpacity();Q(j).setPositioning(a.pos);c.width=a.width;c.height=a.height;Q(j).afterFx(k);}b.by=Q(j).switchStatements(i.toLowerCase(),function(m,n){return[m,n];},{t:[0,-h],l:[-d,0],r:[d,0],b:[0,h],tl:[-d,-h],bl:[-d,h],br:[d,h],tr:[d,-h]});arguments.callee.anim=Q(j).fxanim(e,k,N,0.5,J,l);});return g;
},syncFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:H,concurrent:X,stopFx:H});return a;},sequenceFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:H,concurrent:H,stopFx:H});return a;},nextFx:function(){var a=P(this.dom.id)[0];if(a){a.call(this);}},hasActiveFx:function(){return P(this.dom.id)[0];
},stopFx:function(d){var c=this,a=c.dom.id;if(c.hasActiveFx()){var b=P(a)[0];if(b&&b.anim){if(b.anim.isAnimated){L(a,[b]);b.anim.stop(d!==undefined?d:X);}else{L(a,[]);}}}return c;},beforeFx:function(a){if(this.hasActiveFx()&&!a.concurrent){if(a.stopFx){this.stopFx();return X;}return H;}return X;},hasFxBlock:function(){var a=P(this.dom.id);
return a&&a[0]&&a[0].block;},queueFx:function(a,d){var c=Q(this.dom);if(!c.hasFxBlock()){Ext.applyIf(a,c.fxDefaults);if(!a.concurrent){var b=c.beforeFx(a);d.block=a.block;P(c.dom.id).push(d);if(b){c.nextFx();}}else{d.call(c);}}return c;},fxWrap:function(c,e,h){var g=this.dom,a,b;if(!e.wrap||!(a=Ext.getDom(e.wrap))){if(e.fixPosition){b=Q(g).getXY();
}var d=document.createElement("div");d.style.visibility=h;a=g.parentNode.insertBefore(d,g);Q(a).setPositioning(c);if(Q(a).isStyle(T,"static")){Q(a).position("relative");}Q(g).clearPositioning("auto");Q(a).clip();a.appendChild(g);if(b){Q(a).setXY(b);}}return a;},fxUnwrap:function(b,d,e){var a=this.dom;
Q(a).clearPositioning();Q(a).setPositioning(d);if(!e.wrap){var c=Q(b).dom.parentNode;c.insertBefore(a,b);Q(b).remove();}},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height};},afterFx:function(b){var c=this.dom,a=c.id;if(b.afterStyle){Q(c).setStyle(b.afterStyle);
}if(b.afterCls){Q(c).addClass(b.afterCls);}if(b.remove==X){Q(c).remove();}if(b.callback){b.callback.call(b.scope,Q(c));}if(!b.concurrent){P(a).shift();Q(c).nextFx();}},fxanim:function(g,e,a,d,h,b){a=a||"run";e=e||{};var c=Ext.lib.Anim[a](this.dom,g,(e.duration||d)||0.35,(e.easing||h)||J,b,this);e.anim=c;
return c;}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx);})();Ext.CompositeElementLite=function(c,d){this.elements=[];this.add(c,d);this.el=new Ext.Element.Flyweight();};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(d){var c=this.el;c.dom=d;c.id=d.id;return c;},transformElement:function(b){return Ext.getDom(b);
},getCount:function(){return this.elements.length;},add:function(l,h){var k=this,j=k.elements;if(!l){return this;}if(typeof l=="string"){l=Ext.Element.selectorFunction(l,h);}else{if(l.isComposite){l=l.elements;}else{if(!Ext.isIterable(l)){l=[l];}}}for(var m=0,i=l.length;m<i;++m){j.push(k.transformElement(l[m]));
}return k;},invoke:function(e,l){var o=this,i=o.elements,m=i.length,n,k;for(k=0;k<m;k++){n=i[k];if(n){Ext.Element.prototype[e].apply(o.getElement(n),l);}}return o;},item:function(e){var h=this,i=h.elements[e],g=null;if(i){g=h.getElement(i);}return g;},addListener:function(e,i,n,l){var o=this.elements,q=o.length,m,p;
for(m=0;m<q;m++){p=o[m];if(p){Ext.EventManager.on(p,e,i,n||p,l);}}return this;},each:function(e,i){var o=this,k=o.elements,m=k.length,l,n;for(l=0;l<m;l++){n=k[l];if(n){n=this.getElement(n);if(e.call(i||n,n,o,l)===false){break;}}}return o;},fill:function(d){var c=this;c.elements=[];c.add(d);return c;},filter:function(j){var i=[],g=this,k=g.elements,h=Ext.isFunction(j)?j:function(a){return a.is(j);
};g.each(function(a,c,b){if(h(a,b)!==false){i[i.length]=g.transformElement(a);}});g.elements=i;return g;},indexOf:function(b){return this.elements.indexOf(this.transformElement(b));},replaceElement:function(d,h,j){var i=!isNaN(d)?d:this.indexOf(d),k;if(i>-1){h=Ext.getDom(h);if(j){k=this.elements[i];k.parentNode.insertBefore(h,k);
Ext.removeNode(k);}this.elements.splice(i,1,h);}return this;},clear:function(){this.elements=[];}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;(function(){var g,d=Ext.Element.prototype,e=Ext.CompositeElementLite.prototype;for(g in d){if(Ext.isFunction(d[g])){(function(a){e[a]=e[a]||function(){return this.invoke(a,arguments);
};}).call(e,g);}}})();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select;}Ext.Element.select=function(e,d){var g;if(typeof e=="string"){g=Ext.Element.selectorFunction(e,d);}else{if(e.length!==undefined){g=e;}else{throw"Invalid selector";}}return new Ext.CompositeElementLite(g);};Ext.select=Ext.Element.select;
Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(g,e){if(!g){return this;}if(typeof g=="string"){g=Ext.Element.selectorFunction(g,e);}var d=this.elements;Ext.each(g,function(a){d.push(Ext.get(a));});return this;},first:function(){return this.item(0);},last:function(){return this.item(this.getCount()-1);
},contains:function(b){return this.indexOf(b)!=-1;},removeElement:function(g,k){var h=this,j=this.elements,i;Ext.each(g,function(a){if((i=(j[a]||j[a=h.indexOf(a)]))){if(k){if(i.dom){i.remove();}else{Ext.removeNode(i);}}j.splice(a,1);}});return this;}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(c,d){this.elements=[];
this.add(c,d);},getElement:function(b){return b;},transformElement:function(b){return Ext.get(b);}});Ext.Element.select=function(g,h,e){var i;if(typeof g=="string"){i=Ext.Element.selectorFunction(g,e);}else{if(g.length!==undefined){i=g;}else{throw"Invalid selector";}}return(h===true)?new Ext.CompositeElement(i):new Ext.CompositeElementLite(i);
};Ext.select=Ext.Element.select;(function(){var n="beforerequest",k="requestcomplete",l="requestexception",q=undefined,m="load",p="POST",o="GET",j=window;Ext.data.Connection=function(a){Ext.apply(this,a);this.addEvents(n,k,l);Ext.data.Connection.superclass.constructor.call(this);};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(s){var g=this;
if(g.fireEvent(n,g,s)){if(s.el){if(!Ext.isEmpty(s.indicatorText)){g.indicatorText='<div class="loading-indicator">'+s.indicatorText+"</div>";}if(g.indicatorText){Ext.getDom(s.el).innerHTML=g.indicatorText;}s.success=(Ext.isFunction(s.success)?s.success:function(){}).createInterceptor(function(r){Ext.getDom(s.el).innerHTML=r.responseText;
});}var b=s.params,c=s.url||g.url,d,i={success:g.handleResponse,failure:g.handleFailure,scope:g,argument:{options:s},timeout:s.timeout||g.timeout},a,e;if(Ext.isFunction(b)){b=b.call(s.scope||j,s);}b=Ext.urlEncode(g.extraParams,Ext.isObject(b)?Ext.urlEncode(b):b);if(Ext.isFunction(c)){c=c.call(s.scope||j,s);
}if((a=Ext.getDom(s.form))){c=c||a.action;if(s.isUpload||/multipart\/form-data/i.test(a.getAttribute("enctype"))){return g.doFormUpload.call(g,s,b,c);}e=Ext.lib.Ajax.serializeForm(a);b=b?(b+"&"+e):e;}d=s.method||g.method||((b||s.xmlData||s.jsonData)?p:o);if(d===o&&(g.disableCaching&&s.disableCaching!==false)||s.disableCaching===true){var h=s.disableCachingParam||g.disableCachingParam;
c=Ext.urlAppend(c,h+"="+(new Date().getTime()));}s.headers=Ext.apply(s.headers||{},g.defaultHeaders||{});if(s.autoAbort===true||g.autoAbort){g.abort();}if((d==o||s.xmlData||s.jsonData)&&b){c=Ext.urlAppend(c,b);b="";}return(g.transId=Ext.lib.Ajax.request(d,c,i,b,s));}else{return s.callback?s.callback.apply(s.scope,[s,q,q]):null;
}},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):!!this.transId;},abort:function(a){if(a||this.isLoading()){Ext.lib.Ajax.abort(a||this.transId);}},handleResponse:function(b){this.transId=false;var a=b.argument.options;b.argument=a?a.argument:null;this.fireEvent(k,this,b,a);if(a.success){a.success.call(a.scope,b,a);
}if(a.callback){a.callback.call(a.scope,a,true,b);}},handleFailure:function(c,a){this.transId=false;var b=c.argument.options;c.argument=b?b.argument:null;this.fireEvent(l,this,c,b,a);if(b.failure){b.failure.call(b.scope,c,b);}if(b.callback){b.callback.call(b.scope,b,false,c);}},doFormUpload:function(a,d,c){var y=Ext.id(),e=document,b=e.createElement("iframe"),x=Ext.getDom(a.form),g=[],h,i="multipart/form-data",w={target:x.target,method:x.method,encoding:x.encoding,enctype:x.enctype,action:x.action};
Ext.fly(b).set({id:y,name:y,cls:"x-hidden",src:Ext.SSL_SECURE_URL});e.body.appendChild(b);if(Ext.isIE){document.frames[y].name=y;}Ext.fly(x).set({target:y,method:p,enctype:i,encoding:i,action:c||w.action});Ext.iterate(Ext.urlDecode(d,false),function(r,s){h=e.createElement("input");Ext.fly(h).set({type:"hidden",value:s,name:r});
x.appendChild(h);g.push(h);});function v(){var s=this,r={responseText:"",responseXML:null,argument:a.argument},C,t;try{C=b.contentWindow.document||b.contentDocument||j.frames[y].document;if(C){if(C.body){if(/textarea/i.test((t=C.body.firstChild||{}).tagName)){r.responseText=t.value;}else{r.responseText=C.body.innerHTML;
}}r.responseXML=C.XMLDocument||C;}}catch(u){}Ext.EventManager.removeListener(b,m,v,s);s.fireEvent(k,s,r,a);function B(z,E,A){if(Ext.isFunction(z)){z.apply(E,A);}}B(a.success,a.scope,[r,a]);B(a.callback,a.scope,[a,true,r]);if(!s.debugUploads){setTimeout(function(){Ext.removeNode(b);},100);}}Ext.EventManager.on(b,m,v,this);
x.submit();Ext.fly(x).set(w);Ext.each(g,function(r){Ext.removeNode(r);});}});})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(b){return Ext.lib.Ajax.serializeForm(b);}});Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var h="beforeupdate",l="update",m="failure";
function i(c){var b=this;b.transaction=null;if(c.argument.form&&c.argument.reset){try{c.argument.form.reset();}catch(a){}}if(b.loadScripts){b.renderer.render(b.el,c,b,j.createDelegate(b,[c]));}else{b.renderer.render(b.el,c,b);j.call(b,c);}}function j(c,b,a){this.fireEvent(b||l,this.el,c);if(Ext.isFunction(c.argument.callback)){c.argument.callback.call(c.argument.scope,this.el,Ext.isEmpty(a)?true:false,c,c.argument.options);
}}function k(a){j.call(this,a,m,!!(this.transaction=null));}return{constructor:function(b,c){var a=this;b=Ext.get(b);if(!c&&b.updateManager){return b.updateManager;}a.el=b;a.defaultUrl=null;a.addEvents(h,l,m);Ext.apply(a,Ext.Updater.defaults);a.transaction=null;a.refreshDelegate=a.refresh.createDelegate(a);
a.updateDelegate=a.update.createDelegate(a);a.formUpdateDelegate=(a.formUpdate||function(){}).createDelegate(a);a.renderer=a.renderer||a.getDefaultRenderer();Ext.Updater.superclass.constructor.call(a);},setRenderer:function(a){this.renderer=a;},getRenderer:function(){return this.renderer;},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer();
},setDefaultUrl:function(a){this.defaultUrl=a;},getEl:function(){return this.el;},update:function(o,q,b,g){var c=this,d,a;if(c.fireEvent(h,c.el,o,q)!==false){if(Ext.isObject(o)){d=o;o=d.url;q=q||d.params;b=b||d.callback;g=g||d.discardUrl;a=d.scope;if(!Ext.isEmpty(d.nocache)){c.disableCaching=d.nocache;
}if(!Ext.isEmpty(d.text)){c.indicatorText='<div class="loading-indicator">'+d.text+"</div>";}if(!Ext.isEmpty(d.scripts)){c.loadScripts=d.scripts;}if(!Ext.isEmpty(d.timeout)){c.timeout=d.timeout;}}c.showLoading();if(!g){c.defaultUrl=o;}if(Ext.isFunction(o)){o=o.call(c);}var e=Ext.apply({},{url:o,params:(Ext.isFunction(q)&&a)?q.createDelegate(a):q,success:i,failure:k,scope:c,callback:undefined,timeout:(c.timeout*1000),disableCaching:c.disableCaching,argument:{options:d,url:o,form:null,callback:b,scope:a||window,params:q}},d);
c.transaction=Ext.Ajax.request(e);}},formUpdate:function(e,c,a,d){var b=this;if(b.fireEvent(h,b.el,e,c)!==false){if(Ext.isFunction(c)){c=c.call(b);}e=Ext.getDom(e);b.transaction=Ext.Ajax.request({form:e,url:c,success:i,failure:k,scope:b,timeout:(b.timeout*1000),argument:{url:c,form:e,callback:d,reset:a}});
b.showLoading.defer(1,b);}},startAutoRefresh:function(e,d,b,a,g){var c=this;if(g){c.update(d||c.defaultUrl,b,a,true);}if(c.autoRefreshProcId){clearInterval(c.autoRefreshProcId);}c.autoRefreshProcId=setInterval(c.update.createDelegate(c,[d||c.defaultUrl,b,a,true]),e*1000);},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);
delete this.autoRefreshProcId;}},isAutoRefreshing:function(){return !!this.autoRefreshProcId;},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText;}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction);}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false;
},refresh:function(a){if(this.defaultUrl){this.update(this.defaultUrl,null,a,true);}}};}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(g,h,k,i){var j=Ext.get(g).getUpdater();
Ext.apply(j,i);j.update(h,k,i?i.callback:null);};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(i,g,e,h){i.update(g.responseText,e.loadScripts,h);}};(function(){Date.useStrict=false;function c(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(i,h){return b[h];
});}Date.formatCodeToRegex=function(b,g){var a=Date.parseCodes[b];if(a){a=typeof a=="function"?a():a;Date.parseCodes[b]=a;}return a?Ext.applyIf({c:a.c?c(a.c,g||"{0}"):a.c},a):{g:0,c:null,s:Ext.escapeRe(b)};};var d=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(h,i){var b=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");
var a=(h||"").match(b);return a?new Date(((a[1]||"")+a[2])*1):null;}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/";}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3);
},getShortDayName:function(a){return Date.dayNames[a].substring(0,3);},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()];},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var e="Y-m-dTH:i:sP",a=[],b=0,i=e.length;
b<i;++b){var k=e.charAt(b);a.push(k=="T"?"'T'":Date.getFormatCode(k));}return a.join(" + ");},U:"Math.round(this.getTime() / 1000)"},isValid:function(o,q,p,b,i,h,m){b=b||0;i=i||0;h=h||0;m=m||0;var a=new Date(o,q-1,p,b,i,h,m);return o==a.getFullYear()&&q==a.getMonth()+1&&p==a.getDate()&&b==a.getHours()&&i==a.getMinutes()&&h==a.getSeconds()&&m==a.getMilliseconds();
},parseDate:function(h,a,i){var b=Date.parseFunctions;if(b[a]==null){Date.createParser(a);}return b[a](h,Ext.isDefined(i)?i:Date.useStrict);},getFormatCode:function(a){var b=Date.formatCodes[a];if(b){b=typeof b=="function"?b():b;Date.formatCodes[a]=b;}return b||("'"+String.escape(a)+"'");},createFormat:function(j){var k=[],i=false,a="";
for(var b=0;b<j.length;++b){a=j.charAt(b);if(!i&&a=="\\"){i=true;}else{if(i){i=false;k.push("'"+String.escape(a)+"'");}else{k.push(Date.getFormatCode(a));}}}Date.formatFunctions[j]=new Function("return "+k.join("+"));},createParser:function(){var a=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y, 0, 1, h, i, s, ms);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y, m, d, h, i, s, ms);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");
return function(i){var t=Date.parseRegexes.length,b=1,s=[],o=[],p=false,u="";for(var q=0;q<i.length;++q){u=i.charAt(q);if(!p&&u=="\\"){p=true;}else{if(p){p=false;o.push(String.escape(u));}else{var r=d(u,b);b+=r.g;o.push(r.s);if(r.g&&r.c){s.push(r.c);}}}}Date.parseRegexes[t]=new RegExp("^"+o.join("")+"$");
Date.parseFunctions[i]=new Function("input","strict",c(a,t,s.join("")));};}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var b=[],a=0;a<7;b.push(Date.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"};
},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"};
},M:function(){for(var b=[],a=0;a<12;b.push(Date.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},d("F"));},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return d("Y");
},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM)"},g:function(){return d("G");
},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return d("H");},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],i=[d("Y",1),d("m",2),d("d",3),d("h",4),d("i",5),d("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",d("P",8).c,"}else{",d("O",8).c,"}","}"].join("\n")}];
for(var a=0,h=i.length;a<h;++a){b.push(i[a].c);}return{g:1,c:b.join(""),s:[i[0].s,"(?:","-",i[1].s,"(?:","-",i[2].s,"(?:","(?:T| )?",i[3].s,":",i[4].s,"(?::",i[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")};},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}});
}());Ext.apply(Date.prototype,{dateFormat:function(b){if(Date.formatFunctions[b]==null){Date.createFormat(b);}return Date.formatFunctions[b].call(this);},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"");},getGMTOffset:function(b){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(b?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0");
},getDayOfYear:function(){var d=0,h=this.clone(),g=this.getMonth(),i;for(i=0,h.setDate(1),h.setMonth(0);i<g;h.setMonth(++i)){d+=h.getDaysInMonth();}return d+this.getDate()-1;},getWeekOfYear:function(){var d=86400000,c=7*d;return function(){var b=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/d,g=Math.floor(b/7),a=new Date(g*c).getUTCFullYear();
return g-Math.floor(Date.UTC(a,0,7)/c)+1;};}(),isLeapYear:function(){var b=this.getFullYear();return !!((b&3)==0&&(b%100||(b%400==0&&b)));},getFirstDayOfMonth:function(){var b=(this.getDay()-(this.getDate()-1))%7;return(b<0)?(b+7):b;},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay();
},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1);},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth());},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var a=this.getMonth();
return a==1&&this.isLeapYear()?29:b[a];};}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th";}},clone:function(){return new Date(this.getTime());},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset();
},clearTime:function(h){if(h){return this.clone().clearTime();}var c=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=c){for(var d=1,i=this.add(Date.HOUR,d);i.getDate()!=c;d++,i=this.add(Date.HOUR,d)){}this.setDate(c);this.setHours(i.getHours());
}return this;},add:function(d,i){var h=this.clone();if(!d||i===0){return h;}switch(d.toLowerCase()){case Date.MILLI:h.setMilliseconds(this.getMilliseconds()+i);break;case Date.SECOND:h.setSeconds(this.getSeconds()+i);break;case Date.MINUTE:h.setMinutes(this.getMinutes()+i);break;case Date.HOUR:h.setHours(this.getHours()+i);
break;case Date.DAY:h.setDate(this.getDate()+i);break;case Date.MONTH:var g=this.getDate();if(g>28){g=Math.min(g,this.getFirstDateOfMonth().add("mo",i).getLastDateOfMonth().getDate());}h.setDate(g);h.setMonth(this.getMonth()+i);break;case Date.YEAR:h.setFullYear(this.getFullYear()+i);break;}return h;
},between:function(g,e){var d=this.getTime();return g.getTime()<=d&&d<=e.getTime();}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(g){if(g<=-1){var h=Math.ceil(-g),i=Math.ceil(h/12),e=(h%12)?12-h%12:0;
this.setFullYear(this.getFullYear()-i);return this._xMonth(e);}else{return this._xMonth(g);}},setDate:function(b){return this.setTime(this.getTime()-(this.getDate()-b)*86400000);}});}Ext.util.MixedCollection=function(c,d){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");
this.allowFunctions=c===true;if(d){this.getKey=d;}Ext.util.MixedCollection.superclass.constructor.call(this);};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(d,g){if(arguments.length==1){g=arguments[0];d=this.getKey(g);}if(typeof d!="undefined"&&d!==null){var e=this.map[d];
if(typeof e!="undefined"){return this.replace(d,g);}this.map[d]=g;}this.length++;this.items.push(g);this.keys.push(d);this.fireEvent("add",this.length-1,g,d);return g;},getKey:function(b){return b.id;},replace:function(i,h){if(arguments.length==1){h=arguments[0];i=this.getKey(h);}var g=this.map[i];if(typeof i=="undefined"||i===null||typeof g=="undefined"){return this.add(i,h);
}var e=this.indexOfKey(i);this.items[e]=h;this.map[i]=h;this.fireEvent("replace",i,g,h);return h;},addAll:function(k){if(arguments.length>1||Ext.isArray(k)){var i=arguments.length>1?arguments:k;for(var g=0,j=i.length;g<j;g++){this.add(i[g]);}}else{for(var h in k){if(this.allowFunctions||typeof k[h]!="function"){this.add(h,k[h]);
}}}},each:function(k,g){var i=[].concat(this.items);for(var h=0,j=i.length;h<j;h++){if(k.call(g||i[h],i[h],h,j)===false){break;}}},eachKey:function(h,i){for(var e=0,g=this.keys.length;e<g;e++){h.call(i||window,this.keys[e],this.items[e],e,g);}},find:function(h,i){for(var e=0,g=this.items.length;e<g;e++){if(h.call(i||window,this.items[e],this.keys[e])){return this.items[e];
}}return null;},insert:function(e,d,g){if(arguments.length==2){g=arguments[1];d=this.getKey(g);}if(this.containsKey(d)){this.suspendEvents();this.removeKey(d);this.resumeEvents();}if(e>=this.length){return this.add(d,g);}this.length++;this.items.splice(e,0,g);if(typeof d!="undefined"&&d!==null){this.map[d]=g;
}this.keys.splice(e,0,d);this.fireEvent("add",e,g,d);return g;},remove:function(b){return this.removeAt(this.indexOf(b));},removeAt:function(e){if(e<this.length&&e>=0){this.length--;var g=this.items[e];this.items.splice(e,1);var d=this.keys[e];if(typeof d!="undefined"){delete this.map[d];}this.keys.splice(e,1);
this.fireEvent("remove",g,d);return g;}return false;},removeKey:function(b){return this.removeAt(this.indexOfKey(b));},getCount:function(){return this.length;},indexOf:function(b){return this.items.indexOf(b);},indexOfKey:function(b){return this.keys.indexOf(b);},item:function(d){var e=this.map[d],g=e!==undefined?e:(typeof d=="number")?this.items[d]:undefined;
return typeof g!="function"||this.allowFunctions?g:null;},itemAt:function(b){return this.items[b];},key:function(b){return this.map[b];},contains:function(b){return this.indexOf(b)!=-1;},containsKey:function(b){return typeof this.map[b]!="undefined";},clear:function(){this.length=0;this.items=[];this.keys=[];
this.map={};this.fireEvent("clear");},first:function(){return this.items[0];},last:function(){return this.items[this.length-1];},_sort:function(r,p,s){var n,m,o=String(p).toUpperCase()=="DESC"?-1:1,c=[],q=this.keys,i=this.items;s=s||function(a,b){return a-b;};for(n=0,m=i.length;n<m;n++){c[c.length]={key:q[n],value:i[n],index:n};
}c.sort(function(b,d){var a=s(b[r],d[r])*o;if(a===0){a=(b.index<d.index?-1:1);}return a;});for(n=0,m=c.length;n<m;n++){i[n]=c[n].value;q[n]=c[n].key;}this.fireEvent("sort",this);},sort:function(d,c){this._sort("value",d,c);},reorder:function(l){this.suspendEvents();var h=this.items,m=0,j=h.length,i=[],k=[];
for(oldIndex in l){i[l[oldIndex]]=h[oldIndex];}for(m=0;m<j;m++){if(l[m]==undefined){k.push(h[m]);}}for(m=0;m<j;m++){if(i[m]==undefined){i[m]=k.shift();}}this.clear();this.addAll(i);this.resumeEvents();this.fireEvent("sort",this);},keySort:function(d,c){this._sort("key",d,c||function(h,i){var a=String(h).toUpperCase(),b=String(i).toUpperCase();
return a>b?1:(a<b?-1:0);});},getRange:function(k,j){var i=this.items;if(i.length<1){return[];}k=k||0;j=Math.min(typeof j=="undefined"?this.length-1:j,this.length-1);var h,g=[];if(k<=j){for(h=k;h<=j;h++){g[g.length]=i[h];}}else{for(h=k;h>=j;h--){g[g.length]=i[h];}}return g;},filter:function(i,e,h,g){if(Ext.isEmpty(e,false)){return this.clone();
}e=this.createValueMatcher(e,h,g);return this.filterBy(function(a){return a&&e.test(a[i]);});},filterBy:function(o,i){var n=new Ext.util.MixedCollection();n.getKey=this.getKey;var l=this.keys,j=this.items;for(var k=0,m=j.length;k<m;k++){if(o.call(i||this,j[k],l[k])){n.add(l[k],j[k]);}}return n;},findIndex:function(h,i,k,g,j){if(Ext.isEmpty(i,false)){return -1;
}i=this.createValueMatcher(i,g,j);return this.findIndexBy(function(a){return a&&i.test(a[h]);},null,k);},findIndexBy:function(o,i,n){var l=this.keys,j=this.items;for(var k=(n||0),m=j.length;k<m;k++){if(o.call(i||this,j[k],l[k])){return k;}}return -1;},createValueMatcher:function(h,k,j,i){if(!h.exec){var g=Ext.escapeRe;
h=String(h);if(k===true){h=g(h);}else{h="^"+g(h);if(i===true){h+="$";}}h=new RegExp(h,j?"":"i");}return h;},clone:function(){var k=new Ext.util.MixedCollection();var i=this.keys,g=this.items;for(var h=0,j=g.length;h<j;h++){k.add(i[h],g[h]);}k.getKey=this.getKey;return k;}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;
Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]";}return useNative;};}(),pad=function(n){return n<10?"0"+n:n;},doDecode=function(json){return eval("("+json+")");
},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null";}else{if(Ext.isArray(o)){return encodeArray(o);}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o);}else{if(Ext.isString(o)){return encodeString(o);}else{if(typeof o=="number"){return isFinite(o)?String(o):"null";}else{if(Ext.isBoolean(o)){return String(o);
}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",");}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true;}}}}a.push("}");return a.join("");}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];
if(c){return c;}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}return'"'+s+'"';},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",");}a.push(v===null?"null":Ext.util.JSON.encode(v));
b=true;}}a.push("]");return a.join("");};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"';};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode;
}return ec(o);};}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode;}return dc(json);};}();})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;
return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"...";}else{return vs.substr(0,index)+"...";
}}else{return value.substr(0,len-3)+"...";}}return value;},undef:function(value){return value!==undefined?value:"";},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue;},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");
},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&");},trim:function(value){return String(value).replace(trimRe,"");},substr:function(value,start,length){return String(value).substr(start,length);},lowercase:function(value){return String(value).toLowerCase();
},uppercase:function(value){return String(value).toUpperCase();},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase();},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args);
}else{return eval(fn).call(window,value);}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2");}v=whole+sub;
if(v.charAt(0)=="-"){return"-$"+v.substr(1);}return"$"+v;},date:function(v,format){if(!v){return"";}if(!Ext.isDate(v)){v=new Date(Date.parse(v));}return v.dateFormat(format||"m/d/Y");},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format);};},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"");
},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"");},fileSize:function(size){if(size<1024){return size+" bytes";}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB";}else{return(Math.round(((size*10)/1048576))/10)+" MB";}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";");
}return fns[a](v);};}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision;}return result;},number:function(v,format){if(!format){return v;}v=Ext.num(v,NaN);if(isNaN(v)){return"";}var comma=",",dec=".",i18n=false,neg=v<0;
v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=",";}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length);}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format);
}else{v=v.toFixed(0);}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3;for(var i=0;i<j;i+=n){if(i!=0){n=3;}parr[parr.length]=cnum.substr(i,n);m-=1;}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1];}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1];
}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum);},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format);};},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"));},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>");}};}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);
var D=this,N=D.html,i=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,R=/^<tpl\b[^>]*?for="(.*?)"/,G=/^<tpl\b[^>]*?if="(.*?)"/,F=/^<tpl\b[^>]*?exec="(.*?)"/,H,I=0,M=[],J="values",E="parent",L="xindex",K="xcount",Q="return ",S="with(values){ ";N=["<tpl>",N,"</tpl>"].join("");while((H=N.match(i))){var T=H[0].match(R),U=H[0].match(G),m=H[0].match(F),P=null,O=null,B=null,C=T&&T[1]?T[1]:"";
if(U){P=U&&U[1]?U[1]:null;if(P){O=new Function(J,E,L,K,S+Q+(Ext.util.Format.htmlDecode(P))+"; }");}}if(m){P=m&&m[1]?m[1]:null;if(P){B=new Function(J,E,L,K,S+(Ext.util.Format.htmlDecode(P))+"; }");}}if(C){switch(C){case".":C=new Function(J,E,S+Q+J+"; }");break;case"..":C=new Function(J,E,S+Q+E+"; }");
break;default:C=new Function(J,E,S+Q+C+"; }");}}M.push({id:I,target:C,exec:B,test:O,body:H[1]||""});N=N.replace(H[0],"{xtpl"+I+"}");++I;}for(var s=M.length-1;s>=0;--s){D.compileTpl(M[s]);}D.master=M[M.length-1];D.tpls=M;};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(t,w,i,q,r){var n=this,o,u=n.tpls[t],v,s=[];
if((u.test&&!u.test.call(n,w,i,q,r))||(u.exec&&u.exec.call(n,w,i,q,r))){return"";}v=u.target?u.target.call(n,w,i):w;o=v.length;i=u.target?w:i;if(u.target&&Ext.isArray(v)){for(var p=0,o=v.length;p<o;p++){s[s.length]=u.compiled.call(n,v[p],i,p+1,o);}return s.join("");}return u.compiled.call(n,v,i,q,r);
},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'";}var v;if(name==="."){v="values";
}else{if(name==="#"){v="xindex";}else{if(name.indexOf(".")!=-1){v=name;}else{v="values['"+name+"']";}}}if(math){v="("+v+math+")";}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"(";}else{format='this.call("'+format.substr(5)+'", ';args=", values";}}else{args="";
format="("+v+" === undefined ? '' : ";}return"'"+sep+format+v+args+")"+sep+"'";}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'";}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};";
}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("");}eval(body);return this;},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1);
},compile:function(){return this;}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML);};Ext.util.CSS=function(){var h=null;var i=document;var e=/(-[a-z])/gi;var g=function(b,a){return a.charAt(1).toUpperCase();
};return{createStyleSheet:function(a,c){var l;var b=i.getElementsByTagName("head")[0];var d=i.createElement("style");d.setAttribute("type","text/css");if(c){d.setAttribute("id",c);}if(Ext.isIE){b.appendChild(d);l=d.styleSheet;l.cssText=a;}else{try{d.appendChild(i.createTextNode(a));}catch(m){d.cssText=a;
}b.appendChild(d);l=d.styleSheet?d.styleSheet:(d.sheet||i.styleSheets[i.styleSheets.length-1]);}this.cacheStyleSheet(l);return l;},removeStyleSheet:function(a){var b=i.getElementById(a);if(b){b.parentNode.removeChild(b);}},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var b=i.createElement("link");
b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("id",a);b.setAttribute("href",c);i.getElementsByTagName("head")[0].appendChild(b);},refreshCache:function(){return this.getRules(true);},cacheStyleSheet:function(c){if(!h){h={};}try{var a=c.cssRules||c.rules;for(var d=a.length-1;
d>=0;--d){h[a[d].selectorText.toLowerCase()]=a[d];}}catch(b){}},getRules:function(b){if(h===null||b){h={};var d=i.styleSheets;for(var a=0,k=d.length;a<k;a++){try{this.cacheStyleSheet(d[a]);}catch(c){}}}return h;},getRule:function(d,b){var c=this.getRules(b);if(!Ext.isArray(d)){return c[d.toLowerCase()];
}for(var a=0;a<d.length;a++){if(c[d[a]]){return c[d[a].toLowerCase()];}}return null;},updateRule:function(c,k,a){if(!Ext.isArray(c)){var d=this.getRule(c);if(d){d.style[k.replace(e,g)]=a;return true;}}else{for(var b=0;b<c.length;b++){if(this.updateRule(c[b],k,a)){return true;}}}return false;}};}();Ext.util.ClickRepeater=function(c,d){this.el=Ext.get(c);
this.el.unselectable();Ext.apply(this,d);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable();}if(this.handler){this.on("click",this.handler,this.scope||this);}Ext.util.ClickRepeater.superclass.constructor.call(this);};Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);
if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this);}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this);}}this.disabled=false;},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass);}Ext.getDoc().un("mouseup",this.handleMouseUp,this);
this.el.removeAllListeners();}this.disabled=true;},setDisabled:function(b){this[b?"disable":"enable"]();},eventOptions:function(b){if(this.preventDefault){b.preventDefault();}if(this.stopDefault){b.stopEvent();}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners();},handleDblClick:function(){clearTimeout(this.timer);
this.el.blur();this.fireEvent("mousedown",this);this.fireEvent("click",this);},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass);}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);
this.fireEvent("mousedown",this);this.fireEvent("click",this);if(this.accelerate){this.delay=400;}this.timer=this.click.defer(this.delay||this.interval,this);},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this);
},easeOutExpo:function(i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b;},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass);}this.el.on("mouseover",this.handleMouseReturn,this);},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);
if(this.pressClass){this.el.addClass(this.pressClass);}this.click();},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);
this.fireEvent("mouseup",this);}});Ext.KeyNav=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(!this.disabled){this.disabled=true;this.enable();}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(g){var e=g.getKey();var d=this.keyToHandler[e];
if(d&&this[d]){if(this.doRelay(g,this[d],d)!==true){g[this.defaultEventAction]();}}},doRelay:function(g,d,e){return d.call(this.scope||this,g);},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},stopKeyUp:function(c){var d=c.getKey();
if(d>=37&&d<=40){c.stopEvent();}},destroy:function(){this.disable();},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this);}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false;}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this);
}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true;}},setDisabled:function(b){this[b?"disable":"enable"]();},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown;}};Ext.KeyMap=function(g,d,e){this.el=Ext.get(g);this.eventName=e||"keydown";this.bindings=[];
if(d){this.addBinding(d);}this.enable();};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(r){if(Ext.isArray(r)){Ext.each(r,function(a){this.addBinding(a);},this);return;}var u=r.key,n=r.fn||r.handler,t=r.scope;if(r.stopEvent){this.stopEvent=r.stopEvent;}if(typeof u=="string"){var m=[];var o=u.toUpperCase();
for(var q=0,p=o.length;q<p;q++){m.push(o.charCodeAt(q));}u=m;}var s=Ext.isArray(u);var j=function(c){if(this.checkModifiers(r,c)){var a=c.getKey();if(s){for(var d=0,b=u.length;d<b;d++){if(u[d]==a){if(this.stopEvent){c.stopEvent();}n.call(t||window,a,c);return;}}}else{if(a==u){if(this.stopEvent){c.stopEvent();
}n.call(t||window,a,c);}}}};this.bindings.push(j);},checkModifiers:function(l,o){var n,i,e=["shift","ctrl","alt"];for(var k=0,m=e.length;k<m;++k){i=e[k];n=l[i];if(!(n===undefined||(n===o[i+"Key"]))){return false;}}return true;},on:function(l,j,k){var n,m,i,o;if(typeof l=="object"&&!Ext.isArray(l)){n=l.key;
m=l.shift;i=l.ctrl;o=l.alt;}else{n=l;}this.addBinding({key:n,shift:m,ctrl:i,alt:o,fn:j,scope:k});},handleKeyDown:function(e){if(this.enabled){var i=this.bindings;for(var h=0,b=i.length;h<b;h++){i[h].call(this,e);}}},isEnabled:function(){return this.enabled;},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);
this.enabled=true;}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false;}},setDisabled:function(b){this[b?"disable":"enable"]();}};Ext.util.TextMetrics=function(){var b;return{measure:function(a,g,e){if(!b){b=Ext.util.TextMetrics.Instance(a,e);
}b.bind(a);b.setFixedWidth(e||"auto");return b.getSize(g);},createInstance:function(a,d){return Ext.util.TextMetrics.Instance(a,d);}};}();Ext.util.TextMetrics.Instance=function(e,h){var i=new Ext.Element(document.createElement("div"));document.body.appendChild(i.dom);i.position("absolute");i.setLeftTop(-1000,-1000);
i.hide();if(h){i.setWidth(h);}var g={getSize:function(a){i.update(a);var b=i.getSize();i.update("");return b;},bind:function(a){i.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"));},setFixedWidth:function(a){i.setWidth(a);
},getWidth:function(a){i.dom.style.width="auto";return this.getSize(a).width;},getHeight:function(a){return this.getSize(a).height;}};g.bind(e);return g;};Ext.Element.addMethods({getTextWidth:function(g,d,e){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(g,this.dom.innerHTML,true)).width).constrain(d||0,e||1000000);
}});Ext.util.Cookies={set:function(m,k){var o=arguments;var p=arguments.length;var n=(p>2)?o[2]:null;var q=(p>3)?o[3]:"/";var l=(p>4)?o[4]:null;var j=(p>5)?o[5]:false;document.cookie=m+"="+escape(k)+((n===null)?"":("; expires="+n.toGMTString()))+((q===null)?"":("; path="+q))+((l===null)?"":("; domain="+l))+((j===true)?"; secure":"");
},get:function(l){var h=l+"=";var j=h.length;var i=document.cookie.length;var k=0;var m=0;while(k<i){m=k+j;if(document.cookie.substring(k,m)==h){return Ext.util.Cookies.getCookieVal(m);}k=document.cookie.indexOf(" ",k)+1;if(k===0){break;}}return null;},clear:function(b){if(Ext.util.Cookies.get(b)){document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT";
}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length;}return unescape(document.cookie.substring(c,d));}};Ext.handleError=function(b){throw b;};Ext.Error=function(b){this.message=(this.lang[b])?this.lang[b]:b;};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name;
},getMessage:function(){return this.message;},toJson:function(){return Ext.encode(this);}});Ext.ComponentMgr=function(){var g=new Ext.util.MixedCollection();var d={};var e={};return{register:function(a){g.add(a);},unregister:function(a){g.remove(a);},get:function(a){return g.get(a);},onAvailable:function(a,b,c){g.on("add",function(k,j){if(j.id==a){b.call(c||j,j);
g.un("add",b,c);}});},all:g,types:d,ptypes:e,isRegistered:function(a){return d[a]!==undefined;},isPluginRegistered:function(a){return e[a]!==undefined;},registerType:function(a,b){d[a]=b;b.xtype=a;},create:function(b,a){return b.render?b:new d[b.xtype||a](b);},registerPlugin:function(a,b){e[a]=b;b.ptype=a;
},createPlugin:function(b,a){var c=e[b.ptype||a];if(c.init){return c;}else{return new c(b);}}};}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.Component=function(d){d=d||{};if(d.initialConfig){if(d.isAction){this.baseAction=d;}d=d.initialConfig;
}else{if(d.tagName||d.dom||Ext.isString(d)){d={applyTo:d,id:d.id||d};}}this.initialConfig=d;Ext.apply(this,d);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");
this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this);}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var g=0,e=this.plugins.length;g<e;g++){this.plugins[g]=this.initPlugin(this.plugins[g]);
}}else{this.plugins=this.initPlugin(this.plugins);}}if(this.stateful!==false){this.initState();}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo;}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo;}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabled:false,hidden:false,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,rendered:false,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode];
},initPlugin:function(b){if(b.ptype&&!Ext.isFunction(b.init)){b=Ext.ComponentMgr.createPlugin(b);}else{if(Ext.isString(b)){b=Ext.ComponentMgr.createPlugin({ptype:b});}}b.init(this);return b;},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners;}this.enableBubble(this.bubbleEvents);
},render:function(e,g){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!e&&this.el){this.el=Ext.get(this.el);e=this.el.dom.parentNode;this.allowDomMove=false;}this.container=Ext.get(e);if(this.ctCls){this.container.addClass(this.ctCls);}this.rendered=true;if(g!==undefined){if(Ext.isNumber(g)){g=this.container.dom.childNodes[g];
}else{g=Ext.getDom(g);}}this.onRender(this.container,g||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode]);}if(this.cls){this.el.addClass(this.cls);delete this.cls;}if(this.style){this.el.applyStyles(this.style);delete this.style;}if(this.overCls){this.el.addClassOnOver(this.overCls);
}this.fireEvent("render",this);var i=this.getContentTarget();if(this.html){i.update(Ext.DomHelper.markup(this.html));delete this.html;}if(this.contentEl){var h=Ext.getDom(this.contentEl);Ext.fly(h).removeClass(["x-hidden","x-hide-display"]);i.appendChild(h);}if(this.tpl){if(!this.tpl.compile){this.tpl=new Ext.XTemplate(this.tpl);
}if(this.data){this.tpl[this.tplWriteMode](i,this.data);delete this.data;}}this.afterRender(this.container);if(this.hidden){this.doHide();}if(this.disabled){this.disable(true);}if(this.stateful!==false){this.initStateEvents();}this.fireEvent("afterrender",this);}return this;},update:function(i,g,j){var h=this.getContentTarget();
if(this.tpl&&typeof i!=="string"){this.tpl[this.tplWriteMode](h,i||{});}else{var k=Ext.isObject(i)?Ext.DomHelper.markup(i):i;h.update(k,g,j);}},onAdded:function(d,c){this.ownerCt=d;this.initRef();this.fireEvent("added",this,d,c);},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);
delete this.ownerCt;},initRef:function(){if(this.ref&&!this.refOwner){var h=this.ref.split("/"),i=h.length,e=0,g=this;while(g&&e<i){g=g.ownerCt;++e;}if(g){g[this.refName=h[--e]]=this;this.refOwner=g;}}},removeRef:function(){if(this.refOwner&&this.refName){delete this.refOwner[this.refName];delete this.refOwner;
}},initState:function(){if(Ext.state.Manager){var c=this.getStateId();if(c){var d=Ext.state.Manager.get(c);if(d){if(this.fireEvent("beforestaterestore",this,d)!==false){this.applyState(Ext.apply({},d));this.fireEvent("staterestore",this,d);}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id);
},initStateEvents:function(){if(this.stateEvents){for(var d=0,c;c=this.stateEvents[d];d++){this.on(c,this.saveState,this,{delay:100});}}},applyState:function(b){if(b){Ext.apply(this,b);}},getState:function(){return null;},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var c=this.getStateId();
if(c){var d=this.getState();if(this.fireEvent("beforestatesave",this,d)!==false){Ext.state.Manager.set(c,d);this.fireEvent("statesave",this,d);}}}},applyToMarkup:function(b){this.allowDomMove=false;this.el=Ext.get(b);this.render(this.el.dom.parentNode);},addClass:function(b){if(this.el){this.el.addClass(b);
}else{this.cls=this.cls?this.cls+" "+b:b;}return this;},removeClass:function(b){if(this.el){this.el.removeClass(b);}else{if(this.cls){this.cls=this.cls.split(" ").remove(b).join(" ");}}return this;},onRender:function(d,e){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl)){this.el=document.createElement(this.autoEl);
}else{var g=document.createElement("div");Ext.DomHelper.overwrite(g,this.autoEl);this.el=g.firstChild;}if(!this.el.id){this.el.id=this.getId();}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){d.dom.insertBefore(this.el.dom,e);if(g){Ext.removeNode(g);g=null;}}}},getAutoCreate:function(){var b=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);
if(this.id&&!b.id){b.id=this.id;}return b;},afterRender:Ext.emptyFn,destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false);}if(this.rendered){this.el.remove();
if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove();}}if(this.focusTask&&this.focusTask.cancel){this.focusTask.cancel();}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true;
}}},deleteMembers:function(){var d=arguments;for(var g=0,e=d.length;g<e;++g){delete this[d[g]];}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el;},getContentTarget:function(){return this.el;},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID));
},getItemId:function(){return this.itemId||this.getId();},focus:function(c,d){if(d){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[c,false]);this.focusTask.delay(Ext.isNumber(d)?d:10);return;}if(this.rendered&&!this.isDestroyed){this.el.focus();if(c===true){this.el.dom.select();}}return this;
},blur:function(){if(this.rendered){this.el.blur();}return this;},disable:function(b){if(this.rendered){this.onDisable();}this.disabled=true;if(b!==true){this.fireEvent("disable",this);}return this;},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true;},enable:function(){if(this.rendered){this.onEnable();
}this.disabled=false;this.fireEvent("enable",this);return this;},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false;},setDisabled:function(b){return this[b?"disable":"enable"]();},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;
if(this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender);}if(this.rendered){this.onShow();}this.fireEvent("show",this);}return this;},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode);},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.doHide();
this.fireEvent("hide",this);}return this;},doHide:function(){this.hidden=true;if(this.rendered){this.onHide();}},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode);},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl();},setVisible:function(b){return this[b?"show":"hide"]();
},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible();},cloneConfig:function(d){d=d||{};var g=d.id||Ext.id();var e=Ext.applyIf(d,this.initialConfig);e.id=g;return new this.constructor(e);},getXType:function(){return this.constructor.xtype;},isXType:function(c,d){if(Ext.isFunction(c)){c=c.xtype;
}else{if(Ext.isObject(c)){c=c.constructor.xtype;}}return !d?("/"+this.getXTypes()+"/").indexOf("/"+c+"/")!=-1:this.constructor.xtype==c;},getXTypes:function(){var e=this.constructor;if(!e.xtypes){var g=[],c=this;while(c&&c.constructor.xtype){g.unshift(c.constructor.xtype);c=c.constructor.superclass;}e.xtypeChain=g;
e.xtypes=g.join("/");}return e.xtypes;},findParentBy:function(d){for(var c=this.ownerCt;(c!=null)&&!d(c,this);c=c.ownerCt){}return c||null;},findParentByType:function(b){return Ext.isFunction(b)?this.findParentBy(function(a){return a.constructor===b;}):this.findParentBy(function(a){return a.constructor.xtype===b;
});},getPositionEl:function(){return this.positionEl||this.el;},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons){this.on("beforedestroy",this.clearMons,this,{single:true});}},clearMons:function(){Ext.each(this.mons,function(b){b.item.un(b.ename,b.fn,b.scope);
},this);this.mons=[];},createMons:function(){if(!this.mons){this.mons=[];this.on("beforedestroy",this.clearMons,this,{single:true});}},mon:function(l,e,n,m,o){this.createMons();if(Ext.isObject(e)){var p=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;
var k=e;for(var q in k){if(p.test(q)){continue;}if(Ext.isFunction(k[q])){this.mons.push({item:l,ename:q,fn:k[q],scope:k.scope});l.on(q,k[q],k.scope,k);}else{this.mons.push({item:l,ename:q,fn:k[q],scope:k.scope});l.on(q,k[q]);}}return;}this.mons.push({item:l,ename:e,fn:n,scope:m});l.on(e,n,m,o);},mun:function(q,m,i,k){var p,l;
this.createMons();for(var n=0,o=this.mons.length;n<o;++n){l=this.mons[n];if(q===l.item&&m==l.ename&&i===l.fn&&k===l.scope){this.mons.splice(n,1);q.un(m,i,k);p=true;break;}}return p;},nextSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b!=-1&&b+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(b+1);
}}return null;},previousSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b>0){return this.ownerCt.items.itemAt(b-1);}}return null;},getBubbleTarget:function(){return this.ownerCt;}});Ext.reg("component",Ext.Component);Ext.Action=Ext.extend(Object,{constructor:function(b){this.initialConfig=b;
this.itemId=b.itemId=(b.itemId||b.id||Ext.id());this.items=[];},isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b]);},getText:function(){return this.initialConfig.text;},setIconClass:function(b){this.initialConfig.iconCls=b;this.callEach("setIconClass",[b]);},getIconClass:function(){return this.initialConfig.iconCls;
},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b]);},enable:function(){this.setDisabled(false);},disable:function(){this.setDisabled(true);},isDisabled:function(){return this.initialConfig.disabled;},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b]);
},show:function(){this.setHidden(false);},hide:function(){this.setHidden(true);},isHidden:function(){return this.initialConfig.hidden;},setHandler:function(c,d){this.initialConfig.handler=c;this.initialConfig.scope=d;this.callEach("setHandler",[c,d]);},each:function(c,d){Ext.each(this.items,c,d);},callEach:function(k,i){var g=this.items;
for(var h=0,j=g.length;h<j;h++){g[h][k].apply(g[h],i);}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this);},removeComponent:function(b){this.items.remove(b);},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments);}});(function(){Ext.Layer=function(a,j){a=a||{};
var k=Ext.DomHelper;var l=a.parentEl,b=l?Ext.getDom(l):document.body;if(j){this.dom=Ext.getDom(j);}if(!this.dom){var m=a.dh||{tag:"div",cls:"x-layer"};this.dom=k.append(b,m);}if(a.cls){this.addClass(a.cls);}this.constrain=a.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(a.id){this.id=this.dom.id=a.id;
}else{this.id=Ext.id(this.dom);}this.zindex=a.zindex||this.getZIndex();this.position("absolute",this.zindex);if(a.shadow){this.shadowOffset=a.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:a.shadow});}else{this.shadowOffset=0;}this.useShim=a.shim!==false&&Ext.useShims;this.useDisplay=a.useDisplay;
this.hide();};var d=Ext.Element.prototype;var c=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000;},getShim:function(){if(!this.useShim){return null;}if(this.shim){return this.shim;}var a=c.shift();if(!a){a=this.createShim();
a.enableDisplayMode("block");a.dom.style.display="none";a.dom.style.visibility="visible";}var b=this.dom.parentNode;if(a.dom.parentNode!=b){b.insertBefore(a.dom,this.dom);}a.setStyle("z-index",this.getZIndex()-2);this.shim=a;return a;},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);c.push(this.shim);
delete this.shim;}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0;}},enableShadow:function(a){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;
if(a){this.sync(true);}}},sync:function(r){var u=this.shadow;if(!this.updating&&this.isVisible()&&(u||this.useShim)){var l=this.getShim(),a=this.getWidth(),h=this.getHeight(),q=this.getLeft(true),t=this.getTop(true);if(u&&!this.shadowDisabled){if(r&&!u.isVisible()){u.show(this);}else{u.realign(q,t,a,h);
}if(l){if(r){l.show();}var b=u.el.getXY(),p=l.dom.style,s=u.el.getSize();p.left=(b[0])+"px";p.top=(b[1])+"px";p.width=(s.width)+"px";p.height=(s.height)+"px";}}else{if(l){if(r){l.show();}l.setSize(a,h);l.setLeftTop(q,t);}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide();}this.removeAllListeners();
Ext.removeNode(this.dom);delete this.dom;},remove:function(){this.destroy();},beginUpdate:function(){this.updating=true;},endUpdate:function(){this.updating=false;this.sync(true);},hideUnders:function(a){if(this.shadow){this.shadow.hide();}this.hideShim();},constrainXY:function(){if(this.constrain){var h=Ext.lib.Dom.getViewWidth(),s=Ext.lib.Dom.getViewHeight();
var u=Ext.getDoc().getScroll();var v=this.getXY();var b=v[0],p=v[1];var t=this.shadowOffset;var a=this.dom.offsetWidth+t,r=this.dom.offsetHeight+t;var q=false;if((b+a)>h+u.left){b=h-a-t;q=true;}if((p+r)>s+u.top){p=s-r-t;q=true;}if(b<u.left){b=u.left;q=true;}if(p<u.top){p=u.top;q=true;}if(q){if(this.avoidY){var w=this.avoidY;
if(p<=w&&(p+r)>=w){p=w-r-5;}}v=[b,p];this.storeXY(v);d.setXY.call(this,v);this.sync();}}return this;},isVisible:function(){return this.visible;},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("");}else{if(this.lastXY){d.setXY.call(this,this.lastXY);}else{if(this.lastLT){d.setLeftTop.call(this,this.lastLT[0],this.lastLT[1]);
}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false);}else{this.setLeftTop(-10000,-10000);}},setVisible:function(e,a,b,l,k){if(e){this.showAction();}if(a&&e){var m=function(){this.sync(true);if(l){l();}}.createDelegate(this);d.setVisible.call(this,true,true,b,m,k);
}else{if(!e){this.hideUnders(true);}var m=l;if(a){m=function(){this.hideAction();if(l){l();}}.createDelegate(this);}d.setVisible.call(this,e,a,b,m,k);if(e){this.sync(true);}else{if(!a){this.hideAction();}}}return this;},storeXY:function(a){delete this.lastLT;this.lastXY=a;},storeLeftTop:function(a,b){delete this.lastXY;
this.lastLT=[a,b];},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments);},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible());},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide();}},setLeft:function(a){this.storeLeftTop(a,this.getTop(true));
d.setLeft.apply(this,arguments);this.sync();return this;},setTop:function(a){this.storeLeftTop(this.getLeft(true),a);d.setTop.apply(this,arguments);this.sync();return this;},setLeftTop:function(a,b){this.storeLeftTop(a,b);d.setLeftTop.apply(this,arguments);this.sync();return this;},setXY:function(a,e,b,l,k){this.fixDisplay();
this.beforeAction();this.storeXY(a);var m=this.createCB(l);d.setXY.call(this,a,e,b,m,k);if(!e){m();}return this;},createCB:function(a){var b=this;return function(){b.constrainXY();b.sync(true);if(a){a();}};},setX:function(j,b,k,e,a){this.setXY([j,this.getY()],b,k,e,a);return this;},setY:function(b,j,a,k,e){this.setXY([this.getX(),b],j,a,k,e);
return this;},setSize:function(a,m,n,o,h,b){this.beforeAction();var e=this.createCB(h);d.setSize.call(this,a,m,n,o,e,b);if(!n){e();}return this;},setWidth:function(e,a,b,l,k){this.beforeAction();var m=this.createCB(l);d.setWidth.call(this,e,a,b,m,k);if(!a){m();}return this;},setHeight:function(e,l,a,b,h){this.beforeAction();
var m=this.createCB(b);d.setHeight.call(this,e,l,a,m,h);if(!l){m();}return this;},setBounds:function(a,e,s,q,b,o,h,p){this.beforeAction();var r=this.createCB(h);if(!b){this.storeXY([a,e]);d.setXY.call(this,[a,e]);d.setSize.call(this,s,q,b,o,r,p);r();}else{d.setBounds.call(this,a,e,s,q,b,o,r,p);}return this;
},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);if(this.shadow){this.shadow.setZIndex(a+1);}if(this.shim){this.shim.setStyle("z-index",a);}return this;}});})();Ext.Shadow=function(h){Ext.apply(this,h);if(typeof this.mode!="string"){this.mode=this.defaultMode;}var g=this.offset,i={h:0};
var a=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":i.w=0;i.l=i.t=g;i.t-=1;if(Ext.isIE){i.l-=this.offset+a;i.t-=this.offset+a;i.w-=a;i.h-=a;i.t+=1;}break;case"sides":i.w=(g*2);i.l=-g;i.t=g-1;if(Ext.isIE){i.l-=(this.offset-a);i.t-=this.offset+a;i.l+=1;i.w-=(this.offset-a)*2;i.w-=a+1;
i.h-=1;}break;case"frame":i.w=i.h=(g*2);i.l=i.t=-g;i.t+=1;i.h-=2;if(Ext.isIE){i.l-=(this.offset-a);i.t-=(this.offset-a);i.l+=1;i.w-=(this.offset+a+1);i.h-=(this.offset+a);i.h+=1;}break;}this.adjusts=i;};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(b){b=Ext.get(b);if(!this.el){this.el=Ext.Shadow.Pool.pull();
if(this.el.dom.nextSibling!=b.dom){this.el.insertBefore(b);}}this.el.setStyle("z-index",this.zIndex||parseInt(b.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")";
}this.realign(b.getLeft(true),b.getTop(true),b.getWidth(),b.getHeight());this.el.dom.style.display="block";},isVisible:function(){return this.el?true:false;},realign:function(h,v,t,a){if(!this.el){return;}var d=this.adjusts,y=this.el.dom,w=y.style;var C=0;w.left=(h+d.l)+"px";w.top=(v+d.t)+"px";var l=(t+d.w),s=(a+d.h),A=l+"px",B=s+"px";
if(w.width!=A||w.height!=B){w.width=A;w.height=B;if(!Ext.isIE){var z=y.childNodes;var x=Math.max(0,(l-12))+"px";z[0].childNodes[1].style.width=x;z[1].childNodes[1].style.width=x;z[2].childNodes[1].style.width=x;z[1].style.height=Math.max(0,(s-12))+"px";}}},hide:function(){if(this.el){this.el.dom.style.display="none";
Ext.Shadow.Pool.push(this.el);delete this.el;}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b);}}};Ext.Shadow.Pool=function(){var c=[];var d=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';
return{pull:function(){var a=c.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,d));a.autoBoxAdjust=false;}return a;},push:function(a){c.push(a);}};}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);
this.addEvents("resize","move");},boxReady:false,deferHeight:false,setSize:function(h,l){if(typeof h=="object"){l=h.height;h=h.width;}if(Ext.isDefined(h)&&Ext.isDefined(this.boxMinWidth)&&(h<this.boxMinWidth)){h=this.boxMinWidth;}if(Ext.isDefined(l)&&Ext.isDefined(this.boxMinHeight)&&(l<this.boxMinHeight)){l=this.boxMinHeight;
}if(Ext.isDefined(h)&&Ext.isDefined(this.boxMaxWidth)&&(h>this.boxMaxWidth)){h=this.boxMaxWidth;}if(Ext.isDefined(l)&&Ext.isDefined(this.boxMaxHeight)&&(l>this.boxMaxHeight)){l=this.boxMaxHeight;}if(!this.boxReady){this.width=h;this.height=l;return this;}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==h&&this.lastSize.height==l){return this;
}this.lastSize={width:h,height:l};var m=this.adjustSize(h,l),j=m.width,i=m.height,k;if(j!==undefined||i!==undefined){k=this.getResizeEl();if(!this.deferHeight&&j!==undefined&&i!==undefined){k.setSize(j,i);}else{if(!this.deferHeight&&i!==undefined){k.setHeight(i);}else{if(j!==undefined){k.setWidth(j);
}}}this.onResize(j,i,h,l);this.fireEvent("resize",this,j,i,h,l);}return this;},setWidth:function(b){return this.setSize(b);},setHeight:function(b){return this.setSize(undefined,b);},getSize:function(){return this.getResizeEl().getSize();},getWidth:function(){return this.getResizeEl().getWidth();},getHeight:function(){return this.getResizeEl().getHeight();
},getOuterSize:function(){var b=this.getResizeEl();return{width:b.getWidth()+b.getMargins("lr"),height:b.getHeight()+b.getMargins("tb")};},getPosition:function(d){var c=this.getPositionEl();if(d===true){return[c.getLeft(true),c.getTop(true)];}return this.xy||c.getXY();},getBox:function(e){var g=this.getPosition(e);
var d=this.getSize();d.x=g[0];d.y=g[1];return d;},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this;},getResizeEl:function(){return this.resizeEl||this.el;},setAutoScroll:function(b){if(this.rendered){this.getContentTarget().setOverflow(b?"auto":"");}this.autoScroll=b;
return this;},setPosition:function(i,j){if(i&&typeof i[1]=="number"){j=i[1];i=i[0];}this.x=i;this.y=j;if(!this.boxReady){return this;}var h=this.adjustPosition(i,j);var k=h.x,l=h.y;var m=this.getPositionEl();if(k!==undefined||l!==undefined){if(k!==undefined&&l!==undefined){m.setLeftTop(k,l);}else{if(k!==undefined){m.setLeft(k);
}else{if(l!==undefined){m.setTop(l);}}}this.onPosition(k,l);this.fireEvent("move",this,k,l);}return this;},setPagePosition:function(e,g){if(e&&typeof e[1]=="number"){g=e[1];e=e[0];}this.pageX=e;this.pageY=g;if(!this.boxReady){return;}if(e===undefined||g===undefined){return;}var d=this.getPositionEl().translatePoints(e,g);
this.setPosition(d.left,d.top);return this;},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl);}if(this.positionEl){this.positionEl=Ext.get(this.positionEl);}this.boxReady=true;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);
this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y);}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY);}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());
return this;},onResize:function(h,e,g,i){},onPosition:function(d,c){},adjustSize:function(d,c){if(this.autoWidth){d="auto";}if(this.autoHeight){c="auto";}return{width:d,height:c};},adjustPosition:function(d,c){return{x:d,y:c};}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});
Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(h,k,i,g,j){this.el=Ext.get(h,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(k,true);this.orientation=i||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!j){this.proxy=Ext.SplitBar.createProxy(this.orientation);
}else{this.proxy=Ext.get(j).dom;}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();
this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=g||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h");}else{this.placement=g||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v");
}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this);};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(j,k){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);
this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var h=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var g=h-this.activeMinSize;
var i=Math.max(this.activeMaxSize-h,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?g:i,this.placement==Ext.SplitBar.LEFT?i:g,this.tickSize);this.dd.setYConstraint(0,0);}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);
this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?g:i,this.placement==Ext.SplitBar.TOP?i:g,this.tickSize);}this.dragSpecs.startSize=h;this.dragSpecs.startPoint=[j,k];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,j,k);},onEndProxyDrag:function(g){Ext.get(this.proxy).setDisplayed(false);var d=Ext.lib.Event.getXY(g);
if(this.overlay){Ext.destroy(this.overlay);delete this.overlay;}var e;if(this.orientation==Ext.SplitBar.HORIZONTAL){e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?d[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-d[0]);}else{e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?d[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-d[1]);
}e=Math.min(Math.max(e,this.activeMinSize),this.activeMaxSize);if(e!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,e)!==false){this.adapter.setElementSize(this,e);this.fireEvent("moved",this,e);this.fireEvent("resize",this,e);}}},getAdapter:function(){return this.adapter;},setAdapter:function(b){this.adapter=b;
this.adapter.init(this);},getMinimumSize:function(){return this.minSize;},setMinimumSize:function(b){this.minSize=b;},getMaximumSize:function(){return this.maxSize;},setMaximumSize:function(b){this.maxSize=b;},setCurrentSize:function(c){var d=this.animate;this.animate=false;this.adapter.setElementSize(this,c);
this.animate=d;},destroy:function(b){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();if(b){this.el.remove();}this.purgeListeners();}});Ext.SplitBar.createProxy=function(d){var g=new Ext.Element(document.createElement("div"));document.body.appendChild(g.dom);g.unselectable();var e="x-splitbar-proxy";
g.addClass(e+" "+(d==Ext.SplitBar.HORIZONTAL?e+"-h":e+"-v"));return g.dom;};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(b){},getElementSize:function(b){if(b.orientation==Ext.SplitBar.HORIZONTAL){return b.resizingEl.getWidth();}else{return b.resizingEl.getHeight();
}},setElementSize:function(d,e,g){if(d.orientation==Ext.SplitBar.HORIZONTAL){if(!d.animate){d.resizingEl.setWidth(e);if(g){g(d,e);}}else{d.resizingEl.setWidth(e,true,0.1,g,"easeOut");}}else{if(!d.animate){d.resizingEl.setHeight(e);if(g){g(d,e);}}else{d.resizingEl.setHeight(e,true,0.1,g,"easeOut");}}}};
Ext.SplitBar.AbsoluteLayoutAdapter=function(b){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(b);};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(b){this.basic.init(b);},getElementSize:function(b){return this.basic.getElementSize(b);},setElementSize:function(d,e,g){this.basic.setElementSize(d,e,this.moveSplitter.createDelegate(this,[d]));
},moveSplitter:function(d){var c=Ext.SplitBar;switch(d.placement){case c.LEFT:d.el.setX(d.resizingEl.getRight());break;case c.RIGHT:d.el.setStyle("right",(this.container.getWidth()-d.resizingEl.getLeft())+"px");break;case c.TOP:d.el.setY(d.resizingEl.getBottom());break;case c.BOTTOM:d.el.setY(d.resizingEl.getTop()-d.el.getHeight());
break;}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:true,forceLayout:false,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);
this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var b=this.items;if(b){delete this.items;this.add(b);}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout();}},setLayout:function(b){if(this.layout&&this.layout!=b){this.layout.setContainer(null);
}this.layout=b;this.initItems();b.setContainer(this);},afterRender:function(){Ext.Container.superclass.afterRender.call(this);if(!this.layout){this.layout="auto";}if(Ext.isObject(this.layout)&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type;}if(Ext.isString(this.layout)){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig);
}this.setLayout(this.layout);if(this.activeItem!==undefined){var b=this.activeItem;delete this.activeItem;this.layout.setActiveItem(b);}if(!this.ownerCt){this.doLayout(false,true);}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false]);}},getLayoutTarget:function(){return this.el;
},getComponentId:function(b){return b.getItemId();},add:function(i){this.initItems();var c=arguments.length>1;if(c||Ext.isArray(i)){var j=[];Ext.each(c?arguments:i,function(a){j.push(this.add(a));},this);return j;}var k=this.lookupComponent(this.applyDefaults(i));var h=this.items.length;if(this.fireEvent("beforeadd",this,k,h)!==false&&this.onBeforeAdd(k)!==false){this.items.add(k);
k.onAdded(this,h);this.onAdd(k);this.fireEvent("add",this,k,h);}return k;},onAdd:function(b){},onAdded:function(d,c){this.ownerCt=d;this.initRef();this.cascade(function(a){a.initRef();});this.fireEvent("added",this,d,c);},insert:function(c,n){this.initItems();var i=arguments,m=i.length;if(m>2){var a=[];
for(var l=m-1;l>=1;--l){a.push(this.insert(c,i[l]));}return a;}var o=this.lookupComponent(this.applyDefaults(n));c=Math.min(c,this.items.length);if(this.fireEvent("beforeadd",this,o,c)!==false&&this.onBeforeAdd(o)!==false){if(o.ownerCt==this){this.items.remove(o);}this.items.insert(c,o);o.onAdded(this,c);
this.onAdd(o);this.fireEvent("add",this,o,c);}return o;},applyDefaults:function(c){var d=this.defaults;if(d){if(Ext.isFunction(d)){d=d.call(this,c);}if(Ext.isString(c)){c=Ext.ComponentMgr.get(c);Ext.apply(c,d);}else{if(!c.events){Ext.applyIf(c,d);}else{Ext.apply(c,d);}}}return c;},onBeforeAdd:function(b){if(b.ownerCt){b.ownerCt.remove(b,false);
}if(this.hideBorders===true){b.border=(b.border===true);}},remove:function(e,c){this.initItems();var g=this.getComponent(e);if(g&&this.fireEvent("beforeremove",this,g)!==false){this.doRemove(g,c);this.fireEvent("remove",this,g);}return g;},onRemove:function(b){},doRemove:function(h,i){var c=this.layout,g=c&&this.rendered;
if(g){c.onRemove(h);}this.items.remove(h);h.onRemoved();this.onRemove(h);if(i===true||(i!==false&&this.autoDestroy)){h.destroy();}if(g){c.afterRemove(h);}},removeAll:function(m){this.initItems();var k,j=[],h=[];this.items.each(function(a){j.push(a);});for(var l=0,i=j.length;l<i;++l){k=j[l];this.remove(k,m);
if(k.ownerCt!==this){h.push(k);}}return h;},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId();}return this.items.get(b);},lookupComponent:function(b){if(Ext.isString(b)){return Ext.ComponentMgr.get(b);}else{if(!b.events){return this.createComponent(b);}}return b;},createComponent:function(e,g){if(e.render){return e;
}var c=Ext.create(Ext.apply({ownerCt:this},e),g||this.defaultType);delete c.initialConfig.ownerCt;delete c.ownerCt;return c;},canLayout:function(){var b=this.getVisibilityEl();return b&&b.dom&&!b.isStyle("display","none");},doLayout:function(l,c){var o=this.rendered,m=c||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!l;
if(!m){return;}l=l&&!this.deferLayout;}else{delete this.deferLayout;}if(o&&this.layout){this.layout.layout();}if(l!==true&&this.items){var q=this.items.items;for(var p=0,i=q.length;p<i;p++){var n=q[p];if(n.doLayout){n.doLayout(false,m);}}}if(o){this.onLayout(l,m);}this.hasLayout=true;delete this.forceLayout;
},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var b=this.hasLayout;if(this.ownerCt){return b?!this.hasLayoutPending():false;}return b;},hasLayoutPending:function(){var b=false;this.ownerCt.bubble(function(a){if(a.layoutPending){b=true;return false;}});return b;},onShow:function(){Ext.Container.superclass.onShow.call(this);
if(Ext.isDefined(this.deferLayout)){delete this.deferLayout;this.doLayout(true);}},getLayout:function(){if(!this.layout){var b=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(b);}return this.layout;},beforeDestroy:function(){var b;if(this.items){while(b=this.items.first()){this.doRemove(b,true);
}}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this);}Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this);},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break;}h=h.ownerCt;}return this;},cascade:function(j,k,h){if(j.apply(k||this,h||[this])!==false){if(this.items){var l=this.items.items;
for(var m=0,i=l.length;m<i;m++){if(l[m].cascade){l[m].cascade(j,k,h);}else{j.apply(k||l[m],h||[l[m]]);}}}}return this;},findById:function(g){var e,d=this;this.cascade(function(a){if(d!=a&&a.id===g){e=a;return false;}});return e||null;},findByType:function(c,d){return this.findBy(function(a){return a.isXType(c,d);
});},find:function(c,d){return this.findBy(function(a){return a[c]===d;});},findBy:function(h,i){var g=[],e=this;this.cascade(function(a){if(e!=a&&h.call(i||a,a,e)===true){g.push(a);}});return g;},get:function(b){return this.items.get(b);}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);
Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:false,activeItem:null,constructor:function(b){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,b);},type:"container",IEMeasureHack:function(c,i){var p=c.dom.childNodes,o=p.length,q,r=[],s,e,d;for(e=0;e<o;e++){q=p[e];s=Ext.get(q);if(s){r[e]=s.getStyle("display");
s.setStyle({display:"none"});}}d=c?c.getViewSize(i):{};for(e=0;e<o;e++){q=p[e];s=Ext.get(q);if(s){s.setStyle({display:r[e]});}}return d;},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var d=this.container,c=d.getLayoutTarget();if(!(this.hasLayout||Ext.isEmpty(this.targetCls))){c.addClass(this.targetCls);
}this.onLayout(d,c);d.fireEvent("afterlayout",d,this);},onLayout:function(d,c){this.renderAll(d,c);},isValidParent:function(c,d){return d&&c.getPositionEl().dom.parentNode==(d.dom||d);},renderAll:function(l,k){var c=l.items.items,m,j,i=c.length;for(m=0;m<i;m++){j=c[m];if(j&&(!j.rendered||!this.isValidParent(j,k))){this.renderItem(j,m,k);
}}},renderItem:function(g,e,c){if(g){if(!g.rendered){g.render(c,e);this.configureItem(g,e);}else{if(!this.isValidParent(g,c)){if(Ext.isNumber(e)){e=c.dom.childNodes[e];}c.dom.insertBefore(g.getPositionEl().dom,e||null);g.container=c;this.configureItem(g,e);}}}},getRenderedItems:function(i){var k=i.getLayoutTarget(),n=i.items.items,m=n.length,l,o,c=[];
for(l=0;l<m;l++){if((o=n[l]).rendered&&this.isValidParent(o,k)){c.push(o);}}return c;},configureItem:function(g,e){if(this.extraCls){var c=g.getPositionEl?g.getPositionEl():g;c.addClass(this.extraCls);}if(g.doLayout&&this.forceLayout){g.doLayout();}if(this.renderHidden&&g!=this.activeItem){g.hide();}},onRemove:function(c){if(this.activeItem==c){delete this.activeItem;
}if(c.rendered&&this.extraCls){var d=c.getPositionEl?c.getPositionEl():c;d.removeClass(this.extraCls);}},afterRemove:function(b){if(b.removeRestore){b.removeMode="container";delete b.removeRestore;}},onResize:function(){var d=this.container,b;if(d.collapsed){return;}if(b=d.bufferResize&&d.shouldBufferLayout()){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this);
this.resizeBuffer=Ext.isNumber(b)?b:50;}d.layoutPending=true;this.resizeTask.delay(this.resizeBuffer);}else{this.runLayout();}},runLayout:function(){var b=this.container;this.layout();b.onLayout();delete b.layoutPending;},setContainer:function(c){if(this.monitorResize&&c!=this.container){var d=this.container;
if(d){d.un(d.resizeEvent,this.onResize,this);}if(c){c.on(c.resizeEvent,this.onResize,this);}}this.container=c;},parseMargins:function(d){if(Ext.isNumber(d)){d=d.toString();}var g=d.split(" "),e=g.length;if(e==1){g[1]=g[2]=g[3]=g[0];}else{if(e==2){g[2]=g[0];g[3]=g[1];}else{if(e==3){g[3]=g[1];}}}return{top:parseInt(g[0],10)||0,right:parseInt(g[1],10)||0,bottom:parseInt(g[2],10)||0,left:parseInt(g[3],10)||0};
},fieldTpl:(function(){var b=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");
b.disableFormats=true;return b.compile();})(),destroy:function(){if(this.resizeTask&&this.resizeTask.cancel){this.resizeTask.cancel();}if(!Ext.isEmpty(this.targetCls)){var b=this.container.getLayoutTarget();if(b){b.removeClass(this.targetCls);}}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:true,onLayout:function(m,k){Ext.layout.AutoLayout.superclass.onLayout.call(this,m,k);
var l=this.getRenderedItems(m),i=l.length,c,j;for(c=0;c<i;c++){j=l[c];if(j.doLayout){j.doLayout(true);}}}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"fit",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();
if(!b){return{};}return b.getStyleSize();},onLayout:function(d,c){Ext.layout.FitLayout.superclass.onLayout.call(this,d,c);if(!d.collapsed){this.setItemSize(this.activeItem||d.items.itemAt(0),this.getLayoutTargetSize());}},setItemSize:function(c,d){if(c&&d.height>0){c.setSize(d);}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;
Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,layoutOnCardChange:false,renderHidden:true,type:"card",setActiveItem:function(h){var g=this.activeItem,e=this.container;h=e.getComponent(h);if(h&&g!=h){if(g){g.hide();if(g.hidden!==true){return false;}g.fireEvent("deactivate",g);
}var i=h.doLayout&&(this.layoutOnCardChange||!h.rendered);this.activeItem=h;delete h.deferLayout;h.show();this.layout();if(i){h.doLayout();}h.fireEvent("activate",h);}},renderAll:function(d,c){if(this.deferredRender){this.renderItem(this.activeItem,undefined,c);}else{Ext.layout.CardLayout.superclass.renderAll.call(this,d,c);
}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();if(!b){return{};}return b.getStyleSize();
},onLayout:function(x,h){Ext.layout.AnchorLayout.superclass.onLayout.call(this,x,h);var z=this.getLayoutTargetSize();var i=z.width,C=z.height;if(i<20&&C<20){return;}var a,E;if(x.anchorSize){if(typeof x.anchorSize=="number"){a=x.anchorSize;}else{a=x.anchorSize.width;E=x.anchorSize.height;}}else{a=x.initialConfig.width;
E=x.initialConfig.height;}var F=this.getRenderedItems(x),A=F.length,G,D,w,H,y,I,B,c=[];for(G=0;G<A;G++){D=F[G];I=D.getPositionEl();if(!D.anchor&&D.items&&!Ext.isNumber(D.width)&&!(Ext.isIE6&&Ext.isStrict)){D.anchor=this.defaultAnchor;}if(D.anchor){w=D.anchorSpec;if(!w){B=D.anchor.split(" ");D.anchorSpec=w={right:this.parseAnchor(B[0],D.initialConfig.width,a),bottom:this.parseAnchor(B[1],D.initialConfig.height,E)};
}H=w.right?this.adjustWidthAnchor(w.right(i)-I.getMargins("lr"),D):undefined;y=w.bottom?this.adjustHeightAnchor(w.bottom(C)-I.getMargins("tb"),D):undefined;if(H||y){c.push({comp:D,width:H||undefined,height:y||undefined});}}}for(G=0,A=c.length;G<A;G++){D=c[G];D.comp.setSize(D.width,D.height);}},parseAnchor:function(l,i,m){if(l&&l!="none"){var k;
if(this.parseAnchorRE.test(l)){var j=m-i;return function(b){if(b!==k){k=b;return b-j;}};}else{if(l.indexOf("%")!=-1){var a=parseFloat(l.replace("%",""))*0.01;return function(b){if(b!==k){k=b;return Math.floor(b*a);}};}else{l=parseInt(l,10);if(!isNaN(l)){return function(b){if(b!==k){k=b;return b+l;}};
}}}}return false;},adjustWidthAnchor:function(c,d){return c;},adjustHeightAnchor:function(c,d){return c;}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(c,d){return this.innerCt&&c.getPositionEl().dom.parentNode==this.innerCt.dom;
},getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize();}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb");}return d;},renderAll:function(d,c){if(!this.innerCt){this.innerCt=c.createChild({cls:"x-column-inner"});
this.innerCt.createChild({cls:"x-clear"});}Ext.layout.ColumnLayout.superclass.renderAll.call(this,d,this.innerCt);},onLayout:function(x,u){var w=x.items.items,v=w.length,s,z,A,m=[];this.renderAll(x,u);var c=this.getLayoutTargetSize();if(c.width<1&&c.height<1){return;}var i=c.width-this.scrollOffset,y=c.height,h=i;
this.innerCt.setWidth(i);for(z=0;z<v;z++){s=w[z];A=s.getPositionEl().getMargins("lr");m[z]=A;if(!s.columnWidth){h-=(s.getWidth()+A);}}h=h<0?0:h;for(z=0;z<v;z++){s=w[z];A=m[z];if(s.columnWidth){s.setSize(Math.floor(s.columnWidth*h)-A);}}if(Ext.isIE){if(z=u.getStyle("overflow")&&z!="hidden"&&!this.adjustmentPass){var t=this.getLayoutTargetSize();
if(t.width!=c.width){this.adjustmentPass=true;this.onLayout(x,u);}}}delete this.adjustmentPass;}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,type:"border",targetCls:"x-border-layout-ct",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();
return b?b.getViewSize():{};},onLayout:function(W,K){var V,h,c,S,J=W.items.items,M=J.length;if(!this.rendered){V=[];for(h=0;h<M;h++){c=J[h];S=c.region;if(c.collapsed){V.push(c);}c.collapsed=false;if(!c.rendered){c.render(K,h);c.getPositionEl().addClass("x-border-panel");}this[S]=S!="center"&&c.split?new Ext.layout.BorderLayout.SplitRegion(this,c.initialConfig,S):new Ext.layout.BorderLayout.Region(this,c.initialConfig,S);
this[S].render(K,c);}this.rendered=true;}var n=this.getLayoutTargetSize();if(n.width<20||n.height<20){if(V){this.restoreCollapsed=V;}return;}else{if(this.restoreCollapsed){V=this.restoreCollapsed;delete this.restoreCollapsed;}}var s=n.width,i=n.height,Q=s,N=i,R=0,w=0,O=this.north,P=this.south,T=this.west,b=this.east,c=this.center,e,L,X,m;
if(!c&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+W.id;}if(O&&O.isVisible()){e=O.getSize();L=O.getMargins();e.width=s-(L.left+L.right);e.x=L.left;e.y=L.top;R=e.height+e.y+L.bottom;N-=R;O.applyLayout(e);}if(P&&P.isVisible()){e=P.getSize();L=P.getMargins();e.width=s-(L.left+L.right);
e.x=L.left;m=(e.height+L.top+L.bottom);e.y=i-m+L.top;N-=m;P.applyLayout(e);}if(T&&T.isVisible()){e=T.getSize();L=T.getMargins();e.height=N-(L.top+L.bottom);e.x=L.left;e.y=R+L.top;X=(e.width+L.left+L.right);w+=X;Q-=X;T.applyLayout(e);}if(b&&b.isVisible()){e=b.getSize();L=b.getMargins();e.height=N-(L.top+L.bottom);
X=(e.width+L.left+L.right);e.x=s-X+L.left;e.y=R+L.top;Q-=X;b.applyLayout(e);}if(c){L=c.getMargins();var U={x:w+L.left,y:R+L.top,width:Q-(L.left+L.right),height:N-(L.top+L.bottom)};c.applyLayout(U);}if(V){for(h=0,M=V.length;h<M;h++){V[h].collapse(false);}}if(Ext.isIE&&Ext.isStrict){K.repaint();}if(h=K.getStyle("overflow")&&h!="hidden"&&!this.adjustmentPass){var Y=this.getLayoutTargetSize();
if(Y.width!=n.width||Y.height!=n.height){this.adjustmentPass=true;this.onLayout(W,K);}}delete this.adjustmentPass;},destroy:function(){var d=["north","south","east","west"],e,g;for(e=0;e<d.length;e++){g=this[d[e]];if(g){if(g.destroy){g.destroy();}else{if(g.split){g.split.destroy(true);}}}}Ext.layout.BorderLayout.superclass.destroy.call(this);
}});Ext.layout.BorderLayout.Region=function(d,e,g){Ext.apply(this,e);this.layout=d;this.position=g;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins);}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins);
}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0};}else{this.cmargins=Ext.applyIf(this.cmargins||{},g=="north"||g=="south"?this.defaultNSCMargins:this.defaultEWCMargins);}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(e,i){this.panel=i;
i.el.enableDisplayMode();this.targetEl=e;this.el=i.el;var g=i.getState,h=this.position;i.getState=function(){return Ext.apply(g.call(i)||{},this.state);}.createDelegate(this);if(h!="center"){i.allowQueuedExpand=false;i.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});
if(this.collapsible||this.floatable){i.collapseEl="el";i.slideAnchor=this.getSlideAnchor();}if(i.tools&&i.tools.toggle){i.tools.toggle.addClass("x-tool-collapse-"+h);i.tools.toggle.addClassOnOver("x-tool-collapse-"+h+"-over");}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var c=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');
c.disableFormats=true;c.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=c;}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);
this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true});
}else{if(this.collapsible!==false&&!this.hideCollapseTool){var d=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);d.addClassOnOver("x-tool-expand-"+this.position+"-over");d.on("click",this.onExpandClick,this,{stopEvent:true});}if(this.floatable!==false||this.titleCollapse){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");
this.collapsedEl.on("click",this[this.floatable?"collapseClick":"onExpandClick"],this);}}}return this.collapsedEl;},onExpandClick:function(b){if(this.isSlid){this.panel.expand(false);}else{this.panel.expand();}},onCollapseClick:function(b){this.panel.collapse();},beforeCollapse:function(g,e){this.lastAnim=e;
if(this.splitEl){this.splitEl.hide();}this.getCollapsedEl().show();var d=this.panel.getEl();this.originalZIndex=d.getStyle("z-index");d.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout();},onCollapse:function(b){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible";
}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2});}this.state.collapsed=true;this.panel.saveState();},beforeExpand:function(d){if(this.isSlid){this.afterSlideIn();}var c=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,c.getHeight());
}else{this.panel.setSize(c.getWidth(),undefined);}c.hide();c.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex);},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show();}this.layout.layout();this.panel.el.setStyle("z-index",this.originalZIndex);
this.state.collapsed=false;this.panel.saveState();},collapseClick:function(b){if(this.isSlid){b.stopPropagation();this.slideIn();}else{b.stopPropagation();this.slideOut();}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide();}else{if(this.splitEl){this.splitEl.hide();}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show();
}else{if(this.splitEl){this.splitEl.show();}}},isVisible:function(){return !this.panel.hidden;},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins;},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize();},setPanel:function(b){this.panel=b;
},getMinWidth:function(){return this.minWidth;},getMinHeight:function(){return this.minHeight;},applyLayoutCollapsed:function(d){var c=this.getCollapsedEl();c.setLeftTop(d.x,d.y);c.setSize(d.width,d.height);},applyLayout:function(b){if(this.isCollapsed){this.applyLayoutCollapsed(b);}else{this.panel.setPosition(b.x,b.y);
this.panel.setSize(b.width,b.height);}},beforeSlide:function(){this.panel.beforeEffect();},afterSlide:function(){this.panel.afterEffect();},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){this.autoHideSlideTask=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(b){if(!b.within(this.el,true)){this.autoHideSlideTask.delay(500);
}},mouseover:function(b){this.autoHideSlideTask.cancel();},scope:this};}this.el.on(this.autoHideHd);this.collapsedEl.on(this.autoHideHd);}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);this.collapsedEl.un("mouseout",this.autoHideHd.mouseout);
this.collapsedEl.un("mouseover",this.autoHideHd.mouseover);}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this);},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return;}this.isSlid=true;var d=this.panel.tools,g,e;if(d&&d.toggle){d.toggle.hide();}this.el.show();e=this.panel.collapsed;
this.panel.collapsed=false;if(this.position=="east"||this.position=="west"){g=this.panel.deferHeight;this.panel.deferHeight=false;this.panel.setSize(undefined,this.collapsedEl.getHeight());this.panel.deferHeight=g;}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined);}this.panel.collapsed=e;
this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating");if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();
this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this);},scope:this,block:true});}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this);}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");
this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var b=this.panel.tools;if(b&&b.toggle){b.toggle.show();}},slideIn:function(b){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(b);return;}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();
this.afterSlide();this.afterSlideIn();Ext.callback(b);},scope:this,block:true});}else{this.el.hide();this.afterSlideIn();}},slideInIf:function(b){if(!b.within(this.el)){this.slideIn();}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position];
},getCollapseAnchor:function(){return this.canchors[this.position];},getSlideAnchor:function(){return this.sanchors[this.position];},getAlignAdj:function(){var b=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];
break;}},getExpandAdj:function(){var c=this.collapsedEl,d=this.cmargins;switch(this.position){case"west":return[-(d.right+c.getWidth()+d.left),0];break;case"east":return[d.right+c.getWidth()+d.left,0];break;case"north":return[0,-(d.top+d.bottom+c.getHeight())];break;case"south":return[0,d.top+d.bottom+c.getHeight()];
break;}},destroy:function(){if(this.autoHideSlideTask&&this.autoHideSlideTask.cancel){this.autoHideSlideTask.cancel();}Ext.destroy(this.miniCollapsedEl,this.collapsedEl);}};Ext.layout.BorderLayout.SplitRegion=function(d,e,g){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,d,e,g);
this.applyLayout=this.applyFns[g];};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);
}var h=this.splitEl.dom,e=h.style;this.panel.setPosition(i.x,i.y);var g=h.offsetWidth;e.left=(i.x+i.width-g)+"px";e.top=(i.y)+"px";e.height=Math.max(0,i.height)+"px";this.panel.setSize(i.width-g,i.height);},east:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;
var g=h.offsetWidth;this.panel.setPosition(i.x+g,i.y);e.left=(i.x)+"px";e.top=(i.y)+"px";e.height=Math.max(0,i.height)+"px";this.panel.setSize(i.width-g,i.height);},north:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;var g=h.offsetHeight;this.panel.setPosition(i.x,i.y);
e.left=(i.x)+"px";e.top=(i.y+i.height-g)+"px";e.width=Math.max(0,i.width)+"px";this.panel.setSize(i.width,i.height-g);},south:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;var g=h.offsetHeight;this.panel.setPosition(i.x,i.y+g);e.left=(i.x)+"px";
e.top=(i.y)+"px";e.width=Math.max(0,i.width)+"px";this.panel.setSize(i.width,i.height-g);}},render:function(g,i){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,g,i);var h=this.position;this.splitEl=g.createChild({cls:"x-layout-split x-layout-split-"+h,html:"&#160;",id:this.panel.id+"-xsplit"});
if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+h,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true});}var e=this.splitSettings[h];this.split=new Ext.SplitBar(this.splitEl.dom,i.el,e.orientation);
this.split.tickSize=this.tickSize;this.split.placement=e.placement;this.split.getMaximumSize=this[e.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[e.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[e.maxProp];
if(i.hidden){this.splitEl.hide();}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip;}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this);}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize();}var b=this.panel.getSize();
if(this.position=="north"||this.position=="south"){b.height+=this.splitEl.dom.offsetHeight;}else{b.width+=this.splitEl.dom.offsetWidth;}return b;},getHMaxSize:function(){var c=this.maxSize||10000;var d=this.layout.center;return Math.min(c,(this.el.getWidth()+d.el.getWidth())-d.getMinWidth());},getVMaxSize:function(){var c=this.maxSize||10000;
var d=this.layout.center;return Math.min(c,(this.el.getHeight()+d.el.getHeight())-d.getMinHeight());},onSplitMove:function(d,e){var g=this.panel.getSize();this.lastSplitSize=e;if(this.position=="north"||this.position=="south"){this.panel.setSize(g.width,e);this.state.height=e;}else{this.panel.setSize(e,g.height);
this.state.width=e;}this.layout.layout();this.panel.saveState();return false;},getSplitBar:function(){return this.split;},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this);}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;
Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:false,type:"form",onRemove:function(g){Ext.layout.FormLayout.superclass.onRemove.call(this,g);if(this.trackLabels){g.un("show",this.onFieldShow,this);g.un("hide",this.onFieldHide,this);}var c=g.getPositionEl(),e=g.getItemCt&&g.getItemCt();
if(g.rendered&&e){if(c&&c.dom){c.insertAfter(e);}Ext.destroy(e);Ext.destroyMembers(g,"label","itemCt");if(g.customItemCt){Ext.destroyMembers(g,"getItemCt","customItemCt");}}},setContainer:function(d){Ext.layout.FormLayout.superclass.setContainer.call(this,d);if(d.labelAlign){d.addClass("x-form-label-"+d.labelAlign);
}if(d.hideLabels){Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0});}else{this.labelSeparator=d.labelSeparator||this.labelSeparator;d.labelWidth=d.labelWidth||100;if(Ext.isNumber(d.labelWidth)){var c=Ext.isNumber(d.labelPad)?d.labelPad:5;Ext.apply(this,{labelAdjust:d.labelWidth+c,labelStyle:"width:"+d.labelWidth+"px;",elementStyle:"padding-left:"+(d.labelWidth+c)+"px"});
}if(d.labelAlign=="top"){Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"});}}},isHide:function(b){return b.hideLabel||this.container.hideLabels;},onFieldShow:function(b){b.getItemCt().removeClass("x-hide-"+b.hideMode);if(b.isComposite){b.doLayout();}},onFieldHide:function(b){b.getItemCt().addClass("x-hide-"+b.hideMode);
},getLabelStyle:function(k){var i="",h=[this.labelStyle,k];for(var g=0,j=h.length;g<j;++g){if(h[g]){i+=h[g];if(i.substr(-1,1)!=";"){i+=";";}}}return i;},renderItem:function(h,g,i){if(h&&(h.isFormField||h.fieldLabel)&&h.inputType!="hidden"){var c=this.getTemplateArgs(h);if(Ext.isNumber(g)){g=i.dom.childNodes[g]||null;
}if(g){h.itemCt=this.fieldTpl.insertBefore(g,c,true);}else{h.itemCt=this.fieldTpl.append(i,c,true);}if(!h.getItemCt){Ext.apply(h,{getItemCt:function(){return h.itemCt;},customItemCt:true});}h.label=h.getItemCt().child("label.x-form-item-label");if(!h.rendered){h.render("x-form-el-"+h.id);}else{if(!this.isValidParent(h,i)){Ext.fly("x-form-el-"+h.id).appendChild(h.getPositionEl());
}}if(this.trackLabels){if(h.hidden){this.onFieldHide(h);}h.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide});}this.configureItem(h);}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments);}},getTemplateArgs:function(c){var d=!c.fieldLabel||c.hideLabel;return{id:c.id,label:c.fieldLabel,itemCls:(c.itemCls||this.container.itemCls||"")+(c.hideLabel?" x-hide-label":""),clearCls:c.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(c.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:d?"":(Ext.isDefined(c.labelSeparator)?c.labelSeparator:this.labelSeparator)};
},adjustWidthAnchor:function(e,g){if(g.label&&!this.isHide(g)&&(this.container.labelAlign!="top")){var c=Ext.isIE6||(Ext.isIE&&!Ext.isStrict);return e-this.labelAdjust+(c?-3:0);}return e;},adjustHeightAnchor:function(d,c){if(c.label&&!this.isHide(c)&&(this.container.labelAlign=="top")){return d-c.label.getHeight();
}return d;},isValidParent:function(c,d){return d&&this.container.getEl().contains(c.getPositionEl());}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,type:"accordion",renderItem:function(b){if(this.animate===false){b.animCollapse=false;
}b.collapsible=true;if(this.autoWidth){b.autoWidth=true;}if(this.titleCollapse){b.titleCollapse=true;}if(this.hideCollapseTool){b.hideCollapseTool=true;}if(this.collapseFirst!==undefined){b.collapseFirst=this.collapseFirst;}if(!this.activeItem&&!b.collapsed){this.setActiveItem(b,true);}else{if(this.activeItem&&this.activeItem!=b){b.collapsed=true;
}}Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);b.header.addClass("x-accordion-hd");b.on("beforeexpand",this.beforeExpand,this);},onRemove:function(b){Ext.layout.AccordionLayout.superclass.onRemove.call(this,b);if(b.rendered){b.header.removeClass("x-accordion-hd");}b.un("beforeexpand",this.beforeExpand,this);
},beforeExpand:function(g,d){var e=this.activeItem;if(e){if(this.sequence){delete this.activeItem;if(!e.collapsed){e.collapse({callback:function(){g.expand(d||true);},scope:this});return false;}}else{e.collapse(this.animate);}}this.setActive(g);if(this.activeOnTop){g.el.dom.parentNode.insertBefore(g.el.dom,g.el.dom.parentNode.firstChild);
}this.layout();},setItemSize:function(o,i){if(this.fill&&o){var j=0,k,l=this.getRenderedItems(this.container),m=l.length,n;for(k=0;k<m;k++){if((n=l[k])!=o&&!n.hidden){j+=n.header.getHeight();}}i.height-=j;o.setSize(i);}},setActiveItem:function(b){this.setActive(b,true);},setActive:function(g,d){var e=this.activeItem;
g=this.container.getComponent(g);if(e!=g){if(g.rendered&&g.collapsed&&d){g.expand();}else{if(e){e.fireEvent("deactivate",e);}this.activeItem=g;g.fireEvent("activate",g);}}}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(b){Ext.layout.TableLayout.superclass.setContainer.call(this,b);
this.currentRow=0;this.currentColumn=0;this.cells=[];},onLayout:function(m,k){var l=m.items.items,i=l.length,j,c;if(!this.table){k.addClass("x-table-layout-ct");this.table=k.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true);}this.renderAll(m,k);
},getRow:function(d){var c=this.table.tBodies[0].childNodes[d];if(!c){c=document.createElement("tr");this.table.tBodies[0].appendChild(c);}return c;},getNextCell:function(l){var c=this.getNextNonSpan(this.currentColumn,this.currentRow);var o=this.currentColumn=c[0],k=this.currentRow=c[1];for(var m=k;
m<k+(l.rowspan||1);m++){if(!this.cells[m]){this.cells[m]=[];}for(var q=o;q<o+(l.colspan||1);q++){this.cells[m][q]=true;}}var p=document.createElement("td");if(l.cellId){p.id=l.cellId;}var n="x-table-layout-cell";if(l.cellCls){n+=" "+l.cellCls;}p.className=n;if(l.colspan){p.colSpan=l.colspan;}if(l.rowspan){p.rowSpan=l.rowspan;
}this.getRow(k).appendChild(p);return p;},getNextNonSpan:function(e,g){var d=this.columns;while((d&&e>=d)||(this.cells[g]&&this.cells[g][e])){if(d&&e>=d){g++;e=0;}else{e++;}}return[e,g];},renderItem:function(h,g,i){if(!this.table){this.table=i.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true);
}if(h&&!h.rendered){h.render(this.getNextCell(h));this.configureItem(h,g);}else{if(h&&!this.isValidParent(h,i)){var c=this.getNextCell(h);c.insertBefore(h.getPositionEl().dom,null);h.container=Ext.get(c);this.configureItem(h,g);}}},isValidParent:function(c,d){return c.getPositionEl().up("table",5).dom.parentNode===(d.dom||d);
}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(d,c){c.position();this.paddingLeft=c.getPadding("l");this.paddingTop=c.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,d,c);
},adjustWidthAnchor:function(c,d){return c?c-d.getPosition(true)[0]+this.paddingLeft:c;},adjustHeightAnchor:function(c,d){return c?c-d.getPosition(true)[1]+this.paddingTop:c;}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:true,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(b){Ext.layout.BoxLayout.superclass.constructor.call(this,b);
if(Ext.isString(this.defaultMargins)){this.defaultMargins=this.parseMargins(this.defaultMargins);}},onLayout:function(g,h){Ext.layout.BoxLayout.superclass.onLayout.call(this,g,h);var e=this.getVisibleItems(g),i=this.getLayoutTargetSize();this.layoutTargetLastSize=i;this.childBoxCache=this.calculateChildBoxes(e,i);
this.updateInnerCtSize(i,this.childBoxCache);this.updateChildBoxes(this.childBoxCache.boxes);this.handleTargetOverflow(i,g,h);},updateChildBoxes:function(h){for(var i=0,k=h.length;i<k;i++){var g=h[i],j=g.component;if(g.dirtySize){j.setSize(g.width,g.height);}if(isNaN(g.left)||isNaN(g.top)){continue;}j.setPosition(g.left,g.top);
}},updateInnerCtSize:Ext.emptyFn,handleTargetOverflow:function(g,j,h){var k=h.getStyle("overflow");if(k&&k!="hidden"&&!this.adjustmentPass){var i=this.getLayoutTargetSize();if(i.width!=g.width||i.height!=g.height){this.adjustmentPass=true;this.onLayout(j,h);}}delete this.adjustmentPass;},isValidParent:function(c,d){return this.innerCt&&c.getPositionEl().dom.parentNode==this.innerCt.dom;
},getVisibleItems:function(i){var i=i||this.container,k=i.getLayoutTarget(),n=i.items.items,m=n.length,l,o,c=[];for(l=0;l<m;l++){if((o=n[l]).rendered&&this.isValidParent(o,k)&&o.hidden!==true&&o.collapsed!==true){c.push(o);}}return c;},renderAll:function(d,c){if(!this.innerCt){this.innerCt=c.createChild({cls:this.innerCls});
this.padding=this.parseMargins(this.padding);}Ext.layout.BoxLayout.superclass.renderAll.call(this,d,this.innerCt);},getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize();}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb");
}return d;},renderItem:function(b){if(Ext.isString(b.margins)){b.margins=this.parseMargins(b.margins);}else{if(!b.margins){b.margins=this.defaultMargins;}}Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments);}});Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",updateInnerCtSize:function(e,h){var i=e.height,g=h.meta.maxWidth+this.padding.left+this.padding.right;
if(this.align=="stretch"){g=e.width;}else{if(this.align=="center"){g=Math.max(e.width,g);}}this.innerCt.setSize(g||undefined,i||undefined);},calculateChildBoxes:function(Y,ab){var ad=Y.length,P=this.padding,L=P.top,ag=P.left,Z=L+P.bottom,N=ag+P.right,K=ab.width-this.scrollOffset,R=ab.height,S=Math.max(0,K-N),T=this.pack=="start",ai=this.pack=="center",ae=this.pack=="end",ah=0,ac=0,i=0,am=[],Q,O,ao,X,W,V,M,af,ak,J,U;
for(M=0;M<ad;M++){Q=Y[M];ao=Q.height;O=Q.width;V=!Q.hasLayout&&Ext.isFunction(Q.doLayout);if(!Ext.isNumber(ao)){if(Q.flex&&!ao){i+=Q.flex;}else{if(!ao&&V){Q.doLayout();}X=Q.getSize();O=X.width;ao=X.height;}}W=Q.margins;ah+=(ao||0)+W.top+W.bottom;if(!Ext.isNumber(O)){if(V){Q.doLayout();}O=Q.getWidth();
}ac=Math.max(ac,O+W.left+W.right);am.push({component:Q,height:ao||undefined,width:O||undefined});}var an=Math.max(0,(R-ah-Z));if(ai){L+=an/2;}else{if(ae){L+=an;}}var aj=an,aa=i;for(M=0;M<ad;M++){Q=Y[M];af=am[M];W=Q.margins;J=W.left+W.right;L+=W.top;if(T&&Q.flex&&!Q.height){ak=Math.ceil((Q.flex/aa)*aj);
aj-=ak;aa-=Q.flex;af.height=ak;af.dirtySize=true;}af.left=ag+W.left;af.top=L;switch(this.align){case"stretch":U=S-J;af.width=U.constrain(Q.minWidth||0,Q.maxWidth||1000000);af.dirtySize=true;break;case"stretchmax":U=ac-J;af.width=U.constrain(Q.minWidth||0,Q.maxWidth||1000000);af.dirtySize=true;break;case"center":var al=S-af.width-J;
if(al>0){af.left=ag+J+(al/2);}}L+=af.height+W.bottom;}return{boxes:am,meta:{maxWidth:ac}};}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",updateInnerCtSize:function(e,h){var g=e.width,i=h.meta.maxHeight+this.padding.top+this.padding.bottom;
if(this.align=="stretch"){i=e.height;}else{if(this.align=="middle"){i=Math.max(e.height,i);}}this.innerCt.setSize(g||undefined,i||undefined);},calculateChildBoxes:function(i,ab){var ae=i.length,N=this.padding,R=N.top,Y=N.left,Z=R+N.bottom,ao=Y+N.right,P=ab.width-this.scrollOffset,T=ab.height,O=Math.max(0,T-Z),an=this.pack=="start",ag=this.pack=="center",ac=this.pack=="end",ah=0,S=0,ai=0,af=[],L,ad,am,al,X,K,M,Q,aa,ak,V;
for(M=0;M<ae;M++){L=i[M];am=L.height;ad=L.width;K=!L.hasLayout&&Ext.isFunction(L.doLayout);if(!Ext.isNumber(ad)){if(L.flex&&!ad){ai+=L.flex;}else{if(!ad&&K){L.doLayout();}al=L.getSize();ad=al.width;am=al.height;}}X=L.margins;ah+=(ad||0)+X.left+X.right;if(!Ext.isNumber(am)){if(K){L.doLayout();}am=L.getHeight();
}S=Math.max(S,am+X.top+X.bottom);af.push({component:L,height:am||undefined,width:ad||undefined});}var U=Math.max(0,(P-ah-ao));if(ag){Y+=U/2;}else{if(ac){Y+=U;}}var W=U,J=ai;for(M=0;M<ae;M++){L=i[M];Q=af[M];X=L.margins;ak=X.top+X.bottom;Y+=X.left;if(an&&L.flex&&!L.width){aa=Math.ceil((L.flex/J)*W);W-=aa;
J-=L.flex;Q.width=aa;Q.dirtySize=true;}Q.left=Y;Q.top=R+X.top;switch(this.align){case"stretch":V=O-ak;Q.height=V.constrain(L.minHeight||0,L.maxHeight||1000000);Q.dirtySize=true;break;case"stretchmax":V=S-ak;Q.height=V.constrain(L.minHeight||0,L.maxHeight||1000000);Q.dirtySize=true;break;case"middle":var aj=O-Q.height-ak;
if(aj>0){Q.top=R+ak+(aj/2);}}Y+=Q.width+X.right;}return{boxes:af,meta:{maxHeight:S}};}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:false,tableHTML:['<table cellspacing="0" class="x-toolbar-ct">',"<tbody>","<tr>",'<td class="x-toolbar-left" align="{0}">','<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-left-row"></tr>',"</tbody>","</table>","</td>",'<td class="x-toolbar-right" align="right">','<table cellspacing="0" class="x-toolbar-right-ct">',"<tbody>","<tr>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-right-row"></tr>',"</tbody>","</table>","</td>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-extras-row"></tr>',"</tbody>","</table>","</td>","</tr>","</tbody>","</table>","</td>","</tr>","</tbody>","</table>"].join(""),onLayout:function(p,i){if(!this.leftTr){var n=p.buttonAlign=="center"?"center":"left";
i.addClass("x-toolbar-layout-ct");i.insertHtml("beforeEnd",String.format(this.tableHTML,n));this.leftTr=i.child("tr.x-toolbar-left-row",true);this.rightTr=i.child("tr.x-toolbar-right-row",true);this.extrasTr=i.child("tr.x-toolbar-extras-row",true);if(this.hiddenItem==undefined){this.hiddenItems=[];}}var c=p.buttonAlign=="right"?this.rightTr:this.leftTr,u=p.items.items,q=0;
for(var r=0,o=u.length,t;r<o;r++,q++){t=u[r];if(t.isFill){c=this.rightTr;q=-1;}else{if(!t.rendered){t.render(this.insertCell(t,c,q));}else{if(!t.xtbHidden&&!this.isValidParent(t,c.childNodes[q])){var s=this.insertCell(t,c,q);s.appendChild(t.getPositionEl().dom);t.container=Ext.get(s);}}}}this.cleanup(this.leftTr);
this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(i);},cleanup:function(c){var h=c.childNodes,g,i;for(g=h.length-1;g>=0&&(i=h[g]);g--){if(!i.firstChild){c.removeChild(i);}}},insertCell:function(h,c,g){var i=document.createElement("td");i.className="x-toolbar-cell";c.insertBefore(i,c.childNodes[g]||null);
return i;},hideItem:function(b){this.hiddenItems.push(b);b.xtbHidden=true;b.xtbWidth=b.getPositionEl().dom.parentNode.offsetWidth;b.hide();},unhideItem:function(b){b.show();b.xtbHidden=false;this.hiddenItems.remove(b);},getItemWidth:function(b){return b.hidden?(b.xtbWidth||0):b.getPositionEl().dom.parentNode.offsetWidth;
},fitToSize:function(s){if(this.container.enableOverflow===false){return;}var p=s.dom.clientWidth,v=s.dom.firstChild.offsetWidth,t=p-this.triggerWidth,q=this.lastWidth||0,A=this.hiddenItems,w=A.length!=0,r=p>=q;this.lastWidth=p;if(v>p||(w&&r)){var u=this.container.items.items,x=u.length,z=0,i;for(var y=0;
y<x;y++){i=u[y];if(!i.isFill){z+=this.getItemWidth(i);if(z>t){if(!(i.hidden||i.xtbHidden)){this.hideItem(i);}}else{if(i.xtbHidden){this.unhideItem(i);}}}}}w=A.length!=0;if(w){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true;}}else{if(this.more){this.clearMenu();
this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false;}}}},createMenuConfig:function(i,g){var e=Ext.apply({},i.initialConfig),h=i.toggleGroup;Ext.copyTo(e,i,["iconCls","icon","itemId","disabled","handler","scope","menu"]);
Ext.apply(e,{text:i.overflowText||i.text,hideOnClick:g});if(h||i.enableToggle){Ext.apply(e,{group:h,checked:i.pressed,listeners:{checkchange:function(a,b){i.toggle(b);}}});}delete e.ownerCt;delete e.xtype;delete e.id;return e;},addComponentToMenu:function(c,d){if(d instanceof Ext.Toolbar.Separator){c.add("-");
}else{if(Ext.isFunction(d.isXType)){if(d.isXType("splitbutton")){c.add(this.createMenuConfig(d,true));}else{if(d.isXType("button")){c.add(this.createMenuConfig(d,!d.menu));}else{if(d.isXType("buttongroup")){d.items.each(function(a){this.addComponentToMenu(c,a);},this);}}}}}},clearMenu:function(){var b=this.moreMenu;
if(b&&b.items){b.items.each(function(a){delete a.menu;});}},beforeMoreShow:function(n){var l=this.container.items.items,m=l.length,o,i;var k=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.Toolbar.Separator);};this.clearMenu();n.removeAll();for(var j=0;j<m;j++){o=l[j];if(o.xtbHidden){if(i&&(k(o,i)||k(i,o))){n.add("-");
}this.addComponentToMenu(n,o);i=o;}}if(n.items.length<1){n.add(this.noItemsMenuText);}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});
var b=this.insertCell(this.more,this.extrasTr,100);this.more.render(b);}},destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this);}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;
Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"menu",setContainer:function(b){this.monitorResize=!b.floating;b.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,b);},renderItem:function(c,a,h){if(!this.itemTpl){this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img src="{icon}" class="{iconCls}"/>',"</tpl>","</li>");
}if(c&&!c.rendered){if(Ext.isNumber(a)){a=h.dom.childNodes[a];}var i=this.getItemArgs(c);c.render(c.positionEl=a?this.itemTpl.insertBefore(a,i,true):this.itemTpl.append(h,i,true));c.positionEl.menuItemId=c.getItemId();if(!i.isMenuItem&&i.needsIcon){c.positionEl.addClass("x-menu-list-item-indent");}this.configureItem(c,a);
}else{if(c&&!this.isValidParent(c,h)){if(Ext.isNumber(a)){a=h.dom.childNodes[a];}h.dom.insertBefore(c.getActionEl().dom,a||null);}}},getItemArgs:function(c){var d=c instanceof Ext.menu.Item;return{isMenuItem:d,needsIcon:!d&&(c.icon||c.iconCls),icon:c.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(c.iconCls||""),itemId:"x-menu-el-"+c.id,itemCls:"x-menu-list-item "};
},isValidParent:function(c,d){return c.el.up("li.x-menu-list-item",5).dom.parentNode===(d.dom||d);},onLayout:function(d,c){Ext.layout.MenuLayout.superclass.onLayout.call(this,d,c);this.doAutoSize();},doAutoSize:function(){var i=this.container,g=i.width;if(i.floating){if(g){i.setWidth(g);}else{if(Ext.isIE){i.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8)?"auto":i.minWidth);
var h=i.getEl(),e=h.dom.offsetWidth;i.setWidth(i.getLayoutTarget().getWidth()+h.getFrameWidth("lr"));}}}}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";
this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el;},fireResize:function(d,c){this.fireEvent("resize",this,d,c,d,c);
}});Ext.reg("viewport",Ext.Viewport);Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",preventBodyReset:false,padding:undefined,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);
this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain";}this.toolbars=[];if(this.tbar){this.elements+=",tbar";this.topToolbar=this.createToolbar(this.tbar);this.tbar=null;
}if(this.bbar){this.elements+=",bbar";this.bottomToolbar=this.createToolbar(this.bbar);this.bbar=null;}if(this.header===true){this.elements+=",header";this.header=null;}else{if(this.headerCfg||(this.title&&this.header!==false)){this.elements+=",header";}}if(this.footerCfg||this.footer===true){this.elements+=",footer";
this.footer=null;}if(this.buttons){this.fbar=this.buttons;this.buttons=null;}if(this.fbar){this.createFbar(this.fbar);}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10});}},createFbar:function(c){var d=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(c,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:false,defaults:function(a){return{minWidth:a.minWidth||d};
}});this.fbar.items.each(function(a){a.minWidth=a.minWidth||this.minButtonWidth;},this);this.buttons=this.fbar.items.items;},createToolbar:function(d,g){var e;if(Ext.isArray(d)){d={items:d};}e=d.events?Ext.apply(d,g):this.createComponent(Ext.apply({},d,g),"toolbar");this.toolbars.push(e);return e;},createElement:function(e,g){if(this[e]){g.appendChild(this[e].dom);
return;}if(e==="bwrap"||this.elements.indexOf(e)!=-1){if(this[e+"Cfg"]){this[e]=Ext.fly(g).createChild(this[e+"Cfg"]);}else{var d=document.createElement("div");d.className=this[e+"Cls"];this[e]=Ext.get(g.appendChild(d));}if(this[e+"CssClass"]){this[e].addClass(this[e+"CssClass"]);}if(this[e+"Style"]){this[e].applyStyles(this[e+"Style"]);
}}},onRender:function(o,p){Ext.Panel.superclass.onRender.call(this,o,p);this.createClasses();var s=this.el,n=s.dom,u,m;if(this.collapsible&&!this.hideCollapseTool){this.tools=this.tools?this.tools.slice(0):[];this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this});
}if(this.tools){m=this.tools;this.elements+=(this.header!==false)?",header":"";}this.tools={};s.addClass(this.baseCls);if(n.firstChild){this.header=s.down("."+this.headerCls);this.bwrap=s.down("."+this.bwrapCls);var d=this.bwrap?this.bwrap:s;this.tbar=d.down("."+this.tbarCls);this.body=d.down("."+this.bodyCls);
this.bbar=d.down("."+this.bbarCls);this.footer=d.down("."+this.footerCls);this.fromMarkup=true;}if(this.preventBodyReset===true){s.addClass("x-panel-reset");}if(this.cls){s.addClass(this.cls);}if(this.buttons){this.elements+=",footer";}if(this.frame){s.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));
this.createElement("header",n.firstChild.firstChild.firstChild);this.createElement("bwrap",n);u=this.bwrap.dom;var q=n.childNodes[1],r=n.childNodes[2];u.appendChild(q);u.appendChild(r);var t=u.firstChild.firstChild.firstChild;this.createElement("tbar",t);this.createElement("body",t);this.createElement("bbar",t);
this.createElement("footer",u.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter";}this.ft=Ext.get(this.bwrap.dom.lastChild);this.mc=Ext.get(t);}else{this.createElement("header",n);this.createElement("bwrap",n);u=this.bwrap.dom;this.createElement("tbar",u);
this.createElement("body",u);this.createElement("bbar",u);this.createElement("footer",u);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader");}}}if(Ext.isDefined(this.padding)){this.body.setStyle("padding",this.body.addUnits(this.padding));
}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder");}if(this.footer){this.footer.addClass(this.footerCls+"-noborder");}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder");
}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder");}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder");}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";
if(this.iconCls){this.setIconClass(this.iconCls);}}}if(this.floating){this.makeFloating(this.floating);}if(this.collapsible&&this.titleCollapse&&this.header){this.mon(this.header,"click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer");}if(m){this.addTool.apply(this,m);}if(this.fbar){this.footer.addClass("x-panel-btns");
this.fbar.ownerCt=this;this.fbar.render(this.footer);this.footer.createChild({cls:"x-clear"});}if(this.tbar&&this.topToolbar){this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar);}if(this.bbar&&this.bottomToolbar){this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar);}},setIconClass:function(i){var j=this.iconCls;
this.iconCls=i;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(j,this.iconCls);}else{var k=this.header,h=k.child("img.x-panel-inline-icon");if(h){Ext.fly(h).replaceClass(j,this.iconCls);}else{var g=k.child("span."+this.headerTextCls);if(g){Ext.DomHelper.insertBefore(g.dom,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls});
}}}}this.fireEvent("iconchange",this,i,j);},makeFloating:function(b){this.floating=true;this.el=new Ext.Layer(Ext.apply({},b,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el);},getTopToolbar:function(){return this.topToolbar;
},getBottomToolbar:function(){return this.bottomToolbar;},getFooterToolbar:function(){return this.fbar;},addButton:function(e,g,d){if(!this.fbar){this.createFbar([]);}if(g){if(Ext.isString(e)){e={text:e};}e=Ext.apply({handler:g,scope:d},e);}return this.fbar.add(e);},addTool:function(){if(!this.rendered){if(!this.tools){this.tools=[];
}Ext.each(arguments,function(b){this.tools.push(b);},this);return;}if(!this[this.toolTarget]){return;}if(!this.toolTemplate){var n=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');n.disableFormats=true;n.compile();Ext.Panel.prototype.toolTemplate=n;}for(var l=0,a=arguments,m=a.length;
l<m;l++){var i=a[l];if(!this.tools[i.id]){var k="x-tool-"+i.id+"-over";var o=this.toolTemplate.insertFirst(this[this.toolTarget],i,true);this.tools[i.id]=o;o.enableDisplayMode("block");this.mon(o,"click",this.createToolHandler(o,i,k,this));if(i.on){this.mon(o,i.on);}if(i.hidden){o.hide();}if(i.qtip){if(Ext.isObject(i.qtip)){Ext.QuickTips.register(Ext.apply({target:o.id},i.qtip));
}else{o.dom.qtip=i.qtip;}}o.addClassOnOver(k);}}},onLayout:function(c,d){Ext.Panel.superclass.onLayout.apply(this,arguments);if(this.hasLayout&&this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.doLayout(undefined,d);});this.syncHeight();}},syncHeight:function(){var e=this.toolbarHeight,i=this.body,g=this.lastSize.height,h;
if(this.autoHeight||!Ext.isDefined(g)||g=="auto"){return;}if(e!=this.getToolbarHeight()){e=Math.max(0,g-this.getFrameHeight());i.setHeight(e);h=i.getSize();this.toolbarHeight=this.getToolbarHeight();this.onBodyResize(h.width,h.height);}},onShow:function(){if(this.floating){return this.el.show();}Ext.Panel.superclass.onShow.call(this);
},onHide:function(){if(this.floating){return this.el.hide();}Ext.Panel.superclass.onHide.call(this);},createToolHandler:function(i,g,h,e){return function(a){i.removeClass(h);if(g.stopEvent!==false){a.stopEvent();}if(g.handler){g.handler.call(g.scope||i,a,i,e,g);}};},afterRender:function(){if(this.floating&&!this.hidden){this.el.show();
}if(this.title){this.setTitle(this.title);}Ext.Panel.superclass.afterRender.call(this);if(this.collapsed){this.collapsed=false;this.collapse(false);}this.initEvents();},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys);}return this.keyMap;},initEvents:function(){if(this.keys){this.getKeyMap();
}if(this.draggable){this.initDraggable();}if(this.toolbars.length>0){Ext.each(this.toolbars,function(b){b.doLayout();b.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight});},this);this.syncHeight();}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable);
},beforeEffect:function(b){if(this.floating){this.el.beforeAction();}if(b!==false){this.el.addClass("x-panel-animated");}},afterEffect:function(b){this.syncShadow();this.el.removeClass("x-panel-animated");},createEffect:function(i,a,h){var g={scope:h,block:true};if(i===true){g.callback=a;return g;}else{if(!i.callback){g.callback=a;
}else{g.callback=function(){a.call(h);Ext.callback(i.callback,i.scope);};}}return Ext.applyIf(g,i);},collapse:function(c){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,c)===false){return;}var d=c===true||(c!==false&&this.animCollapse);this.beforeEffect(d);this.onCollapse(d,c);
return this;},onCollapse:function(d,c){if(d){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterCollapse,this),this.collapseDefaults));}else{this[this.collapseEl].hide(this.hideMode);this.afterCollapse(false);}},afterCollapse:function(b){this.collapsed=true;
this.el.addClass(this.collapsedCls);if(b!==false){this[this.collapseEl].hide(this.hideMode);}this.afterEffect(b);this.cascade(function(a){if(a.lastSize){a.lastSize={width:undefined,height:undefined};}});this.fireEvent("collapse",this);},expand:function(c){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,c)===false){return;
}var d=c===true||(c!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect(d);this.onExpand(d,c);return this;},onExpand:function(d,c){if(d){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterExpand,this),this.expandDefaults));}else{this[this.collapseEl].show(this.hideMode);
this.afterExpand(false);}},afterExpand:function(b){this.collapsed=false;if(b!==false){this[this.collapseEl].show(this.hideMode);}this.afterEffect(b);if(this.deferLayout){delete this.deferLayout;this.doLayout(true);}this.fireEvent("expand",this);},toggleCollapse:function(b){this[this.collapsed?"expand":"collapse"](b);
return this;},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask();}Ext.Panel.superclass.onDisable.call(this);},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask();}Ext.Panel.superclass.onEnable.call(this);},onResize:function(j,l,m,k){var i=j,h=l;if(Ext.isDefined(i)||Ext.isDefined(h)){if(!this.collapsed){if(Ext.isNumber(i)){this.body.setWidth(i=this.adjustBodyWidth(i-this.getFrameWidth()));
}else{if(i=="auto"){i=this.body.setWidth("auto").dom.offsetWidth;}else{i=this.body.dom.offsetWidth;}}if(this.tbar){this.tbar.setWidth(i);if(this.topToolbar){this.topToolbar.setSize(i);}}if(this.bbar){this.bbar.setWidth(i);if(this.bottomToolbar){this.bottomToolbar.setSize(i);if(Ext.isIE){this.bbar.setStyle("position","static");
this.bbar.setStyle("position","");}}}if(this.footer){this.footer.setWidth(i);if(this.fbar){this.fbar.setSize(Ext.isIE?(i-this.footer.getFrameWidth("lr")):"auto");}}if(Ext.isNumber(h)){h=Math.max(0,h-this.getFrameHeight());this.body.setHeight(h);}else{if(h=="auto"){this.body.setHeight(h);}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight());
}}else{this.queuedBodySize={width:i,height:h};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height);},this,{single:true});}}this.onBodyResize(i,h);}this.syncShadow();
Ext.Panel.superclass.onResize.call(this,j,l,m,k);},onBodyResize:function(d,c){this.fireEvent("bodyresize",this,d,c);},getToolbarHeight:function(){var b=0;if(this.rendered){Ext.each(this.toolbars,function(a){b+=a.getHeight();},this);}return b;},adjustBodyHeight:function(b){return b;},adjustBodyWidth:function(b){return b;
},onPosition:function(){this.syncShadow();},getFrameWidth:function(){var c=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var d=this.bwrap.dom.firstChild;c+=(Ext.fly(d).getFrameWidth("l")+Ext.fly(d.firstChild).getFrameWidth("r"));c+=this.mc.getFrameWidth("lr");}return c;},getFrameHeight:function(){var b=Math.max(0,this.getHeight()-this.body.getHeight());
if(isNaN(b)){b=0;}return b;},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth();},getInnerHeight:function(){return this.body.getHeight();},syncShadow:function(){if(this.floating){this.el.sync(true);}},getLayoutTarget:function(){return this.body;},getContentTarget:function(){return this.body;
},setTitle:function(c,d){this.title=c;if(this.header&&this.headerAsText){this.header.child("span").update(c);}if(d){this.setIconClass(d);}this.fireEvent("titlechange",this,c);return this;},getUpdater:function(){return this.body.getUpdater();},load:function(){var b=this.body.getUpdater();b.update.apply(b,arguments);
return this;},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);if(this.header){this.header.removeAllListeners();}if(this.tools){for(var b in this.tools){Ext.destroy(this.tools[b]);}}if(this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.un("afterlayout",this.syncHeight,this);
a.un("remove",this.syncHeight,this);},this);}if(Ext.isArray(this.buttons)){while(this.buttons.length){Ext.destroy(this.buttons[0]);}}if(this.rendered){Ext.destroy(this.ft,this.header,this.footer,this.tbar,this.bbar,this.body,this.mc,this.bwrap,this.dd);if(this.fbar){Ext.destroy(this.fbar,this.fbar.el);
}}Ext.destroy(this.toolbars);},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer";
},createGhost:function(j,k,i){var g=document.createElement("div");g.className="x-panel-ghost "+(j?j:"");if(this.header){g.appendChild(this.el.dom.firstChild.cloneNode(true));}Ext.fly(g.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());g.style.width=this.el.dom.offsetWidth+"px";
if(!i){this.container.dom.appendChild(g);}else{Ext.getDom(i).appendChild(g);}if(k!==false&&this.el.useShim!==false){var h=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},g);h.show();return h;}else{return new Ext.Element(g);}},doAutoLoad:function(){var b=this.body.getUpdater();if(this.renderer){b.setRenderer(this.renderer);
}b.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad});},getTool:function(b){return this.tools[b];}});Ext.reg("panel",Ext.Panel);Ext.Editor=function(c,d){if(c.field){this.field=Ext.create(c.field,"textfield");d=Ext.apply({},c);delete d.field;}else{this.field=c;}Ext.Editor.superclass.constructor.call(this,d);
};Ext.extend(Ext.Editor,Ext.Component,{allowBlur:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey");
},onRender:function(c,d){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:c,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex);}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip";
}this.field.inEditor=true;this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey});if(this.field.grow){this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1});}this.field.render(this.el).show();this.field.getEl().dom.name="";if(this.swallowKeys){this.field.el.swallowEvent(["keypress","keydown"]);
}},onSpecialKey:function(k,e){var i=e.getKey(),j=this.completeOnEnter&&i==e.ENTER,h=this.cancelOnEsc&&i==e.ESC;if(j||h){e.stopEvent();if(j){this.completeEdit();}else{this.cancelEdit();}if(k.triggerBlur){k.triggerBlur();}}this.fireEvent("specialkey",k,e);},startEdit:function(d,g){if(this.editing){this.completeEdit();
}this.boundEl=Ext.get(d);var e=g!==undefined?g:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body);}if(this.fireEvent("beforestartedit",this,this.boundEl,e)!==false){this.startValue=e;this.field.reset();this.field.setValue(e);this.realign(true);this.editing=true;this.show();
}},doAutoSize:function(){if(this.autoSize){var c=this.boundEl.getSize(),d=this.field.getSize();switch(this.autoSize){case"width":this.setSize(c.width,d.height);break;case"height":this.setSize(d.width,c.height);break;case"none":this.setSize(d.width,d.height);break;default:this.setSize(c.width,c.height);
}}},setSize:function(d,c){delete this.field.lastSize;this.field.setSize(d,c);if(this.el){if(Ext.isGecko2||Ext.isOpera){this.el.setSize(d,c);}this.el.sync();}},realign:function(b){if(b===true){this.doAutoSize();}this.el.alignTo(this.boundEl,this.alignment,this.offsets);},completeEdit:function(d){if(!this.editing){return;
}if(this.field.assertValue){this.field.assertValue();}var c=this.getValue();if(!this.field.isValid()){if(this.revertInvalid!==false){this.cancelEdit(d);}return;}if(String(c)===String(this.startValue)&&this.ignoreNoChange){this.hideEdit(d);return;}if(this.fireEvent("beforecomplete",this,c,this.startValue)!==false){c=this.getValue();
if(this.updateEl&&this.boundEl){this.boundEl.update(c);}this.hideEdit(d);this.fireEvent("complete",this,c,this.startValue);}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide();}this.field.show().focus(false,true);this.fireEvent("startedit",this.boundEl,this.startValue);},cancelEdit:function(d){if(this.editing){var c=this.getValue();
this.setValue(this.startValue);this.hideEdit(d);this.fireEvent("canceledit",this,c,this.startValue);}},hideEdit:function(b){if(b!==true){this.editing=false;this.hide();}},onBlur:function(){if(this.allowBlur===true&&this.editing&&this.selectSameEditor!==true){this.completeEdit();}},onHide:function(){if(this.editing){this.completeEdit();
return;}this.field.blur();if(this.field.collapse){this.field.collapse();}this.el.hide();if(this.hideEl!==false){this.boundEl.show();}},setValue:function(b){this.field.setValue(b);},getValue:function(){return this.field.getValue();},beforeDestroy:function(){Ext.destroyMembers(this,"field");delete this.parentEl;
delete this.boundEl;}});Ext.reg("editor",Ext.Editor);Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this);
this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true);}},onRender:function(d,e){this.autoEl={tag:"div",cls:this.itemCls};Ext.ColorPalette.superclass.onRender.call(this,d,e);var g=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');
g.overwrite(this.el,this.colors);this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:true});}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var b=this.value;
this.value=null;this.select(b,true);}},handleClick:function(c,e){c.preventDefault();if(!this.disabled){var g=e.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(g.toUpperCase());}},select:function(d,e){d=d.replace("#","");if(d!=this.value||this.allowReselect){var g=this.el;if(this.value){g.child("a.color-"+this.value).removeClass("x-color-palette-sel");
}g.child("a.color-"+d).addClass("x-color-palette-sel");this.value=d;if(e!==true){this.fireEvent("select",this,d);}}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,focusOnSelect:true,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);
this.value=this.value?this.value.clearTime(true):new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this);}this.initDisabledDays();},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";
Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":d[b];if(b!=e){g+="|";}},this);this.disabledDatesRE=new RegExp(g+")");}},setDisabledDates:function(b){if(Ext.isArray(b)){this.disabledDates=b;this.disabledDatesRE=null;}else{this.disabledDatesRE=b;}this.initDisabledDays();
this.update(this.value,true);},setDisabledDays:function(b){this.disabledDays=b;this.update(this.value,true);},setMinDate:function(b){this.minDate=b;this.update(this.value,true);},setMaxDate:function(b){this.maxDate=b;this.update(this.value,true);},setValue:function(b){this.value=b.clearTime(true);this.update(this.value);
},getValue:function(){return this.value;},focus:function(){this.update(this.activeDate);},onEnable:function(b){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(false);this.update(b?this.value:this.activeDate);if(Ext.isIE){this.el.repaint();}},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);
this.doDisabled(true);if(Ext.isIE&&!Ext.isIE8){Ext.each([].concat(this.textNodes,this.el.query("th span")),function(b){Ext.fly(b).repaint();});}},doDisabled:function(b){this.keyNav.setDisabled(b);this.prevRepeater.setDisabled(b);this.nextRepeater.setDisabled(b);if(this.showToday){this.todayKeyListener.setDisabled(b);
this.todayBtn.setDisabled(b);}},onRender:function(o,m){var q=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],p=this.dayNames,n;
for(n=0;n<7;n++){var i=this.startDay+n;if(i>6){i=i-7;}q.push("<th><span>",p[i].substr(0,1),"</span></th>");}q[q.length]="</tr></thead><tbody><tr>";for(n=0;n<42;n++){if(n%7===0&&n!==0){q[q.length]="</tr><tr>";}q[q.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';
}q.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var l=document.createElement("div");l.className="x-date-picker";l.innerHTML=q.join("");o.dom.insertBefore(l,m);this.el=Ext.get(l);
this.eventEl=Ext.get(l.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});
this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){if(a.ctrlKey){this.showPrevMonth();}else{this.update(this.activeDate.add("d",-1));}},right:function(a){if(a.ctrlKey){this.showNextMonth();}else{this.update(this.activeDate.add("d",1));
}},up:function(a){if(a.ctrlKey){this.showNextYear();}else{this.update(this.activeDate.add("d",-7));}},down:function(a){if(a.ctrlKey){this.showPrevYear();}else{this.update(this.activeDate.add("d",7));}},pageUp:function(a){this.showNextMonth();},pageDown:function(a){this.showPrevMonth();},enter:function(a){a.stopPropagation();
return true;},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.el.child("em").addClass("x-btn-arrow");
if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var d=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,d),tooltip:String.format(this.todayTip,d),handler:this.selectToday,scope:this});
}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(true);},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var d=['<table border="0" cellspacing="0">'];
for(var c=0;c<6;c++){d.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(c),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(c+6),"</a></td>",c===0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>');
}d.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(d.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);
this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(g,b,a){a+=1;if((a%2)===0){g.dom.xmonth=5+Math.round(a*0.5);}else{g.dom.xmonth=Math.round((a-1)*0.5);
}});}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var b=this.el.getSize();this.monthPicker.setSize(b);this.monthPicker.child("table").setSize(b);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();
this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2});}},updateMPYear:function(k){this.mpyear=k;var h=this.mpYears.elements;for(var i=1;i<=10;i++){var g=h[i-1],j;if((i%2)===0){j=k+Math.round(i*0.5);g.firstChild.innerHTML=j;g.xyear=j;}else{j=k-(5-Math.round(i*0.5));g.firstChild.innerHTML=j;
g.xyear=j;}this.mpYears.item(i-1)[j==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel");}},updateMPMonth:function(b){this.mpMonths.each(function(a,g,e){a[a.dom.xmonth==b?"addClass":"removeClass"]("x-date-mp-sel");});},selectMPMonth:function(b){},onMonthClick:function(d,i){d.stopEvent();var e=new Ext.Element(i),j;
if(e.is("button.x-date-mp-cancel")){this.hideMonthPicker();}else{if(e.is("button.x-date-mp-ok")){var k=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(k.getMonth()!=this.mpSelMonth){k=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth();}this.update(k);this.hideMonthPicker();
}else{if((j=e.up("td.x-date-mp-month",2))){this.mpMonths.removeClass("x-date-mp-sel");j.addClass("x-date-mp-sel");this.mpSelMonth=j.dom.xmonth;}else{if((j=e.up("td.x-date-mp-year",2))){this.mpYears.removeClass("x-date-mp-sel");j.addClass("x-date-mp-sel");this.mpSelYear=j.dom.xyear;}else{if(e.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10);
}else{if(e.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10);}}}}}}},onMonthDblClick:function(h,e){h.stopEvent();var i=new Ext.Element(e),g;if((g=i.up("td.x-date-mp-month",2))){this.update(new Date(this.mpSelYear,g.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker();}else{if((g=i.up("td.x-date-mp-year",2))){this.update(new Date(g.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));
this.hideMonthPicker();}}},hideMonthPicker:function(b){if(this.monthPicker){if(b===true){this.monthPicker.hide();}else{this.monthPicker.slideOut("t",{duration:0.2});}}},showPrevMonth:function(b){this.update(this.activeDate.add("mo",-1));},showNextMonth:function(b){this.update(this.activeDate.add("mo",1));
},showPrevYear:function(){this.update(this.activeDate.add("y",-1));},showNextYear:function(){this.update(this.activeDate.add("y",1));},handleMouseWheel:function(d){d.stopEvent();if(!this.disabled){var c=d.getWheelDelta();if(c>0){this.showPrevMonth();}else{if(c<0){this.showNextMonth();}}}},handleDateClick:function(c,d){c.stopEvent();
if(!this.disabled&&d.dateValue&&!Ext.fly(d.parentNode).hasClass("x-date-disabled")){this.cancelFocus=this.focusOnSelect===false;this.setValue(new Date(d.dateValue));delete this.cancelFocus;this.fireEvent("select",this,this.value);}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());
this.fireEvent("select",this,this.value);}},update:function(X,O){if(this.rendered){var ac=this.activeDate,W=this.isVisible();this.activeDate=X;if(!O&&ac&&this.el){var ad=X.getTime();if(ac.getMonth()==X.getMonth()&&ac.getFullYear()==X.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(a){if(a.dom.firstChild.dateValue==ad){a.addClass("x-date-selected");
if(W&&!this.cancelFocus){Ext.fly(a.dom.firstChild).focus(50);}return false;}},this);return;}}var aa=X.getDaysInMonth(),U=X.getFirstDateOfMonth(),M=U.getDay()-this.startDay;if(M<0){M+=7;}aa+=M;var N=X.add("mo",-1),w=N.getDaysInMonth()-M,ab=this.cells.elements,S=this.textNodes,ag=(new Date(N.getFullYear(),N.getMonth(),w,this.initHour)),J=new Date().clearTime().getTime(),af=X.clearTime(true).getTime(),L=this.minDate?this.minDate.clearTime(true):Number.NEGATIVE_INFINITY,i=this.maxDate?this.maxDate.clearTime(true):Number.POSITIVE_INFINITY,K=this.disabledDatesRE,Z=this.disabledDatesText,R=this.disabledDays?this.disabledDays.join(""):false,Q=this.disabledDaysText,P=this.format;
if(this.showToday){var T=new Date().clearTime(),ai=(T<L||T>i||(K&&P&&K.test(T.dateFormat(P)))||(R&&R.indexOf(T.getDay())!=-1));if(!this.disabled){this.todayBtn.setDisabled(ai);this.todayKeyListener[ai?"disable":"enable"]();}}var d=function(c,a){a.title="";var b=ag.clearTime(true).getTime();a.firstChild.dateValue=b;
if(b==J){a.className+=" x-date-today";a.title=c.todayText;}if(b==af){a.className+=" x-date-selected";if(W){Ext.fly(a.firstChild).focus(50);}}if(b<L){a.className=" x-date-disabled";a.title=c.minText;return;}if(b>i){a.className=" x-date-disabled";a.title=c.maxText;return;}if(R){if(R.indexOf(ag.getDay())!=-1){a.title=Q;
a.className=" x-date-disabled";}}if(K&&P){var e=ag.dateFormat(P);if(K.test(e)){a.title=Z.replace("%0",e);a.className=" x-date-disabled";}}};var t=0;for(;t<M;t++){S[t].innerHTML=(++w);ag.setDate(ag.getDate()+1);ab[t].className="x-date-prevday";d(this,ab[t]);}for(;t<aa;t++){var V=t-M+1;S[t].innerHTML=(V);
ag.setDate(ag.getDate()+1);ab[t].className="x-date-active";d(this,ab[t]);}var Y=0;for(;t<42;t++){S[t].innerHTML=(++Y);ag.setDate(ag.getDate()+1);ab[t].className="x-date-nextday";d(this,ab[t]);}this.mbtn.setText(this.monthNames[X.getMonth()]+" "+X.getFullYear());if(!this.internalRender){var ae=this.el.dom.firstChild,ah=ae.offsetWidth;
this.el.setWidth(ah+this.el.getBorderWidth("lr"));Ext.fly(ae).setWidth(ah);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){ae.rows[0].cells[1].style.width=(ah-(ae.rows[0].cells[0].offsetWidth+ae.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[X]);}}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn);
delete this.textNodes;delete this.cells.elements;}}});Ext.reg("datepicker",Ext.DatePicker);Ext.LoadMask=function(g,d){this.el=Ext.get(g);Ext.apply(this,d);if(this.store){this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});this.removeMask=Ext.value(this.removeMask,false);
}else{var e=this.el.getUpdater();e.showLoadIndicator=false;e.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,true);}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true;
},enable:function(){this.disabled=false;},onLoad:function(){this.el.unmask(this.removeMask);},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls);}},show:function(){this.onBeforeLoad();},hide:function(){this.onLoad();},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);
this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoad,this);}else{var b=this.el.getUpdater();b.un("beforeupdate",this.onBeforeLoad,this);b.un("update",this.onLoad,this);b.un("failure",this.onLoad,this);}}};Ext.ns("Ext.slider");Ext.slider.Thumb=Ext.extend(Object,{constructor:function(b){Ext.apply(this,b||{},{cls:"x-slider-thumb",constrain:false});
Ext.slider.Thumb.superclass.constructor.call(this,b);if(this.slider.vertical){Ext.apply(this,Ext.slider.Thumb.Vertical);}},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents();},enable:function(){this.disabled=false;this.el.removeClass(this.slider.disabledClass);
},disable:function(){this.disabled=true;this.el.addClass(this.slider.disabledClass);},initEvents:function(){var b=this.el;b.addClassOnOver("x-slider-thumb-over");this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});
this.tracker.initEl(b);},onBeforeDragStart:function(b){if(this.disabled){return false;}else{this.slider.promoteThumb(this);return true;}},onDragStart:function(b){this.el.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.slider.fireEvent("dragstart",this.slider,b,this);
},onDrag:function(k){var m=this.slider,e=this.index,l=this.getNewValue();if(this.constrain){var i=m.thumbs[e+1],j=m.thumbs[e-1];if(j!=undefined&&l<=j.value){l=j.value;}if(i!=undefined&&l>=i.value){l=i.value;}}m.setValue(e,l,false);m.fireEvent("drag",m,k,this);},getNewValue:function(){var d=this.slider,c=d.innerEl.translatePoints(this.tracker.getXY());
return Ext.util.Format.round(d.reverseValue(c.left),d.decimalPrecision);},onDragEnd:function(g){var e=this.slider,d=this.value;this.el.removeClass("x-slider-thumb-drag");this.dragging=false;e.fireEvent("dragend",e,g);if(this.dragStartValue!=d){e.fireEvent("changecomplete",e,d,this);}}});Ext.slider.MultiSlider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,topThumbZIndex:10000,initComponent:function(){if(!Ext.isDefined(this.value)){this.value=this.minValue;
}this.thumbs=[];Ext.slider.MultiSlider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.values==undefined||Ext.isEmpty(this.values)){this.values=[0];}var d=this.values;
for(var c=0;c<d.length;c++){this.addThumb(d[c]);}if(this.vertical){Ext.apply(this,Ext.slider.Vertical);}},addThumb:function(c){var d=new Ext.slider.Thumb({value:c,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(d);if(this.rendered){d.render();}},promoteThumb:function(l){var i=this.thumbs,j,h;
for(var k=0,m=i.length;k<m;k++){h=i[k];if(h==l){j=this.topThumbZIndex;}else{j="";}h.el.setStyle("zIndex",j);}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};
Ext.slider.MultiSlider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.focusEl=this.innerEl.child(".x-slider-focus");for(var c=0;c<this.thumbs.length;c++){this.thumbs[c].render();}var d=this.innerEl.child(".x-slider-thumb");this.halfThumb=(this.vertical?d.getHeight():d.getWidth())/2;
this.initEvents();},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown});this.focusEl.swallowEvent("click",true);},onMouseDown:function(h){if(this.disabled){return;}var i=false;for(var e=0;e<this.thumbs.length;e++){i=i||h.target==this.thumbs[e].el.dom;
}if(this.clickToChange&&!i){var g=this.innerEl.translatePoints(h.getXY());this.onClickChange(g);}this.focus();},onClickChange:function(g){if(g.top>this.clickRange[0]&&g.top<this.clickRange[1]){var e=this.getNearest(g,"left"),d=e.index;this.setValue(d,Ext.util.Format.round(this.reverseValue(g.left),this.decimalPrecision),undefined,true);
}},getNearest:function(w,s){var u=s=="top"?this.innerEl.getHeight()-w[s]:w[s],o=this.reverseValue(u),i=(this.maxValue-this.minValue)+5,p=0,r=null;for(var q=0;q<this.thumbs.length;q++){var t=this.thumbs[q],v=t.value,n=Math.abs(v-o);if(Math.abs(n<=i)){r=t;p=q;i=n;}}return r;},onKeyDown:function(d){if(this.disabled||this.thumbs.length!==1){d.preventDefault();
return;}var e=d.getKey(),g;switch(e){case d.UP:case d.RIGHT:d.stopEvent();g=d.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;this.setValue(0,g,undefined,true);break;case d.DOWN:case d.LEFT:d.stopEvent();g=d.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;this.setValue(0,g,undefined,true);
break;default:d.preventDefault();}},doSnap:function(e){if(!(this.increment&&e)){return e;}var h=e,i=this.increment,g=e%i;if(g!=0){h-=g;if(g*2>=i){h+=i;}else{if(g*2<-i){h-=i;}}}return h.constrain(this.minValue,this.maxValue);},afterRender:function(){Ext.slider.MultiSlider.superclass.afterRender.apply(this,arguments);
for(var g=0;g<this.thumbs.length;g++){var d=this.thumbs[g];if(d.value!==undefined){var e=this.normalizeValue(d.value);if(e!==d.value){this.setValue(g,e,false);}else{this.moveThumb(g,this.translateValue(e),false);}}}},getRatio:function(){var d=this.innerEl.getWidth(),c=this.maxValue-this.minValue;return c==0?d:(d/c);
},normalizeValue:function(b){b=this.doSnap(b);b=Ext.util.Format.round(b,this.decimalPrecision);b=b.constrain(this.minValue,this.maxValue);return b;},setMinValue:function(k){this.minValue=k;var g=0,i=this.thumbs,j=i.length,h;for(;g<j;++g){h=i[g];h.value=h.value<k?k:h.value;}this.syncThumb();},setMaxValue:function(k){this.maxValue=k;
var g=0,i=this.thumbs,j=i.length,h;for(;g<j;++g){h=i[g];h.value=h.value>k?k:h.value;}this.syncThumb();},setValue:function(l,m,h,j){var i=this.thumbs[l],k=i.el;m=this.normalizeValue(m);if(m!==i.value&&this.fireEvent("beforechange",this,m,i.value,i)!==false){i.value=m;if(this.rendered){this.moveThumb(l,this.translateValue(m),h!==false);
this.fireEvent("change",this,m,i);if(j){this.fireEvent("changecomplete",this,m,i);}}}},translateValue:function(d){var c=this.getRatio();return(d*c)-(this.minValue*c)-this.halfThumb;},reverseValue:function(c){var d=this.getRatio();return(c+(this.minValue*d))/d;},moveThumb:function(h,i,e){var g=this.thumbs[h].el;
if(!e||this.animate===false){g.setLeft(i);}else{g.shift({left:i,stopFx:true,duration:0.35});}},focus:function(){this.focusEl.focus(10);},onResize:function(h,k){var i=this.thumbs,j=i.length,g=0;for(;g<j;++g){i[g].el.stopFx();}this.innerEl.setWidth(h-(this.el.getPadding("l")+this.endEl.getPadding("r")));
this.syncThumb();Ext.slider.MultiSlider.superclass.onResize.apply(this,arguments);},onDisable:function(){Ext.slider.MultiSlider.superclass.onDisable.call(this);for(var e=0;e<this.thumbs.length;e++){var g=this.thumbs[e],i=g.el;g.disable();if(Ext.isIE){var h=i.getXY();i.hide();this.innerEl.addClass(this.disabledClass).dom.disabled=true;
if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass});}this.thumbHolder.show().setXY(h);}}},onEnable:function(){Ext.slider.MultiSlider.superclass.onEnable.call(this);for(var d=0;d<this.thumbs.length;d++){var e=this.thumbs[d],g=e.el;e.enable();if(Ext.isIE){this.innerEl.removeClass(this.disabledClass).dom.disabled=false;
if(this.thumbHolder){this.thumbHolder.hide();}g.show();this.syncThumb();}}},syncThumb:function(){if(this.rendered){for(var b=0;b<this.thumbs.length;b++){this.moveThumb(b,this.translateValue(this.thumbs[b].value));}}},getValue:function(b){return this.thumbs[b].value;},getValues:function(){var d=[];for(var c=0;
c<this.thumbs.length;c++){d.push(this.thumbs[c].value);}return d;},beforeDestroy:function(){Ext.destroyMembers(this,"endEl","innerEl","thumb","halfThumb","focusEl","tracker","thumbHolder");Ext.slider.MultiSlider.superclass.beforeDestroy.call(this);}});Ext.reg("multislider",Ext.slider.MultiSlider);Ext.slider.SingleSlider=Ext.extend(Ext.slider.MultiSlider,{constructor:function(b){b=b||{};
Ext.applyIf(b,{values:[b.value||0]});Ext.slider.SingleSlider.superclass.constructor.call(this,b);},getValue:function(){return Ext.slider.SingleSlider.superclass.getValue.call(this,0);},setValue:function(h,e){var i=Ext.toArray(arguments),g=i.length;if(g==1||(g<=3&&typeof arguments[1]!="number")){i.unshift(0);
}return Ext.slider.SingleSlider.superclass.setValue.apply(this,i);},syncThumb:function(){return Ext.slider.SingleSlider.superclass.syncThumb.apply(this,[0].concat(arguments));},getNearest:function(){return this.thumbs[0];}});Ext.Slider=Ext.slider.SingleSlider;Ext.reg("slider",Ext.slider.SingleSlider);
Ext.slider.Vertical={onResize:function(d,c){this.innerEl.setHeight(c-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb();},getRatio:function(){var c=this.innerEl.getHeight(),d=this.maxValue-this.minValue;return c/d;},moveThumb:function(g,h,i){var j=this.thumbs[g],k=j.el;if(!i||this.animate===false){k.setBottom(h);
}else{k.shift({bottom:h,stopFx:true,duration:0.35});}},onClickChange:function(i){if(i.left>this.clickRange[0]&&i.left<this.clickRange[1]){var g=this.getNearest(i,"top"),e=g.index,h=this.minValue+this.reverseValue(this.innerEl.getHeight()-i.top);this.setValue(e,Ext.util.Format.round(h,this.decimalPrecision),undefined,true);
}}};Ext.slider.Thumb.Vertical={getNewValue:function(){var e=this.slider,i=e.innerEl,h=i.translatePoints(this.tracker.getXY()),g=i.getHeight()-h.top;return e.minValue+Ext.util.Format.round(g/e.getRatio(),e.decimalPrecision);}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);
this.addEvents("update");},onRender:function(g,j){var h=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");
this.el=j?h.insertBefore(j,{cls:this.baseCls},true):h.append(g,{cls:this.baseCls},true);if(this.id){this.el.dom.id=this.id;}var i=this.el.dom.firstChild;this.progressBar=Ext.get(i.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl;}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);
var k=Ext.get(i.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,k.dom.firstChild]);this.textEl.setWidth(i.offsetWidth);}this.progressBar.setHeight(i.offsetHeight);},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);
if(this.value){this.updateProgress(this.value,this.text);}else{this.updateText(this.text);}},updateProgress:function(i,h,e){this.value=i||0;if(h){this.updateText(h);}if(this.rendered&&!this.isDestroyed){var g=Math.floor(i*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(g,e===true||(e!==false&&this.animate));
if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(g);}}this.fireEvent("update",this,i,h);return this;},wait:function(c){if(!this.waitTimer){var d=this;c=c||{};this.updateText(c.text);this.waitTimer=Ext.TaskMgr.start({run:function(b){var a=c.increment||10;b-=1;this.updateProgress(((((b+a)%a)+1)*(100/a))*0.01,null,c.animate);
},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||this);}this.reset();},scope:d});}return this;},isWaiting:function(){return this.waitTimer!==null;},updateText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text);}return this;},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text);
}return this;},setSize:function(e,g){Ext.ProgressBar.superclass.setSize.call(this,e,g);if(this.textTopEl){var d=this.el.dom.firstChild;this.textEl.setSize(d.offsetWidth,d.offsetHeight);}this.syncProgressBar();return this;},reset:function(b){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden");
}this.clearTimer();if(b===true){this.hide();}return this;},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null;}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear();}Ext.destroyMembers(this,"textEl","progressBar","textTopEl");
}Ext.ProgressBar.superclass.onDestroy.call(this);}});Ext.reg("progress",Ext.ProgressBar);(function(){var d=Ext.EventManager;var c=Ext.lib.Dom;Ext.dd.DragDrop=function(a,g,b){if(a){this.init(a,g,b);}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;
},moveOnly:false,unlock:function(){this.locked=false;},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(b,a){},startDrag:function(b,a){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(p,r,v){if(Ext.isNumber(r)){r={left:r,right:r,top:r,bottom:r};
}r=r||this.defaultPadding;var b=Ext.get(this.getEl()).getBox(),u=Ext.get(p),w=u.getScroll(),o,t=u.dom;if(t==document.body){o={x:w.left,y:w.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()};}else{var a=u.getXY();o={x:a[0],y:a[1],width:t.clientWidth,height:t.clientHeight};}var q=b.y-o.y,s=b.x-o.x;
this.resetConstraints();this.setXConstraint(s-(r.left||0),o.width-s-b.width-(r.right||0),this.xTickSize);this.setYConstraint(q-(r.top||0),o.height-q-b.height-(r.bottom||0),this.yTickSize);},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id);}return this._domRef;},getDragEl:function(){return Ext.getDom(this.dragElId);
},init:function(a,g,b){this.initTarget(a,g,b);d.on(this.id,"mousedown",this.handleMouseDown,this);},initTarget:function(a,g,b){this.config=b||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof a!=="string"){a=Ext.id(a);}this.id=a;this.addToGroup((g)?g:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};
this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable();},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);
},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(b,i,a,h){if(!i&&0!==i){this.padding=[b,b,b,b];}else{if(!a&&0!==a){this.padding=[b,i,b,i];}else{this.padding=[b,i,a,h];}}},setInitPosition:function(j,a){var b=this.getEl();if(!this.DDM.verifyEl(b)){return;
}var k=j||0;var l=a||0;var m=c.getXY(b);this.initPageX=m[0]-k;this.initPageY=m[1]-l;this.lastPageX=m[0];this.lastPageY=m[1];this.setStartPosition(m);},setStartPosition:function(a){var b=a||c.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1];},addToGroup:function(a){this.groups[a]=true;
this.DDM.regDragDrop(this,a);},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a];}this.DDM.removeDDFromGroup(this,a);},setDragElId:function(a){this.dragElId=a;},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a);}this.handleElId=a;this.DDM.regHandle(this.id,a);},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a);
}d.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true;},unreg:function(){d.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},destroy:function(){this.unreg();},isLocked:function(){return(this.DDM.isLocked()||this.locked);},handleMouseDown:function(a,b){if(this.primaryButtonOnly&&a.button!=0){return;
}if(this.isLocked()){return;}this.DDM.refreshCache(this.groups);var e=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(e,this)){}else{if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDM.handleMouseDown(a,this);
this.DDM.stopEvent(a);}else{}}},clickValidator:function(a){var b=a.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id)));},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a;},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a);
}this.invalidHandleIds[a]=a;},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a);},removeInvalidHandleType:function(b){var a=b.toUpperCase();delete this.invalidHandleTypes[a];},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a);}delete this.invalidHandleIds[a];},removeInvalidHandleClass:function(b){for(var a=0,g=this.invalidHandleClasses.length;
a<g;++a){if(this.invalidHandleClasses[a]==b){delete this.invalidHandleClasses[a];}}},isValidHandleChild:function(e){var a=true;var i;try{i=e.nodeName.toUpperCase();}catch(b){i=e.nodeName;}a=a&&!this.invalidHandleTypes[i];a=a&&!this.invalidHandleIds[e.id];for(var l=0,m=this.invalidHandleClasses.length;
a&&l<m;++l){a=!Ext.fly(e).hasClass(this.invalidHandleClasses[l]);}return a;},setXTicks:function(a,i){this.xTicks=[];this.xTickSize=i;var b={};for(var h=this.initPageX;h>=this.minX;h=h-i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true;}}for(h=this.initPageX;h<=this.maxX;h=h+i){if(!b[h]){this.xTicks[this.xTicks.length]=h;
b[h]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(a,i){this.yTicks=[];this.yTickSize=i;var b={};for(var h=this.initPageY;h>=this.minY;h=h-i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true;}}for(h=this.initPageY;h<=this.maxY;h=h+i){if(!b[h]){this.yTicks[this.yTicks.length]=h;
b[h]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(a,b,g){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(g){this.setXTicks(this.initPageX,g);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;
this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(g,a,b){this.topConstraint=g;this.bottomConstraint=a;this.minY=this.initPageY-g;this.maxY=this.initPageY+a;if(b){this.setYTicks(this.initPageY,b);}this.constrainY=true;
},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);
}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(l,a){if(!a){return l;}else{if(a[0]>=l){return a[0];}else{for(var n=0,m=a.length;n<m;++n){var o=n+1;if(a[o]&&a[o]>=l){var b=l-a[n];var i=a[o]-l;return(i>b)?a[n]:a[o];}}return a[a.length-1];
}}},toString:function(){return("DragDrop "+this.id);}};})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var b=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true;
},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(j,k){for(var i in this.ids){for(var a in this.ids[i]){var h=this.ids[i][a];if(!this.isTypeOfDD(h)){continue;}h[j].apply(h,k);}}},_onLoad:function(){this.init();b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);
b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true);},_onResize:function(a){this._execOnAll("resetConstraints",[]);},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(d,a){if(!this.initialized){this.init();
}if(!this.ids[a]){this.ids[a]={};}this.ids[a][d.id]=d;},removeDDFromGroup:function(e,a){if(!this.ids[a]){this.ids[a]={};}var g=this.ids[a];if(g&&g[e.id]){delete g[e.id];}},_remove:function(d){for(var a in d.groups){if(a&&this.ids[a]&&this.ids[a][d.id]){delete this.ids[a][d.id];}}delete this.handleIds[d.id];
},regHandle:function(d,a){if(!this.handleIds[d]){this.handleIds[d]={};}this.handleIds[d][a]=a;},isDragDrop:function(a){return(this.getDDById(a))?true:false;},getRelated:function(i,l){var j=[];for(var k in i.groups){for(var m in this.ids[k]){var a=this.ids[k][m];if(!this.isTypeOfDD(a)){continue;}if(!l||a.isTarget){j[j.length]=a;
}}}return j;},isLegalTarget:function(h,i){var k=this.getRelated(h,true);for(var j=0,a=k.length;j<a;++j){if(k[j].id==i.id){return true;}}return false;},isTypeOfDD:function(a){return(a&&a.__ygDragDrop);},isHandle:function(d,a){return(this.handleIds[d]&&this.handleIds[d][a]);},getDDById:function(d){for(var a in this.ids){if(this.ids[a][d]){return this.ids[a][d];
}}return null;},handleMouseDown:function(e,g){if(Ext.QuickTips){Ext.QuickTips.disable();}if(this.dragCurrent){this.handleMouseUp(e);}this.currentTarget=e.getTarget();this.dragCurrent=g;var a=g.getEl();this.startX=e.getPageX();this.startY=e.getPageY();this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;
this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var c=Ext.dd.DDM;c.startDrag(c.startX,c.startY);},this.clickTimeThresh);},startDrag:function(a,d){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,d);this.dragCurrent.startDrag(a,d);}this.dragThreshMet=true;
},handleMouseUp:function(a){if(Ext.QuickTips){Ext.QuickTips.enable();}if(!this.dragCurrent){return;}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true);}else{}this.stopDrag(a);this.stopEvent(a);},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation();}if(this.preventDefault){a.preventDefault();
}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a);}this.dragCurrent.onMouseUp(a);}this.dragCurrent=null;this.dragOvers={};},handleMouseMove:function(e){if(!this.dragCurrent){return true;}if(Ext.isIE&&(e.button!==0&&e.button!==1&&e.button!==2)){this.stopEvent(e);
return this.handleMouseUp(e);}if(!this.dragThreshMet){var g=Math.abs(this.startX-e.getPageX());var a=Math.abs(this.startY-e.getPageY());if(g>this.clickPixelThresh||a>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){this.dragCurrent.b4Drag(e);this.dragCurrent.onDrag(e);
if(!this.dragCurrent.moveOnly){this.fireEvents(e,false);}}this.stopEvent(e);return true;},fireEvents:function(y,s){var w=this.dragCurrent;if(!w||w.isLocked()){return;}var z=y.getPoint();var C=[];var u=[];var x=[];var i=[];var A=[];for(var t in this.dragOvers){var B=this.dragOvers[t];if(!this.isTypeOfDD(B)){continue;
}if(!this.isOverTarget(z,B,this.mode)){u.push(B);}C[t]=true;delete this.dragOvers[t];}for(var v in w.groups){if("string"!=typeof v){continue;}for(t in this.ids[v]){var e=this.ids[v][t];if(!this.isTypeOfDD(e)){continue;}if(e.isTarget&&!e.isLocked()&&((e!=w)||(w.ignoreSelf===false))){if(this.isOverTarget(z,e,this.mode)){if(s){i.push(e);
}else{if(!C[e.id]){A.push(e);}else{x.push(e);}this.dragOvers[e.id]=e;}}}}}if(this.mode){if(u.length){w.b4DragOut(y,u);w.onDragOut(y,u);}if(A.length){w.onDragEnter(y,A);}if(x.length){w.b4DragOver(y,x);w.onDragOver(y,x);}if(i.length){w.b4DragDrop(y,i);w.onDragDrop(y,i);}}else{var a=0;for(t=0,a=u.length;
t<a;++t){w.b4DragOut(y,u[t].id);w.onDragOut(y,u[t].id);}for(t=0,a=A.length;t<a;++t){w.onDragEnter(y,A[t].id);}for(t=0,a=x.length;t<a;++t){w.b4DragOver(y,x[t].id);w.onDragOver(y,x[t].id);}for(t=0,a=i.length;t<a;++t){w.b4DragDrop(y,i[t].id);w.onDragDrop(y,i[t].id);}}if(s&&!i.length){w.onInvalidDrop(y);
}},getBestMatch:function(j){var h=null;var k=j.length;if(k==1){h=j[0];}else{for(var i=0;i<k;++i){var a=j[i];if(a.cursorIsOver){h=a;break;}else{if(!h||h.overlap.getArea()<a.overlap.getArea()){h=a;}}}}return h;},refreshCache:function(k){for(var a in k){if("string"!=typeof a){continue;}for(var j in this.ids[a]){var i=this.ids[a][j];
if(this.isTypeOfDD(i)){var h=this.getLocation(i);if(h){this.locationCache[i.id]=h;}else{delete this.locationCache[i.id];}}}}},verifyEl:function(g){if(g){var a;if(Ext.isIE){try{a=g.offsetParent;}catch(e){}}else{a=g.offsetParent;}if(a){return true;}}return false;},getLocation:function(l){if(!this.isTypeOfDD(l)){return null;
}var r=l.getEl(),y,a,u,w,t,s,v,x,q;try{y=Ext.lib.Dom.getXY(r);}catch(e){}if(!y){return null;}a=y[0];u=a+r.offsetWidth;w=y[1];t=w+r.offsetHeight;s=w-l.padding[0];v=u+l.padding[1];x=t+l.padding[2];q=a-l.padding[3];return new Ext.lib.Region(s,v,x,q);},isOverTarget:function(q,p,n){var l=this.locationCache[p.id];
if(!l||!this.useCache){l=this.getLocation(p);this.locationCache[p.id]=l;}if(!l){return false;}p.cursorIsOver=l.contains(q);var r=this.dragCurrent;if(!r||!r.getTargetCoord||(!n&&!r.constrainX&&!r.constrainY)){return p.cursorIsOver;}p.overlap=null;var a=r.getTargetCoord(q.x,q.y);var o=r.getDragEl();var m=new Ext.lib.Region(a.y,a.x+o.offsetWidth,a.y+o.offsetHeight,a.x);
var s=m.intersect(l);if(s){p.overlap=s;return(n)?true:p.cursorIsOver;}else{return false;}},_onUnload:function(d,a){Ext.dd.DragDropMgr.unregAll();},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a];
}this.elementCache={};this.ids={};},elementCache:{},getElWrapper:function(d){var a=this.elementCache[d];if(!a||!a.el){a=this.elementCache[d]=new this.ElementWrapper(Ext.getDom(d));}return a;},getElement:function(a){return Ext.getDom(a);},getCss:function(d){var a=Ext.getDom(d);return(a)?a.style:null;},ElementWrapper:function(a){this.el=a||null;
this.id=this.el&&a.id;this.css=this.el&&a.style;},getPosX:function(a){return Ext.lib.Dom.getX(a);},getPosY:function(a){return Ext.lib.Dom.getY(a);},swapNode:function(h,a){if(h.swapNode){h.swapNode(a);}else{var g=a.parentNode;var i=a.nextSibling;if(i==h){g.insertBefore(h,a);}else{if(a==h.nextSibling){g.insertBefore(a,h);
}else{h.parentNode.replaceChild(a,h);g.insertBefore(h,i);}}}},getScroll:function(){var h,a,g=document.documentElement,i=document.body;if(g&&(g.scrollTop||g.scrollLeft)){h=g.scrollTop;a=g.scrollLeft;}else{if(i){h=i.scrollTop;a=i.scrollLeft;}else{}}return{top:h,left:a};},getStyle:function(d,a){return Ext.fly(d).getStyle(a);
},getScrollTop:function(){return this.getScroll().top;},getScrollLeft:function(){return this.getScroll().left;},moveToEl:function(a,e){var g=Ext.lib.Dom.getXY(e);Ext.lib.Dom.setXY(a,g);},numericSort:function(a,d){return(a-d);},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;if(Ext.lib.Event&&document){a._onLoad();
}else{if(a._timeoutCount>2000){}else{setTimeout(a._addListeners,10);if(document&&document.body){a._timeoutCount+=1;}}}},handleWasClicked:function(a,e){if(this.isHandle(e,a.id)){return true;}else{var g=a.parentNode;while(g){if(this.isHandle(e,g.id)){return true;}else{g=g.parentNode;}}}return false;}};
}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners();}Ext.dd.DD=function(g,e,d){if(g){this.init(g,e,d);}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(i,e){var g=i-this.startPageX;var h=e-this.startPageY;this.setDelta(g,h);},setDelta:function(c,d){this.deltaX=c;this.deltaY=d;
},setDragElPos:function(g,d){var e=this.getDragEl();this.alignElWithMouse(e,g,d);},alignElWithMouse:function(m,q,j){var k=this.getTargetCoord(q,j);var n=m.dom?m:Ext.fly(m,"_dd");if(!this.deltaSetXY){var p=[k.x,k.y];n.setXY(p);var l=n.getLeft(true);var o=n.getTop(true);this.deltaSetXY=[l-k.x,o-k.y];}else{n.setLeftTop(k.x+this.deltaSetXY[0],k.y+this.deltaSetXY[1]);
}this.cachePosition(k.x,k.y);this.autoScroll(k.x,k.y,m.offsetHeight,m.offsetWidth);return k;},cachePosition:function(d,e){if(d){this.lastPageX=d;this.lastPageY=e;}else{var g=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=g[0];this.lastPageY=g[1];}},autoScroll:function(h,s,r,A){if(this.scroll){var q=Ext.lib.Dom.getViewHeight();
var y=Ext.lib.Dom.getViewWidth();var z=this.DDM.getScrollTop();var v=this.DDM.getScrollLeft();var C=r+s;var x=A+h;var t=(q+z-s-this.deltaY);var w=(y+v-h-this.deltaX);var u=40;var B=(document.all)?80:30;if(C>q&&t<u){window.scrollTo(v,z+B);}if(s<z&&z>0&&s-z<u){window.scrollTo(v,z-B);}if(x>y&&w<u){window.scrollTo(v+B,z);
}if(h<v&&v>0&&h-v<u){window.scrollTo(v-B,z);}}},getTargetCoord:function(i,e){var g=i-this.deltaX;var h=e-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX;}if(g>this.maxX){g=this.maxX;}}if(this.constrainY){if(h<this.minY){h=this.minY;}if(h>this.maxY){h=this.maxY;}}g=this.getTick(g,this.xTicks);
h=this.getTick(h,this.yTicks);return{x:g,y:h};},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY());},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY());},toString:function(){return("DD "+this.id);
}});Ext.dd.DDProxy=function(g,e,d){if(g){this.init(g,e,d);this.initFrame();}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var e=this;var g=document.body;if(!g||!g.firstChild){setTimeout(function(){e.createFrame();},50);
return;}var h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;var i=h.style;i.position="absolute";i.visibility="hidden";i.cursor="move";i.border="2px solid #aaa";i.zIndex=999;g.insertBefore(h,g.firstChild);}},initFrame:function(){this.createFrame();},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);
this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId);},showFrame:function(k,g){var h=this.getEl();var j=this.getDragEl();var i=j.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(i.width,10)/2),Math.round(parseInt(i.height,10)/2));
}this.setDragElPos(k,g);Ext.fly(j).show();},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight);}},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);this.setDragElPos(e,g);},b4StartDrag:function(d,c){this.showFrame(d,c);
},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide();},endDrag:function(g){var d=this.getEl();var e=this.getDragEl();e.style.visibility="";this.beforeMove();d.style.visibility="hidden";Ext.dd.DDM.moveToEl(d,e);e.style.visibility="hidden";d.style.visibility="";this.afterDrag();},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id);
}});Ext.dd.DDTarget=function(g,e,d){if(g){this.initTarget(g,e,d);}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id);
}});Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(b){Ext.apply(this,b);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el);}Ext.dd.DragTracker.superclass.constructor.call(this,b);
},initEl:function(b){this.el=Ext.get(b);b.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined);},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);},onMouseDown:function(g,d){if(this.fireEvent("mousedown",this,g)!==false&&this.onBeforeStart(g)!==false){this.startXY=this.lastXY=g.getXY();
this.dragTarget=this.delegate?d:this.el.dom;if(this.preventDefault!==false){g.preventDefault();}var e=Ext.getDoc();e.on("mouseup",this.onMouseUp,this);e.on("mousemove",this.onMouseMove,this);e.on("selectstart",this.stopSelect,this);if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this);
}}},onMouseMove:function(h,i){if(this.active&&Ext.isIE&&!h.browserEvent.button){h.preventDefault();this.onMouseUp(h);return;}h.preventDefault();var e=h.getXY(),g=this.startXY;this.lastXY=e;if(!this.active){if(Math.abs(g[0]-e[0])>this.tolerance||Math.abs(g[1]-e[1])>this.tolerance){this.triggerStart();
}else{return;}}this.fireEvent("mousemove",this,h);this.onDrag(h);this.fireEvent("drag",this,h);},onMouseUp:function(g){var d=Ext.getDoc();d.un("mousemove",this.onMouseMove,this);d.un("mouseup",this.onMouseUp,this);d.un("selectstart",this.stopSelect,this);g.preventDefault();this.clearStart();var e=this.active;
this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,g);if(e){this.onEnd(g);this.fireEvent("dragend",this,g);}},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY);},clearStart:function(){if(this.timer){clearTimeout(this.timer);
delete this.timer;}},stopSelect:function(b){b.stopEvent();return false;},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget;},getDragCt:function(){return this.el;},getXY:function(b){return b?this.constrainModes[b].call(this,this.lastXY):this.lastXY;
},getOffset:function(g){var d=this.getXY(g);var e=this.startXY;return[e[0]-d[0],e[1]-d[1]];},constrainModes:{point:function(c){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion();}var d=this.dragRegion;d.left=c[0];d.top=c[1];d.right=c[0];d.bottom=c[1];d.constrainTo(this.elRegion);return[d.left,d.top];
}}});Ext.dd.ScrollManager=function(){var q=Ext.dd.DragDropMgr;var o={};var r=null;var l={};var m=function(a){r=null;s();};var u=function(){if(q.dragCurrent){q.refreshCache(q.dragCurrent.groups);}};var p=function(){if(q.dragCurrent){var b=Ext.dd.ScrollManager;var a=l.el.ddScrollConfig?l.el.ddScrollConfig.increment:b.increment;
if(!b.animate){if(l.el.scroll(l.dir,a)){u();}}else{l.el.scroll(l.dir,a,true,b.animDuration,u);}}};var s=function(){if(l.id){clearInterval(l.id);}l.id=0;l.el=null;l.dir="";};var n=function(a,b){s();l.el=a;l.dir=b;var c=(a.ddScrollConfig&&a.ddScrollConfig.frequency)?a.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;
l.id=setInterval(p,c);};var t=function(j,h){if(h||!q.dragCurrent){return;}var g=Ext.dd.ScrollManager;if(!r||r!=q.dragCurrent){r=q.dragCurrent;g.refreshCache();}var e=Ext.lib.Event.getXY(j);var d=new Ext.lib.Point(e[0],e[1]);for(var b in o){var a=o[b],c=a._region;var i=a.ddScrollConfig?a.ddScrollConfig:g;
if(c&&c.contains(d)&&a.isScrollable()){if(c.bottom-d.y<=i.vthresh){if(l.el!=a){n(a,"down");}return;}else{if(c.right-d.x<=i.hthresh){if(l.el!=a){n(a,"left");}return;}else{if(d.y-c.top<=i.vthresh){if(l.el!=a){n(a,"up");}return;}else{if(d.x-c.left<=i.hthresh){if(l.el!=a){n(a,"right");}return;}}}}}}s();};
q.fireEvents=q.fireEvents.createSequence(t,q);q.stopDrag=q.stopDrag.createSequence(m,q);return{register:function(c){if(Ext.isArray(c)){for(var a=0,b=c.length;a<b;a++){this.register(c[a]);}}else{c=Ext.get(c);o[c.id]=c;}},unregister:function(c){if(Ext.isArray(c)){for(var a=0,b=c.length;a<b;a++){this.unregister(c[a]);
}}else{c=Ext.get(c);delete o[c.id];}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var a in o){if(typeof o[a]=="object"){o[a]._region=o[a].getRegion();}}}};}();Ext.dd.Registry=function(){var h={};var e={};var g=0;var i=function(b,c){if(typeof b=="string"){return b;
}var a=b.id;if(!a&&c!==false){a="extdd-"+(++g);b.id=a;}return a;};return{register:function(k,c){c=c||{};if(typeof k=="string"){k=document.getElementById(k);}c.ddel=k;h[i(k)]=c;if(c.isHandle!==false){e[c.ddel.id]=c;}if(c.handles){var a=c.handles;for(var b=0,d=a.length;b<d;b++){e[i(a[b])]=c;}}},unregister:function(c){var l=i(c,false);
var a=h[l];if(a){delete h[l];if(a.handles){var b=a.handles;for(var d=0,m=b.length;d<m;d++){delete e[i(b[d],false)];}}}},getHandle:function(a){if(typeof a!="string"){a=a.id;}return e[a];},getHandleFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?e[b.id]:null;},getTarget:function(a){if(typeof a!="string"){a=a.id;
}return h[a];},getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?h[b.id]||e[b.id]:null;}};}();Ext.dd.StatusProxy=function(b){Ext.apply(this,b);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!b||b.shadow!==false});
this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed;};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceClass(this.dropStatus,b);this.dropStatus=b;
}},reset:function(b){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("");}},update:function(d){if(typeof d=="string"){this.ghost.update(d);}else{this.ghost.update("");d.style.margin="0";this.ghost.dom.appendChild(d);}var c=this.ghost.dom.firstChild;
if(c){Ext.fly(c).setStyle("float","none");}},getEl:function(){return this.el;},getGhost:function(){return this.ghost;},hide:function(b){this.el.hide();if(b){this.reset(true);}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop();}},show:function(){this.el.show();
},sync:function(){this.el.sync();},repair:function(d,g,e){this.callback=g;this.scope=e;if(d&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:d,stopFx:true,callback:this.afterRepair,scope:this});
}else{this.afterRepair();}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this);}this.callback=null;this.scope=null;},destroy:function(){Ext.destroy(this.ghost,this.el);}};Ext.dd.DragSource=function(c,d){this.el=Ext.get(c);if(!this.dragData){this.dragData={};
}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy();}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false;};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(b){return this.dragData;
},onDragEnter:function(i,h){var e=Ext.dd.DragDropMgr.getDDById(h);this.cachedTarget=e;if(this.beforeDragEnter(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyEnter(this,i,this.dragData);this.proxy.setStatus(g);}else{this.proxy.setStatus(this.dropAllowed);}if(this.afterDragEnter){this.afterDragEnter(e,i,h);
}}},beforeDragEnter:function(d,e,g){return true;},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync();},onDragOver:function(i,h){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(h);if(this.beforeDragOver(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyOver(this,i,this.dragData);
this.proxy.setStatus(g);}if(this.afterDragOver){this.afterDragOver(e,i,h);}}},beforeDragOver:function(d,e,g){return true;},onDragOut:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragOut(e,d,g)!==false){if(e.isNotifyTarget){e.notifyOut(this,d,this.dragData);}this.proxy.reset();
if(this.afterDragOut){this.afterDragOut(e,d,g);}}this.cachedTarget=null;},beforeDragOut:function(d,e,g){return true;},onDragDrop:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragDrop(e,d,g)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,d,this.dragData)){this.onValidDrop(e,d,g);
}else{this.onInvalidDrop(e,d,g);}}else{this.onValidDrop(e,d,g);}if(this.afterDragDrop){this.afterDragDrop(e,d,g);}}delete this.cachedTarget;},beforeDragDrop:function(d,e,g){return true;},onValidDrop:function(d,e,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(d,e,g);}},getRepairXY:function(c,d){return this.el.getXY();
},onInvalidDrop:function(d,e,g){this.beforeInvalidDrop(d,e,g);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,e,this.dragData);}this.cacheTarget=null;}this.proxy.repair(this.getRepairXY(e,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(e,g);
}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9");}this.dragging=false;},beforeInvalidDrop:function(d,e,g){return true;},handleMouseDown:function(c){if(this.dragging){return;}var d=this.getDragData(c);if(d&&this.onBeforeDrag(d,c)!==false){this.dragData=d;this.proxy.stop();
Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments);}},onBeforeDrag:function(d,c){return true;},onStartDrag:Ext.emptyFn,startDrag:function(d,c){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(d,c);this.proxy.show();},onInitDrag:function(e,g){var d=this.el.dom.cloneNode(true);
d.id=Ext.id();this.proxy.update(d);this.onStartDrag(e,g);return true;},getProxy:function(){return this.proxy;},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false;},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups);},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b);
},onEndDrag:function(d,c){},autoOffset:function(d,c){this.setDelta(-12,-20);},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy);}});Ext.dd.DropTarget=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el);
}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true});};Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,g,d){if(this.overClass){this.el.addClass(this.overClass);
}return this.dropAllowed;},notifyOver:function(e,g,d){return this.dropAllowed;},notifyOut:function(e,g,d){if(this.overClass){this.el.removeClass(this.overClass);}},notifyDrop:function(e,g,d){return false;}});Ext.dd.DragZone=function(c,d){Ext.dd.DragZone.superclass.constructor.call(this,c,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el);
}};Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(b){return Ext.dd.Registry.getHandleFromEvent(b);},onInitDrag:function(d,c){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,c);return true;},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");
}this.dragging=false;},getRepairXY:function(b){return Ext.Element.fly(this.dragData.ddel).getXY();}});Ext.dd.DropZone=function(c,d){Ext.dd.DropZone.superclass.constructor.call(this,c,d);};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(b){return Ext.dd.Registry.getTargetFromEvent(b);
},onNodeEnter:function(h,g,i,e){},onNodeOver:function(h,g,i,e){return this.dropAllowed;},onNodeOut:function(h,g,i,e){},onNodeDrop:function(h,g,i,e){return false;},onContainerOver:function(e,g,d){return this.dropNotAllowed;},onContainerDrop:function(e,g,d){return false;},notifyEnter:function(e,g,d){return this.dropNotAllowed;
},notifyOver:function(g,i,e){var h=this.getTargetFromEvent(i);if(!h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null;}return this.onContainerOver(g,i,e);}if(this.lastOverNode!=h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);}this.onNodeEnter(h,g,i,e);
this.lastOverNode=h;}return this.onNodeOver(h,g,i,e);},notifyOut:function(e,g,d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,g,d);this.lastOverNode=null;}},notifyDrop:function(g,i,e){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null;}var h=this.getTargetFromEvent(i);
return h?this.onNodeDrop(h,g,i,e):this.onContainerDrop(g,i,e);},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups);}});Ext.Element.addMethods({initDD:function(i,e,h){var g=new Ext.dd.DD(Ext.id(this.dom),i,e);return Ext.apply(g,h);},initDDProxy:function(i,e,h){var g=new Ext.dd.DDProxy(Ext.id(this.dom),i,e);
return Ext.apply(g,h);},initDDTarget:function(i,e,h){var g=new Ext.dd.DDTarget(Ext.id(this.dom),i,e);return Ext.apply(g,h);}});Ext.data.Api=(function(){var b={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(a){return(Ext.data.Api.actions[a])?true:false;
},getVerb:function(a){if(b[a]){return b[a];}for(var d in this.actions){if(this.actions[d]===a){b[a]=d;break;}}return(b[a]!==undefined)?b[a]:null;},isValid:function(a){var g=[];var h=this.actions;for(var i in a){if(!(i in h)){g.push(i);}}return(!g.length)?true:g;},hasUniqueUrl:function(k,h){var a=(k.api[h])?k.api[h].url:null;
var i=true;for(var j in k.api){if((i=(j===h)?true:(k.api[j].url!=a)?true:false)===false){break;}}return i;},prepare:function(a){if(!a.api){a.api={};}for(var e in this.actions){var g=this.actions[e];a.api[g]=a.api[g]||a.url||a.directFn;if(typeof(a.api[g])=="string"){a.api[g]={url:a.api[g],method:(a.restful===true)?Ext.data.Api.restActions[g]:undefined};
}}},restify:function(a){a.restful=true;for(var d in this.restActions){a.api[this.actions[d]].method||(a.api[this.actions[d]].method=this.restActions[d]);}a.onWrite=a.onWrite.createInterceptor(function(c,m,o,k){var l=m.reader;var n=new Ext.data.Response({action:c,raw:o});switch(o.status){case 200:return true;
break;case 201:if(Ext.isEmpty(n.raw.responseText)){n.success=true;}else{return true;}break;case 204:n.success=true;n.data=null;break;default:return true;break;}if(n.success===true){this.fireEvent("write",this,c,n.data,n,k,m.request.arg);}else{this.fireEvent("exception",this,"remote",c,m,n,k);}m.request.callback.call(m.request.scope,n.data,n,n.success);
return false;},a);}};})();Ext.data.Response=function(c,d){Ext.apply(this,c,{raw:d});};Ext.data.Response.prototype={message:null,success:false,status:null,root:null,raw:null,getMessage:function(){return this.message;},getSuccess:function(){return this.success;},getStatus:function(){return this.status;
},getRoot:function(){return this.root;},getRawResponse:function(){return this.raw;}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c);},name:"Ext.data.Api"});Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});
Ext.data.SortTypes={none:function(b){return b;},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"");},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"");},asUCString:function(b){return String(b).toUpperCase();},asDate:function(b){if(!b){return 0;
}if(Ext.isDate(b)){return b.getTime();}return Date.parse(String(b));},asFloat:function(d){var c=parseFloat(String(d).replace(/,/g,""));return isNaN(c)?0:c;},asInt:function(d){var c=parseInt(String(d).replace(/,/g,""),10);return isNaN(c)?0:c;}};Ext.data.Record=function(d,c){this.id=(c||c===0)?c:Ext.data.Record.id(this);
this.data=d||{};};Ext.data.Record.create=function(k){var h=Ext.extend(Ext.data.Record,{});var g=h.prototype;g.fields=new Ext.util.MixedCollection(false,function(a){return a.name;});for(var i=0,j=k.length;i<j;i++){g.fields.add(new Ext.data.Field(k[i]));}h.getField=function(a){return g.fields.get(a);};
return h;};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(b){b.phantom=true;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("");};Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,phantom:false,join:function(b){this.store=b;
},set:function(e,g){var d=Ext.isPrimitive(g)?String:Ext.encode;if(d(this.data[e])==d(g)){return;}this.dirty=true;if(!this.modified){this.modified={};}if(this.modified[e]===undefined){this.modified[e]=this.data[e];}this.data[e]=g;if(!this.editing){this.afterEdit();}},afterEdit:function(){if(this.store!=undefined&&typeof this.store.afterEdit=="function"){this.store.afterEdit(this);
}},afterReject:function(){if(this.store){this.store.afterReject(this);}},afterCommit:function(){if(this.store){this.store.afterCommit(this);}},get:function(b){return this.data[b];},beginEdit:function(){this.editing=true;this.modified=this.modified||{};},cancelEdit:function(){this.editing=false;delete this.modified;
},endEdit:function(){this.editing=false;if(this.dirty){this.afterEdit();}},reject:function(d){var e=this.modified;for(var g in e){if(typeof e[g]!="function"){this.data[g]=e[g];}}this.dirty=false;delete this.modified;this.editing=false;if(d!==true){this.afterReject();}},commit:function(b){this.dirty=false;
delete this.modified;this.editing=false;if(b!==true){this.afterCommit();}},getChanges:function(){var e=this.modified,d={};for(var g in e){if(e.hasOwnProperty(g)){d[g]=this.data[g];}}return d;},hasError:function(){return this.error!==null;},clearError:function(){this.error=null;},copy:function(b){return new this.constructor(Ext.apply({},this.data),b||this.id);
},isModified:function(b){return !!(this.modified&&this.modified.hasOwnProperty(b));},isValid:function(){return this.fields.find(function(b){return(b.allowBlank===false&&Ext.isEmpty(this.data[b.name]))?true:false;},this)?false:true;},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={};
}this.fields.each(function(b){this.modified[b.name]=this.data[b.name];},this);}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c);}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.lookup(c));}},lookup:function(k){if(Ext.isArray(k)){var i=["field1"],g=!Ext.isArray(k[0]);
if(!g){for(var h=2,j=k[0].length;h<=j;++h){i.push("field"+h);}}return new Ext.data.ArrayStore({fields:i,data:k,expandData:g,autoDestroy:true,autoCreated:true});}return Ext.isObject(k)?(k.events?k:Ext.create(k,"store")):this.get(k);},getKey:function(b){return b.storeId;}});Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:undefined,remoteSort:false,autoDestroy:false,pruneModifiedRecords:false,lastOptions:null,autoSave:true,batch:true,restful:false,paramNames:undefined,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:false,hasMultiSort:false,batchKey:"_ext_batch_",constructor:function(b){this.data=new Ext.util.MixedCollection(false);
this.data.getKey=function(a){return a.id;};this.removed=[];if(b&&b.data){this.inlineData=b.data;delete b.data;}Ext.apply(this,b);this.baseParams=Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api});
}if(this.restful===true&&this.proxy){this.batch=false;Ext.data.Api.restify(this.proxy);}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType;}if(this.reader.onMetaChange){this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this);}if(this.writer){if(this.writer instanceof (Ext.data.DataWriter)===false){this.writer=this.buildWriter(this.writer);
}this.writer.meta=this.reader.meta;this.pruneModifiedRecords=true;}}if(this.recordType){this.fields=this.recordType.prototype.fields;}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");
if(this.proxy){this.relayEvents(this.proxy,["loadexception","exception"]);}if(this.writer){this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear});}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir);}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction);
}}Ext.data.Store.superclass.constructor.call(this);if(this.id){this.storeId=this.id;delete this.id;}if(this.storeId){Ext.StoreMgr.register(this);}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData;}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined]);
}}this.batchCounter=0;this.batches={};},buildWriter:function(d){var e=undefined,g=(d.format||"json").toLowerCase();switch(g){case"json":e=Ext.data.JsonWriter;break;case"xml":e=Ext.data.XmlWriter;break;default:e=Ext.data.JsonWriter;}return new e(d);},destroy:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this);
}this.clearData();this.data=null;Ext.destroy(this.proxy);this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true;}},add:function(e){e=[].concat(e);if(e.length<1){return;}for(var h=0,g=e.length;h<g;h++){e[h].join(this);}var i=this.data.length;this.data.addAll(e);if(this.snapshot){this.snapshot.addAll(e);
}this.fireEvent("add",this,e,i);},addSorted:function(d){var c=this.findInsertIndex(d);this.insert(c,d);},remove:function(d){if(Ext.isArray(d)){Ext.each(d,function(a){this.remove(a);},this);return;}var c=this.data.indexOf(d);if(c>-1){d.join(null);this.data.removeAt(c);}if(this.pruneModifiedRecords){this.modified.remove(d);
}if(this.snapshot){this.snapshot.remove(d);}if(c>-1){this.fireEvent("remove",this,d,c);}},removeAt:function(b){this.remove(this.getAt(b));},removeAll:function(c){var d=[];this.each(function(a){d.push(a);});this.clearData();if(this.snapshot){this.snapshot.clear();}if(this.pruneModifiedRecords){this.modified=[];
}if(c!==true){this.fireEvent("clear",this,d);}},onClear:function(c,d){Ext.each(d,function(a,b){this.destroyRecord(this,a,b);},this);},insert:function(i,e){e=[].concat(e);for(var h=0,g=e.length;h<g;h++){this.data.insert(i,e[h]);e[h].join(this);}if(this.snapshot){this.snapshot.addAll(e);}this.fireEvent("add",this,e,i);
},indexOf:function(b){return this.data.indexOf(b);},indexOfId:function(b){return this.data.indexOfKey(b);},getById:function(b){return(this.snapshot||this.data).key(b);},getAt:function(b){return this.data.itemAt(b);},getRange:function(c,d){return this.data.getRange(c,d);},storeOptions:function(b){b=Ext.apply({},b);
delete b.callback;delete b.scope;this.lastOptions=b;},clearData:function(){this.data.each(function(b){b.join(null);});this.data.clear();},load:function(d){d=Ext.apply({},d);this.storeOptions(d);if(this.sortInfo&&this.remoteSort){var e=this.paramNames;d.params=Ext.apply({},d.params);d.params[e.sort]=this.sortInfo.field;
d.params[e.dir]=this.sortInfo.direction;}try{return this.execute("read",null,d);}catch(g){this.handleException(g);return false;}},updateRecord:function(d,e,g){if(g==Ext.data.Record.EDIT&&this.autoSave===true&&(!e.phantom||(e.phantom&&e.isValid()))){this.save();}},createRecords:function(h,i,g){for(var k=0,j=i.length;
k<j;k++){if(i[k].phantom&&i[k].isValid()){i[k].markDirty();this.modified.push(i[k]);}}if(this.autoSave===true){this.save();}},destroyRecord:function(d,e,g){if(this.modified.indexOf(e)!=-1){this.modified.remove(e);}if(!e.phantom){this.removed.push(e);e.lastIndex=g;if(this.autoSave===true){this.save();
}}},execute:function(k,j,h,i){if(!Ext.data.Api.isAction(k)){throw new Ext.data.Api.Error("execute",k);}h=Ext.applyIf(h||{},{params:{}});if(i!==undefined){this.addToBatch(i);}var g=true;if(k==="read"){g=this.fireEvent("beforeload",this,h);Ext.applyIf(h.params,this.baseParams);}else{if(this.writer.listful===true&&this.restful!==true){j=(Ext.isArray(j))?j:[j];
}else{if(Ext.isArray(j)&&j.length==1){j=j.shift();}}if((g=this.fireEvent("beforewrite",this,k,j,h))!==false){this.writer.apply(h.params,this.baseParams,k,j);}}if(g!==false){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,k)){h.params.xaction=k;}this.proxy.request(Ext.data.Api.actions[k],j,h.params,this.reader,this.createCallback(k,j,i),this,h);
}return g;},save:function(){if(!this.writer){throw new Ext.data.Store.Error("writer-undefined");}var s=[],r,q,l,n={};if(this.removed.length){s.push(["destroy",this.removed]);}var o=[].concat(this.getModifiedRecords());if(o.length){var i=[];for(var m=o.length-1;m>=0;m--){if(o[m].phantom===true){var p=o.splice(m,1).shift();
if(p.isValid()){i.push(p);}}else{if(!o[m].isValid()){o.splice(m,1);}}}if(i.length){s.push(["create",i]);}if(o.length){s.push(["update",o]);}}r=s.length;if(r){l=++this.batchCounter;for(var m=0;m<r;++m){q=s[m];n[q[0]]=q[1];}if(this.fireEvent("beforesave",this,n)!==false){for(var m=0;m<r;++m){q=s[m];this.doTransaction(q[0],q[1],l);
}return l;}}return -1;},doTransaction:function(k,h,m){function j(b){try{this.execute(k,b,undefined,m);}catch(a){this.handleException(a);}}if(this.batch===false){for(var l=0,i=h.length;l<i;l++){j.call(this,h[l]);}}else{j.call(this,h);}},addToBatch:function(i){var b=this.batches,h=this.batchKey+i,g=b[h];
if(!g){b[h]=g={id:i,count:0,data:{}};}++g.count;},removeFromBatch:function(n,k,l){var o=this.batches,m=this.batchKey+n,j=o[m],l,b;if(j){b=j.data[k]||[];j.data[k]=b.concat(l);if(j.count===1){l=j.data;delete o[m];this.fireEvent("save",this,n,l);}else{--j.count;}}},createCallback:function(i,g,e){var h=Ext.data.Api.actions;
return(i=="read")?this.loadRecords:function(b,c,a){this["on"+Ext.util.Format.capitalize(i)+"Records"](a,g,[].concat(b));if(a===true){this.fireEvent("write",this,i,b,c,g);}this.removeFromBatch(e,i,b);};},clearModified:function(d){if(Ext.isArray(d)){for(var c=d.length-1;c>=0;c--){this.modified.splice(this.modified.indexOf(d[c]),1);
}}else{this.modified.splice(this.modified.indexOf(d),1);}},reMap:function(e){if(Ext.isArray(e)){for(var h=0,g=e.length;h<g;h++){this.reMap(e[h]);}}else{delete this.data.map[e._phid];this.data.map[e.id]=e;var i=this.data.keys.indexOf(e._phid);this.data.keys.splice(i,1,e.id);delete e._phid;}},onCreateRecords:function(h,g,e){if(h===true){try{this.reader.realize(g,e);
this.reMap(g);}catch(i){this.handleException(i);if(Ext.isArray(g)){this.onCreateRecords(h,g,e);}}}},onUpdateRecords:function(h,g,e){if(h===true){try{this.reader.update(g,e);}catch(i){this.handleException(i);if(Ext.isArray(g)){this.onUpdateRecords(h,g,e);}}}},onDestroyRecords:function(k,i,g){i=(i instanceof Ext.data.Record)?[i]:[].concat(i);
for(var h=0,j=i.length;h<j;h++){this.removed.splice(this.removed.indexOf(i[h]),1);}if(k===false){for(h=i.length-1;h>=0;h--){this.insert(i[h].lastIndex,i[h]);}}},handleException:function(b){Ext.handleError(b);},reload:function(b){this.load(Ext.applyIf(b||{},this.lastOptions));},loadRecords:function(n,l,o){if(this.isDestroyed===true){return;
}if(!n||o===false){if(o!==false){this.fireEvent("load",this,[],l);}if(l.callback){l.callback.call(l.scope||this,[],l,false,n);}return;}var i=n.records,j=n.totalRecords||i.length;if(!l||l.add!==true){if(this.pruneModifiedRecords){this.modified=[];}for(var k=0,m=i.length;k<m;k++){i[k].join(this);}if(this.snapshot){this.data=this.snapshot;
delete this.snapshot;}this.clearData();this.data.addAll(i);this.totalLength=j;this.applySort();this.fireEvent("datachanged",this);}else{this.totalLength=Math.max(j,this.data.length+i.length);this.add(i);}this.fireEvent("load",this,i,l);if(l.callback){l.callback.call(l.scope||this,i,l,true);}},loadData:function(g,e){var d=this.reader.readRecords(g);
this.loadRecords(d,{add:e},true);},getCount:function(){return this.data.length||0;},getTotalCount:function(){return this.totalLength||0;},getSortState:function(){return this.sortInfo;},applySort:function(){if((this.sortInfo||this.multiSortInfo)&&!this.remoteSort){this.sortData();}},sortData:function(){var o=this.hasMultiSort?this.multiSortInfo:this.sortInfo,p=o.direction||"ASC",q=o.sorters,m=[];
if(!this.hasMultiSort){q=[{direction:p,field:o.field}];}for(var l=0,n=q.length;l<n;l++){m.push(this.createSortFunction(q[l].field,q[l].direction));}if(m.length==0){return;}var i=p.toUpperCase()=="DESC"?-1:1;var j=function(b,c){var d=m[0].call(this,b,c);if(m.length>1){for(var e=1,a=m.length;e<a;e++){d=d||m[e].call(this,b,c);
}}return i*d;};this.data.sort(p,j);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(p,j);}},createSortFunction:function(i,e){e=e||"ASC";var g=e.toUpperCase()=="DESC"?-1:1;var h=this.fields.get(i).sortType;return function(c,d){var a=h(c.data[i]),b=h(d.data[i]);return g*(a>b?1:(a<b?-1:0));
};},setDefaultSort:function(c,d){d=d?d.toUpperCase():"ASC";this.sortInfo={field:c,direction:d};this.sortToggle[c]=d;},sort:function(c,d){if(Ext.isArray(arguments[0])){return this.multiSort.call(this,c,d);}else{return this.singleSort(c,d);}},singleSort:function(j,m){var k=this.fields.get(j);if(!k){return false;
}var h=k.name,i=this.sortInfo||null,l=this.sortToggle?this.sortToggle[h]:null;if(!m){if(i&&i.field==h){m=(this.sortToggle[h]||"ASC").toggle("ASC","DESC");}else{m=k.sortDir;}}this.sortToggle[h]=m;this.sortInfo={field:h,direction:m};this.hasMultiSort=false;if(this.remoteSort){if(!this.load(this.lastOptions)){if(l){this.sortToggle[h]=l;
}if(i){this.sortInfo=i;}}}else{this.applySort();this.fireEvent("datachanged",this);}},multiSort:function(c,d){this.hasMultiSort=true;d=d||"ASC";if(this.multiSortInfo&&d==this.multiSortInfo.direction){d=d.toggle("ASC","DESC");}this.multiSortInfo={sorters:c,direction:d};if(this.remoteSort){this.singleSort(c[0].field,c[0].direction);
}else{this.applySort();this.fireEvent("datachanged",this);}},each:function(c,d){this.data.each(c,d);},getModifiedRecords:function(){return this.modified;},sum:function(k,j,i){var m=this.data.items,h=0;j=j||0;i=(i||i===0)?i:m.length-1;for(var l=j;l<=i;l++){h+=(m[l].data[k]||0);}return h;},createFilterFn:function(g,h,k,j,i){if(Ext.isEmpty(h,false)){return false;
}h=this.data.createValueMatcher(h,k,j,i);return function(a){return h.test(a.data[g]);};},createMultipleFilterFn:function(b){return function(l){var i=true;for(var n=0,m=b.length;n<m;n++){var a=b[n],j=a.fn,o=a.scope;i=i&&j.call(o,l);}return i;};},filter:function(u,v,y,x,j){if(Ext.isObject(u)){u=[u];}if(Ext.isArray(u)){var r=[];
for(var i=0,p=u.length;i<p;i++){var s=u[i],q=s.fn,t=s.scope||this;if(!Ext.isFunction(q)){q=this.createFilterFn(s.property,s.value,s.anyMatch,s.caseSensitive,s.exactMatch);}r.push({fn:q,scope:t});}var w=this.createMultipleFilterFn(r);}else{var w=this.createFilterFn(u,v,y,x,j);}return w?this.filterBy(w):this.clearFilter();
},filterBy:function(c,d){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(c,d||this);this.fireEvent("datachanged",this);},clearFilter:function(b){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(b!==true){this.fireEvent("datachanged",this);}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data;
},query:function(g,h,k,j){var i=this.createFilterFn(g,h,k,j);return i?this.queryBy(i):this.data.clone();},queryBy:function(d,e){var g=this.snapshot||this.data;return g.filterBy(d,e||this);},find:function(l,m,j,k,i){var h=this.createFilterFn(l,m,k,i);return h?this.data.findIndexBy(h,null,j):-1;},findExact:function(d,e,g){return this.data.findIndexBy(function(a){return a.get(d)===e;
},this,g);},findBy:function(d,e,g){return this.data.findIndexBy(d,e,g);},collect:function(i,d,r){var l=(r===true&&this.snapshot)?this.snapshot.items:this.data.items;var u,t,s=[],q={};for(var p=0,o=l.length;p<o;p++){u=l[p].data[i];t=String(u);if((d||!Ext.isEmpty(u))&&!q[t]){q[t]=true;s[s.length]=u;}}return s;
},afterEdit:function(b){if(this.modified.indexOf(b)==-1){this.modified.push(b);}this.fireEvent("update",this,b,Ext.data.Record.EDIT);},afterReject:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.REJECT);},afterCommit:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.COMMIT);
},commitChanges:function(){var d=this.modified.slice(0);this.modified=[];for(var g=0,e=d.length;g<e;g++){d[g].commit();}},rejectChanges:function(){var d=this.modified.slice(0);this.modified=[];for(var g=0,e=d.length;g<e;g++){d[g].reject();}var d=this.removed.slice(0).reverse();this.removed=[];for(var g=0,e=d.length;
g<e;g++){this.insert(d[g].lastIndex||0,d[g]);d[g].reject();}},onMetaChange:function(b){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;delete this.snapshot;if(this.reader.meta.sortInfo){this.sortInfo=this.reader.meta.sortInfo;}else{if(this.sortInfo&&!this.fields.get(this.sortInfo.field)){delete this.sortInfo;
}}if(this.writer){this.writer.meta=this.reader.meta;}this.modified=[];this.fireEvent("metachange",this,this.reader.meta);},findInsertIndex:function(e){this.suspendEvents();var g=this.data.clone();this.data.add(e);this.applySort();var d=this.data.indexOf(e);this.data=g;this.resumeEvents();return d;},setBaseParam:function(d,c){this.baseParams=this.baseParams||{};
this.baseParams[d]=c;}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});Ext.data.Field=Ext.extend(Object,{constructor:function(e){if(Ext.isString(e)){e={name:e};
}Ext.apply(this,e);var h=Ext.data.Types,g=this.sortType,i;if(this.type){if(Ext.isString(this.type)){this.type=Ext.data.Types[this.type.toUpperCase()]||h.AUTO;}}else{this.type=h.AUTO;}if(Ext.isString(g)){this.sortType=Ext.data.SortTypes[g];}else{if(Ext.isEmpty(g)){this.sortType=this.type.sortType;}}if(!this.convert){this.convert=this.type.convert;
}},dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.DataReader=function(d,c){this.meta=d;this.recordType=Ext.isArray(c)?Ext.data.Record.create(c):c;if(this.recordType){this.buildExtractors();}};Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(e,g){if(Ext.isArray(e)){for(var d=e.length-1;
d>=0;d--){if(Ext.isArray(g)){this.realize(e.splice(d,1).shift(),g.splice(d,1).shift());}else{this.realize(e.splice(d,1).shift(),g);}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift();}if(!this.isData(g)){throw new Ext.data.DataReader.Error("realize",e);}e.phantom=false;e._phid=e.id;e.id=this.getId(g);
e.data=g;e.commit();}},update:function(e,g){if(Ext.isArray(e)){for(var d=e.length-1;d>=0;d--){if(Ext.isArray(g)){this.update(e.splice(d,1).shift(),g.splice(d,1).shift());}else{this.update(e.splice(d,1).shift(),g);}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift();}if(this.isData(g)){e.data=Ext.apply(e.data,g);
}e.commit();}},extractData:function(w,s){var x=(this instanceof Ext.data.JsonReader)?"json":"node";var q=[];if(this.isData(w)&&!(this instanceof Ext.data.XmlReader)){w=[w];}var y=this.recordType.prototype.fields,t=y.items,u=y.length,q=[];if(s===true){var v=this.recordType;for(var n=0;n<w.length;n++){var r=w[n];
var i=new v(this.extractValues(r,t,u),this.getId(r));i[x]=r;q.push(i);}}else{for(var n=0;n<w.length;n++){var p=this.extractValues(w[n],t,u);p[this.meta.idProperty]=this.getId(w[n]);q.push(p);}}return q;},isData:function(b){return(b&&Ext.isObject(b)&&!Ext.isEmpty(this.getId(b)))?true:false;},onMetaChange:function(b){delete this.ef;
this.meta=b;this.recordType=Ext.data.Record.create(b.fields);this.buildExtractors();}};Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c);},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});
Ext.data.DataWriter=function(b){Ext.apply(this,b);};Ext.data.DataWriter.prototype={writeAllFields:false,listful:false,apply:function(k,j,l,i){var m=[],h=l+"Record";if(Ext.isArray(i)){Ext.each(i,function(a){m.push(this[h](a));},this);}else{if(i instanceof Ext.data.Record){m=this[h](i);}}this.render(k,j,m);
},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(j,m){var k=j.fields.map,l={},h=(this.writeAllFields===false&&j.phantom===false)?j.getChanges():j.data,i;Ext.iterate(h,function(a,b){if((i=k[a])){l[i.mapping?i.mapping:i.name]=b;}});if(j.phantom){if(j.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(j.data[this.meta.idProperty])){delete l[this.meta.idProperty];
}}else{l[this.meta.idProperty]=j.id;}return l;},toArray:function(c){var d=[];Ext.iterate(c,function(a,b){d.push({name:a,value:b});},this);return d;}};Ext.data.DataProxy=function(d){d=d||{};this.api=d.api;this.url=d.url;this.restful=d.restful;this.listeners=d.listeners;this.prettyUrls=d.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");
Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this);}catch(c){if(c instanceof Ext.data.Api.Error){c.toConsole();}}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"]);};Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:false,setApi:function(){if(arguments.length==1){var b=Ext.data.Api.isValid(arguments[0]);
if(b===true){this.api=arguments[0];}else{throw new Ext.data.Api.Error("invalid",b);}}else{if(arguments.length==2){if(!Ext.data.Api.isAction(arguments[0])){throw new Ext.data.Api.Error("invalid",arguments[0]);}this.api[arguments[0]]=arguments[1];}}Ext.data.Api.prepare(this);},isApiAction:function(b){return(this.api[b])?true:false;
},request:function(i,l,o,m,n,j,k){if(!this.api[i]&&!this.load){throw new Ext.data.DataProxy.Error("action-undefined",i);}o=o||{};if((i===Ext.data.Api.actions.read)?this.fireEvent("beforeload",this,o):this.fireEvent("beforewrite",this,i,l,o)!==false){this.doRequest.apply(this,arguments);}else{n.call(j||this,null,k,false);
}},load:null,doRequest:function(i,l,o,m,n,j,k){this.load(o,m,n,j,k);},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(g,i){i=i||null;var h=(this.conn&&this.conn.url)?this.conn.url:(this.api[g])?this.api[g].url:this.url;if(!h){throw new Ext.data.Api.Error("invalid-url",g);}var k=null;var j=h.match(/(.*)(\.json|\.xml|\.html)$/);
if(j){k=j[2];h=j[1];}if((this.restful===true||this.prettyUrls===true)&&i instanceof Ext.data.Record&&!i.phantom){h+="/"+i.id;}return(k===null)?h:h+k;},destroy:function(){this.purgeListeners();}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);
Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c);},name:"Ext.data.DataProxy"});Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});
Ext.data.Request=function(b){Ext.apply(this,b);};Ext.data.Request.prototype={action:undefined,rs:undefined,params:undefined,callback:Ext.emptyFn,scope:undefined,reader:undefined};Ext.data.Response=function(b){Ext.apply(this,b);};Ext.data.Response.prototype={action:undefined,success:undefined,message:undefined,data:undefined,raw:undefined,records:undefined};
Ext.data.ScriptTagProxy=function(b){Ext.apply(this,b);Ext.data.ScriptTagProxy.superclass.constructor.call(this,b);this.head=document.getElementsByTagName("head")[0];};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(o,n,p,y,w,v,u){var q=Ext.urlEncode(Ext.apply(p,this.extraParams));
var r=this.buildUrl(o,n);if(!r){throw new Ext.data.Api.Error("invalid-url",r);}r=Ext.urlAppend(r,q);if(this.nocache){r=Ext.urlAppend(r,"_dc="+(new Date().getTime()));}var s=++Ext.data.ScriptTagProxy.TRANS_ID;var t={id:s,action:o,cb:"stcCallback"+s,scriptId:"stcScript"+s,params:p,arg:u,url:r,callback:w,scope:v,reader:y};
window[t.cb]=this.createCallback(o,n,t);r+=String.format("&{0}={1}",this.callbackParam,t.cb);if(this.autoAbort!==false){this.abort();}t.timeoutId=this.handleFailure.defer(this.timeout,this,[t]);var x=document.createElement("script");x.setAttribute("src",r);x.setAttribute("type","text/javascript");x.setAttribute("id",t.scriptId);
this.head.appendChild(x);this.trans=t;},createCallback:function(h,e,i){var g=this;return function(a){g.trans=false;g.destroyTrans(i,true);if(h===Ext.data.Api.actions.read){g.onRead.call(g,h,i,a);}else{g.onWrite.call(g,h,i,a,e);}};},onRead:function(e,h,i){var j;try{j=h.reader.readRecords(i);}catch(k){this.fireEvent("loadexception",this,h,i,k);
this.fireEvent("exception",this,"response",e,h,i,k);h.callback.call(h.scope||window,null,h.arg,false);return;}if(j.success===false){this.fireEvent("loadexception",this,h,i);this.fireEvent("exception",this,"remote",e,h,i,null);}else{this.fireEvent("load",this,i,h.arg);}h.callback.call(h.scope||window,j,h.arg,j.success);
},onWrite:function(o,e,k,l){var m=e.reader;try{var j=m.readResponse(o,k);}catch(n){this.fireEvent("exception",this,"response",o,e,j,n);e.callback.call(e.scope||window,null,j,false);return;}if(!j.success===true){this.fireEvent("exception",this,"remote",o,e,j,l);e.callback.call(e.scope||window,null,j,false);
return;}this.fireEvent("write",this,o,j.data,j,l,e.arg);e.callback.call(e.scope||window,j.data,j,true);},isLoading:function(){return this.trans?true:false;},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans);}},destroyTrans:function(d,e){this.head.removeChild(document.getElementById(d.scriptId));
clearTimeout(d.timeoutId);if(e){window[d.cb]=undefined;try{delete window[d.cb];}catch(g){}}else{window[d.cb]=function(){window[d.cb]=undefined;try{delete window[d.cb];}catch(a){}};}},handleFailure:function(b){this.trans=false;this.destroyTrans(b,false);if(b.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,b.arg);
}this.fireEvent("exception",this,"response",b.action,{response:null,options:b.arg});b.callback.call(b.scope||window,null,b.arg,false);},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this);}});Ext.data.HttpProxy=function(e){Ext.data.HttpProxy.superclass.constructor.call(this,e);
this.conn=e;this.conn.url=null;this.useAjax=!e||!e.events;var g=Ext.data.Api.actions;this.activeRequest={};for(var d in g){this.activeRequest[g[d]]=undefined;}};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn;},setUrl:function(d,c){this.conn.url=d;
if(c===true){this.url=d;this.api=null;Ext.data.Api.prepare(this);}},doRequest:function(j,l,p,m,n,k,o){var q={method:(this.api[j])?this.api[j]["method"]:undefined,request:{callback:n,scope:k,arg:o},reader:m,callback:this.createCallback(j,l),scope:this};if(p.jsonData){q.jsonData=p.jsonData;}else{if(p.xmlData){q.xmlData=p.xmlData;
}else{q.params=p||{};}}this.conn.url=this.buildUrl(j,l);if(this.useAjax){Ext.applyIf(q,this.conn);if(this.activeRequest[j]){}this.activeRequest[j]=Ext.Ajax.request(q);}else{this.conn.request(q);}this.conn.url=null;},createCallback:function(c,d){return function(a,b,g){this.activeRequest[c]=undefined;if(!b){if(c===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,a,g);
}this.fireEvent("exception",this,"response",c,a,g);a.request.callback.call(a.request.scope,null,a.request.arg,false);return;}if(c===Ext.data.Api.actions.read){this.onRead(c,a,g);}else{this.onWrite(c,a,g,d);}};},onRead:function(l,j,e){var i;try{i=j.reader.read(e);}catch(k){this.fireEvent("loadexception",this,j,e,k);
this.fireEvent("exception",this,"response",l,j,e,k);j.request.callback.call(j.request.scope,null,j.request.arg,false);return;}if(i.success===false){this.fireEvent("loadexception",this,j,e);var m=j.reader.readResponse(l,e);this.fireEvent("exception",this,"remote",l,j,m,null);}else{this.fireEvent("load",this,j,j.request.arg);
}j.request.callback.call(j.request.scope,i,j.request.arg,i.success);},onWrite:function(e,n,k,l){var m=n.reader;var j;try{j=m.readResponse(e,k);}catch(o){this.fireEvent("exception",this,"response",e,n,k,o);n.request.callback.call(n.request.scope,null,n.request.arg,false);return;}if(j.success===true){this.fireEvent("write",this,e,j.data,j,l,n.request.arg);
}else{this.fireEvent("exception",this,"remote",e,n,j,l);}n.request.callback.call(n.request.scope,j.data,j,j.success);},destroy:function(){if(!this.useAjax){this.conn.abort();}else{if(this.activeRequest){var c=Ext.data.Api.actions;for(var d in c){if(this.activeRequest[c[d]]){Ext.Ajax.abort(this.activeRequest[c[d]]);
}}}}Ext.data.HttpProxy.superclass.destroy.call(this);}});Ext.data.MemoryProxy=function(c){var d={};d[Ext.data.Api.actions.read]=true;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:d});this.data=c;};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(o,n,p,m,e,s,r){p=p||{};
var q;try{q=m.readRecords(this.data);}catch(l){this.fireEvent("loadexception",this,null,r,l);this.fireEvent("exception",this,"response",o,r,null,l);e.call(s,null,r,false);return;}e.call(s,q,r,true);}});Ext.data.Types=new function(){var b=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a;
},sortType:b.none,type:"auto"},STRING:{convert:function(a){return(a===undefined||a===null)?"":String(a);},sortType:b.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):0;},sortType:b.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):0;
},sortType:b.none,type:"float"},BOOL:{convert:function(a){return a===true||a==="true"||a==1;},sortType:b.none,type:"bool"},DATE:{convert:function(g){var e=this.dateFormat;if(!g){return null;}if(Ext.isDate(g)){return g;}if(e){if(e=="timestamp"){return new Date(g*1000);}if(e=="time"){return new Date(parseInt(g,10));
}return Date.parseDate(g,e);}var a=Date.parse(g);return a?new Date(a):null;},sortType:b.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT});};Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:true,encodeDelete:false,constructor:function(b){Ext.data.JsonWriter.superclass.constructor.call(this,b);
},render:function(i,h,e){if(this.encode===true){Ext.apply(i,h);i[this.meta.root]=Ext.encode(e);}else{var g=Ext.apply({},h);g[this.meta.root]=e;i.jsonData=g;}},createRecord:function(b){return this.toHash(b);},updateRecord:function(b){return this.toHash(b);},destroyRecord:function(c){if(this.encodeDelete){var d={};
d[this.meta.idProperty]=c.id;return d;}else{return c.id;}}});Ext.data.JsonReader=function(d,c){d=d||{};Ext.applyIf(d,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,d,c||d.fields);};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(e){var d=e.responseText;
var g=Ext.decode(d);if(!g){throw {message:"JsonReader.read: Json object not found"};}return this.readRecords(g);},readResponse:function(k,h){var j=(h.responseText!==undefined)?Ext.decode(h.responseText):h;if(!j){throw new Ext.data.JsonReader.Error("response");}var i=this.getRoot(j);if(k===Ext.data.Api.actions.create){var l=Ext.isDefined(i);
if(l&&Ext.isEmpty(i)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root);}else{if(!l){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root);}}}var m=new Ext.data.Response({action:k,success:this.getSuccess(j),data:(i)?this.extractData(i,false):[],message:this.getMessage(j),raw:j});
if(Ext.isEmpty(m.success)){throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty);}return m;},readRecords:function(t){this.jsonData=t;if(t.metaData){this.onMetaChange(t.metaData);}var u=this.meta,o=this.recordType,s=o.prototype.fields,v=s.items,n=s.length,c;var p=this.getRoot(t),q=p.length,r=q,w=true;
if(u.totalProperty){c=parseInt(this.getTotal(t),10);if(!isNaN(c)){r=c;}}if(u.successProperty){c=this.getSuccess(t);if(c===false||c==="false"){w=false;}}return{success:w,records:this.extractData(p,true),totalRecords:r};},buildExtractors:function(){if(this.ef){return;}var q=this.meta,g=this.recordType,i=g.prototype.fields,r=i.items,s=i.length;
if(q.totalProperty){this.getTotal=this.createAccessor(q.totalProperty);}if(q.successProperty){this.getSuccess=this.createAccessor(q.successProperty);}if(q.messageProperty){this.getMessage=this.createAccessor(q.messageProperty);}this.getRoot=q.root?this.createAccessor(q.root):function(a){return a;};if(q.id||q.idProperty){var m=this.createAccessor(q.id||q.idProperty);
this.getId=function(a){var b=m(a);return(b===undefined||b==="")?null:b;};}else{this.getId=function(){return null;};}var n=[];for(var o=0;o<s;o++){i=r[o];var p=(i.mapping!==undefined&&i.mapping!==null)?i.mapping:i.name;n.push(this.createAccessor(p));}this.ef=n;},simpleAccess:function(c,d){return c[d];
},createAccessor:function(){var b=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn;}if(Ext.isFunction(d)){return d;}var a=String(d).search(b);if(a>=0){return new Function("obj","return obj"+(a>0?".":"")+d);}return function(c){return c[d];};};}(),extractValues:function(n,j,m){var o,k={};
for(var i=0;i<m;i++){o=j[i];var l=this.ef[i](n);k[o.name]=o.convert((l!==undefined)?l:o.defaultValue,n);}return k;}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c);},name:"Ext.data.JsonReader"});Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});
Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(C){this.arrayData=C;var H=this.meta,L=H?Ext.num(H.idIndex,H.id):null,N=this.recordType,j=N.prototype.fields,F=[],K=true,J;var E=this.getRoot(C);for(var k=0,i=E.length;k<i;k++){var s=E[k],O={},n=((L||L===0)&&s[L]!==undefined&&s[L]!==""?s[L]:null);
for(var v=0,o=j.length;v<o;v++){var D=j.items[v],G=D.mapping!==undefined&&D.mapping!==null?D.mapping:v;J=s[G]!==undefined?s[G]:D.defaultValue;J=D.convert(J,s);O[D.name]=J;}var M=new N(O,n);M.json=s;F[F.length]=M;}var I=F.length;if(H.totalProperty){J=parseInt(this.getTotal(C),10);if(!isNaN(J)){I=J;}}if(H.successProperty){J=this.getSuccess(C);
if(J===false||J==="false"){K=false;}}return{success:K,records:F,totalRecords:I};}});Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.ArrayReader(b)}));},loadData:function(k,i){if(this.expandData===true){var g=[];
for(var h=0,j=k.length;h<j;h++){g[g.length]=[k[h]];}k=g;}Ext.data.ArrayStore.superclass.loadData.call(this,k,i);}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.JsonReader(b)}));
}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlWriter=function(b){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments);this.tpl=(typeof(this.tpl)==="string")?new Ext.XTemplate(this.tpl).compile():this.tpl.compile();};Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:false,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><\u003fxml version="{version}" encoding="{encoding}"\u003f><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}</tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',render:function(d,g,e){g=this.toArray(g);
d.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:(g.length>0||this.forceDocumentRoot===true)?this.documentRoot:false,record:this.meta.record,root:this.root,baseParams:g,records:(Ext.isArray(e[0]))?e:[e]});},createRecord:function(b){return this.toArray(this.toHash(b));
},updateRecord:function(b){return this.toArray(this.toHash(b));},destroyRecord:function(c){var d={};d[this.meta.idProperty]=c.id;return this.toArray(d);}});Ext.data.XmlReader=function(d,c){d=d||{};Ext.applyIf(d,{idProperty:d.idProperty||d.idPath||d.id,successProperty:d.successProperty||d.success});Ext.data.XmlReader.superclass.constructor.call(this,d,c||d.fields);
};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(d){var c=d.responseXML;if(!c){throw {message:"XmlReader.read: XML Document not available"};}return this.readRecords(c);},readRecords:function(l){this.xmlData=l;var i=l.documentElement||l,m=Ext.DomQuery,j=0,k=true;if(this.meta.totalProperty){j=this.getTotal(i,0);
}if(this.meta.successProperty){k=this.getSuccess(i);}var h=this.extractData(m.select(this.meta.record,i),true);return{success:k,records:h,totalRecords:j||h.length};},readResponse:function(k,i){var l=Ext.DomQuery,j=i.responseXML;var h=new Ext.data.Response({action:k,success:this.getSuccess(j),message:this.getMessage(j),data:this.extractData(l.select(this.meta.record,j)||l.select(this.meta.root,j),false),raw:j});
if(Ext.isEmpty(h.success)){throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty);}if(k===Ext.data.Api.actions.create){var m=Ext.isDefined(h.data);if(m&&Ext.isEmpty(h.data)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root);}else{if(!m){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root);
}}}return h;},getSuccess:function(){return true;},buildExtractors:function(){if(this.ef){return;}var q=this.meta,g=this.recordType,i=g.prototype.fields,r=i.items,s=i.length;if(q.totalProperty){this.getTotal=this.createAccessor(q.totalProperty);}if(q.successProperty){this.getSuccess=this.createAccessor(q.successProperty);
}if(q.messageProperty){this.getMessage=this.createAccessor(q.messageProperty);}this.getRoot=function(a){return(!Ext.isEmpty(a[this.meta.record]))?a[this.meta.record]:a[this.meta.root];};if(q.idPath||q.idProperty){var m=this.createAccessor(q.idPath||q.idProperty);this.getId=function(b){var a=m(b)||b.id;
return(a===undefined||a==="")?null:a;};}else{this.getId=function(){return null;};}var n=[];for(var o=0;o<s;o++){i=r[o];var p=(i.mapping!==undefined&&i.mapping!==null)?i.mapping:i.name;n.push(this.createAccessor(p));}this.ef=n;},createAccessor:function(){var b=Ext.DomQuery;return function(a){switch(a){case this.meta.totalProperty:return function(g,e){return b.selectNumber(a,g,e);
};break;case this.meta.successProperty:return function(j,i){var k=b.selectValue(a,j,true);var h=k!==false&&k!=="false";return h;};break;default:return function(g,e){return b.selectValue(a,g,e);};break;}};}(),extractValues:function(n,j,m){var o,k={};for(var i=0;i<m;i++){o=j[i];var l=this.ef[i](n);k[o.name]=o.convert((l!==undefined)?l:o.defaultValue,n);
}return k;}});Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.XmlReader(b)}));}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(g){g=g||{};
this.hasMultiSort=true;this.multiSortInfo=this.multiSortInfo||{sorters:[]};var k=this.multiSortInfo.sorters,h=g.groupField||this.groupField,i=g.sortInfo||this.sortInfo,j=g.groupDir||this.groupDir;if(h){k.push({field:h,direction:j});}if(i){k.push(i);}Ext.data.GroupingStore.superclass.constructor.call(this,g);
this.addEvents("groupchange");this.applyGroupField();},remoteGroup:false,groupOnSort:false,groupDir:"ASC",clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;delete this.baseParams.groupDir;}var b=this.lastOptions;if(b&&b.params){delete b.params.groupBy;
delete b.params.groupDir;}this.reload();}else{this.sort();this.fireEvent("datachanged",this);}},groupBy:function(h,g,i){i=i?(String(i).toUpperCase()=="DESC"?"DESC":"ASC"):this.groupDir;if(this.groupField==h&&this.groupDir==i&&!g){return;}sorters=this.multiSortInfo.sorters;if(sorters.length>0&&sorters[0].field==this.groupField){sorters.shift();
}this.groupField=h;this.groupDir=i;this.applyGroupField();var e=function(){this.fireEvent("groupchange",this,this.getGroupState());};if(this.groupOnSort){this.sort(h,i);e.call(this);return;}if(this.remoteGroup){this.on("load",e,this,{single:true});this.reload();}else{this.sort(sorters);e.call(this);}},sort:function(n,k){if(this.remoteSort){return Ext.data.GroupingStore.superclass.sort.call(this,n,k);
}var o=[];if(Ext.isArray(arguments[0])){o=arguments[0];}else{if(n==undefined){o=this.sortInfo?[this.sortInfo]:[];}else{var i=this.fields.get(n);if(!i){return false;}var l=i.name,m=this.sortInfo||null,j=this.sortToggle?this.sortToggle[l]:null;if(!k){if(m&&m.field==l){k=(this.sortToggle[l]||"ASC").toggle("ASC","DESC");
}else{k=i.sortDir;}}this.sortToggle[l]=k;this.sortInfo={field:l,direction:k};o=[this.sortInfo];}}if(this.groupField){o.unshift({direction:this.groupDir,field:this.groupField});}return this.multiSort.call(this,o,k);},applyGroupField:function(){if(this.remoteGroup){if(!this.baseParams){this.baseParams={};
}Ext.apply(this.baseParams,{groupBy:this.groupField,groupDir:this.groupDir});var b=this.lastOptions;if(b&&b.params){b.params.groupDir=this.groupDir;delete b.params.groupBy;}}},applyGrouping:function(b){if(this.groupField!==false){this.groupBy(this.groupField,true,this.groupDir);return true;}else{if(b===true){this.fireEvent("datachanged",this);
}return false;}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField;}});Ext.reg("groupingstore",Ext.data.GroupingStore);Ext.data.DirectProxy=function(b){Ext.apply(this,b);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/);
}Ext.data.DirectProxy.superclass.constructor.call(this,b);};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,doRequest:function(r,q,s,o,w,v,t){var x=[],y=this.api[r]||this.directFn;switch(r){case Ext.data.Api.actions.create:x.push(s.jsonData);
break;case Ext.data.Api.actions.read:if(y.directCfg.method.len>0){if(this.paramOrder){for(var p=0,i=this.paramOrder.length;p<i;p++){x.push(s[this.paramOrder[p]]);}}else{if(this.paramsAsHash){x.push(s);}}}break;case Ext.data.Api.actions.update:x.push(s.jsonData);break;case Ext.data.Api.actions.destroy:x.push(s.jsonData);
break;}var u={params:s||{},request:{callback:w,scope:v,arg:t},reader:o};x.push(this.createCallback(r,q,u),this);y.apply(window,x);},createCallback:function(h,g,e){var i=this;return function(b,a){if(!a.status){if(h===Ext.data.Api.actions.read){i.fireEvent("loadexception",i,e,a,null);}i.fireEvent("exception",i,"remote",h,e,a,null);
e.request.callback.call(e.request.scope,null,e.request.arg,false);return;}if(h===Ext.data.Api.actions.read){i.onRead(h,e,b,a);}else{i.onWrite(h,e,b,a,g);}};},onRead:function(j,k,i,l){var h;try{h=k.reader.readRecords(i);}catch(m){this.fireEvent("loadexception",this,k,l,m);this.fireEvent("exception",this,"response",j,k,l,m);
k.request.callback.call(k.request.scope,null,k.request.arg,false);return;}this.fireEvent("load",this,l,k.request.arg);k.request.callback.call(k.request.scope,h,k.request.arg,true);},onWrite:function(o,j,m,k,l){var i=j.reader.extractData(j.reader.getRoot(m),false);var n=j.reader.getSuccess(m);n=(n!==false);
if(n){this.fireEvent("write",this,o,i,k,l,j.request.arg);}else{this.fireEvent("exception",this,"remote",o,j,m,l);}j.request.callback.call(j.request.scope,i,k,n);}});Ext.data.DirectStore=Ext.extend(Ext.data.Store,{constructor:function(d){var c=Ext.apply({},{batchTransactions:false},d);Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(c,{proxy:Ext.isDefined(c.proxy)?c.proxy:new Ext.data.DirectProxy(Ext.copyTo({},c,"paramOrder,paramsAsHash,directFn,api")),reader:(!Ext.isDefined(c.reader)&&c.fields)?new Ext.data.JsonReader(Ext.copyTo({},c,"totalProperty,root,idProperty"),c.fields):c.reader}));
}});Ext.reg("directstore",Ext.data.DirectStore);Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={};},addProvider:function(g){var i=arguments;
if(i.length>1){for(var h=0,a=i.length;h<a;h++){this.addProvider(i[h]);}return;}if(!g.events){g=new Ext.Direct.PROVIDERS[g.type](g);}g.id=g.id||Ext.id();this.providers[g.id]=g;g.on("data",this.onProviderData,this);g.on("exception",this.onProviderException,this);if(!g.isConnected()){g.connect();}return g;
},getProvider:function(b){return this.providers[b];},removeProvider:function(c){var d=c.id?c:this.providers[c];d.un("data",this.onProviderData,this);d.un("exception",this.onProviderException,this);delete this.providers[d.id];return d;},addTransaction:function(b){this.transactions[b.tid]=b;return b;},removeTransaction:function(b){delete this.transactions[b.tid||b];
return b;},getTransaction:function(b){return this.transactions[b.tid||b];},onProviderData:function(h,i){if(Ext.isArray(i)){for(var e=0,g=i.length;e<g;e++){this.onProviderData(h,i[e]);}return;}if(i.name&&i.name!="event"&&i.name!="exception"){this.fireEvent(i.name,i);}else{if(i.type=="exception"){this.fireEvent("exception",i);
}}this.fireEvent("event",i,h);},createEvent:function(d,c){return new Ext.Direct.eventTypes[d.type](Ext.apply(d,c));}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(b){Ext.apply(this,b);this.tid=++Ext.Direct.TID;this.retryCount=0;};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this);
},retry:function(){this.retryCount++;this.send();},getProvider:function(){return this.provider;}};Ext.Direct.Event=function(b){Ext.apply(this,b);};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data;}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid);
}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(b){Ext.apply(this,b);
this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,b);},isConnected:function(){return false;},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(b){if(!Ext.isEmpty(b.responseText)){if(typeof b.responseText=="object"){return b.responseText;
}return Ext.decode(b.responseText);}return null;},getEvents:function(n){var e=null;try{e=this.parseResponse(n);}catch(o){var i=new Ext.Direct.ExceptionEvent({data:o,xhr:n,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+e});return[i];}var k=[];if(Ext.isArray(e)){for(var l=0,m=e.length;
l<m;l++){k.push(Ext.Direct.createEvent(e[l]));}}else{k.push(Ext.Direct.createEvent(e));}return k;}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(b){Ext.direct.PollingProvider.superclass.constructor.call(this,b);this.addEvents("beforepoll","poll");
},isConnected:function(){return !!this.pollTask;},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams);}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams});
}}},interval:this.interval,scope:this});this.fireEvent("connect",this);}else{if(!this.url){throw"Error initializing PollingProvider, no url configured.";}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this);}},onData:function(i,n,o){if(n){var k=this.getEvents(o);
for(var l=0,m=k.length;l<m;l++){var e=k[l];this.fireEvent("data",this,e);}}else{var e=new Ext.Direct.ExceptionEvent({data:e,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:o});this.fireEvent("data",this,e);}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;
Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(b){Ext.direct.RemotingProvider.superclass.constructor.call(this,b);this.addEvents("beforecall","call");this.namespace=(Ext.isString(this.namespace))?Ext.ns(this.namespace):this.namespace||window;
this.transactions={};this.callBuffer=[];},initAPI:function(){var n=this.actions;for(var o in n){var m=this.namespace[o]||(this.namespace[o]={}),k=n[o];for(var i=0,c=k.length;i<c;i++){var l=k[i];m[l.name]=this.createMethod(o,l);}}},isConnected:function(){return !!this.connected;},connect:function(){if(this.url){this.initAPI();
this.connected=true;this.fireEvent("connect",this);}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured.";}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this);}},onData:function(p,e,s){if(e){var r=this.getEvents(s);for(var o=0,n=r.length;
o<n;o++){var m=r[o],q=this.getTransaction(m);this.fireEvent("data",this,m);if(q){this.doCallback(q,m,true);Ext.Direct.removeTransaction(q);}}}else{var i=[].concat(p.ts);for(var o=0,n=i.length;o<n;o++){var q=this.getTransaction(i[o]);if(q&&q.retryCount<this.maxRetries){q.retry();}else{var m=new Ext.Direct.ExceptionEvent({data:m,transaction:q,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:s});
this.fireEvent("data",this,m);if(q){this.doCallback(q,m,false);Ext.Direct.removeTransaction(q);}}}}},getCallData:function(b){return{action:b.action,method:b.method,data:b.data,type:"rpc",tid:b.tid};},doSend:function(l){var j={url:this.url,callback:this.onData,scope:this,ts:l,timeout:this.timeout},h;if(Ext.isArray(l)){h=[];
for(var m=0,i=l.length;m<i;m++){h.push(this.getCallData(l[m]));}}else{h=this.getCallData(l);}if(this.enableUrlEncode){var k={};k[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(h);j.params=k;}else{j.jsonData=h;}Ext.Ajax.request(j);},combineAndSend:function(){var b=this.callBuffer.length;
if(b>0){this.doSend(b==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[];}},queueTransaction:function(b){if(b.form){this.processForm(b);return;}this.callBuffer.push(b);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this);}this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10);
}else{this.combineAndSend();}},doCall:function(o,n,k){var m=null,j=k[n.len],c=k[n.len+1];if(n.len!==0){m=k.slice(0,n.len);}var l=new Ext.Direct.Transaction({provider:this,args:k,action:o,method:n.name,data:m,cb:c&&Ext.isFunction(j)?j.createDelegate(c):j});if(this.fireEvent("beforecall",this,l)!==false){Ext.Direct.addTransaction(l);
this.queueTransaction(l);this.fireEvent("call",this,l);}},doForm:function(l,c,o,m,p){var q=new Ext.Direct.Transaction({provider:this,action:l,method:c.name,args:[o,m,p],cb:p&&Ext.isFunction(m)?m.createDelegate(p):m,isForm:true});if(this.fireEvent("beforecall",this,q)!==false){Ext.Direct.addTransaction(q);
var k=String(o.getAttribute("enctype")).toLowerCase()=="multipart/form-data",n={extTID:q.tid,extAction:l,extMethod:c.name,extType:"rpc",extUpload:String(k)};Ext.apply(q,{form:Ext.getDom(o),isUpload:k,params:m&&Ext.isObject(m.params)?Ext.apply(n,m.params):n});this.fireEvent("call",this,q);this.processForm(q);
}},processForm:function(b){Ext.Ajax.request({url:this.url,params:b.params,callback:this.onData,scope:this,form:b.form,isUpload:b.isUpload,ts:b});},createMethod:function(g,e){var c;if(!e.formHandler){c=function(){this.doCall(g,e,Array.prototype.slice.call(arguments,0));}.createDelegate(this);}else{c=function(b,a,d){this.doForm(g,e,b,a,d);
}.createDelegate(this);}c.directCfg={action:g,method:e};return c;},getTransaction:function(b){return b&&b.tid?Ext.Direct.getTransaction(b.tid):null;},doCallback:function(h,k){var e=k.status?"success":"failure";if(h&&h.cb){var i=h.cb,j=Ext.isDefined(k.result)?k.result:k.data;if(Ext.isFunction(i)){i(j,k);
}else{Ext.callback(i[e],i.scope,[j,k]);Ext.callback(i.callback,i.scope,[j,k]);}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(z,w){this.el=Ext.get(z);if(w&&w.wrap){w.resizeChild=this.el;this.el=this.el.wrap(typeof w.wrap=="object"?w.wrap:{cls:"xresizable-wrap"});
this.el.id=this.el.dom.id=w.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(w.resizeChild.getPositioning());w.resizeChild.clearPositioning();if(!w.width||!w.height){var y=w.resizeChild.getSize();this.el.setSize(y.width,y.height);}if(w.pinned&&!w.adjustments){w.adjustments="auto";
}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,w);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned");}var s=this.el.getStyle("position");
if(s!="absolute"&&s!="fixed"){this.el.setStyle("position","relative");}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w";}}if(this.handles=="all"){this.handles="n s e w ne nw se sw";}var i=this.handles.split(/\s*?[,;]\s*?| /);var A=Ext.Resizable.positions;for(var v=0,u=i.length;
v<u;v++){if(i[v]&&A[i[v]]){var r=A[i[v]];this[r]=new Ext.Resizable.Handle(this,r,this.disableTrackOver,this.transparent,this.handleCls);}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true;}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true);
}else{this.resizeChild=Ext.get(this.resizeChild,true);}}if(this.adjustments=="auto"){var p=this.resizeChild;var t=this.west,x=this.east,q=this.north,i=this.south;if(p&&(t||q)){p.position("relative");p.setLeft(t?t.el.getWidth():0);p.setTop(q?q.el.getHeight():0);}this.adjustments=[(x?-x.el.getWidth():0)+(t?-t.el.getWidth():0),(q?-q.el.getHeight():0)+(i?-i.el.getHeight():0)-1];
}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo);}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height);
}else{this.updateChildSize();}if(Ext.isIE){this.el.dom.style.zoom=1;}Ext.Resizable.superclass.constructor.call(this);},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(c,d){this.el.setSize(c,d);
this.updateChildSize();this.fireEvent("resize",this,c,d,null);},startSizing:function(g,d){this.fireEvent("beforeresize",this,g);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");
this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp});}this.overlay.setStyle("cursor",d.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=g.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];
this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var e=Ext.get(this.constrainTo);this.resizeRegion=e.getRegion().adjust(e.getFrameWidth("t"),e.getFrameWidth("l"),-e.getFrameWidth("b"),-e.getFrameWidth("r"));}this.proxy.setStyle("visibility","hidden");
this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible");}}},onMouseDown:function(d,c){if(this.enabled){c.stopEvent();this.activeHandle=d;this.startSizing(c,d);}},onMouseUp:function(c){this.activeHandle=null;var d=this.resizeElement();this.resizing=false;
this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,d.width,d.height,c);},updateChildSize:function(){if(this.resizeChild){var h=this.el;var g=this.resizeChild;var i=this.adjustments;if(h.dom.offsetWidth){var b=h.getSize(true);g.setSize(b.width+i[0],b.height+i[1]);}if(Ext.isIE){setTimeout(function(){if(h.dom.offsetWidth){var a=h.getSize(true);
g.setSize(a.width+i[0],a.height+i[1]);}},10);}}},snap:function(h,k,i){if(!k||!h){return h;}var g=h;var j=h%k;if(j>0){if(j>(k/2)){g=h+(k-j);}else{g=h-j;}}return Math.max(i,g);},resizeElement:function(){var b=this.proxy.getBox();if(this.updateBox){this.el.setBox(b,false,this.animate,this.duration,null,this.easing);
}else{this.el.setSize(b.width,b.height,this.animate,this.duration,null,this.easing);}this.updateChildSize();if(!this.dynamic){this.proxy.hide();}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo);}return b;},constrain:function(e,i,g,h){if(e-i<g){i=e-g;
}else{if(e-i>h){i=e-h;}}return i;},onMouseMove:function(H){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(H.getPoint())){return;}var y=this.curSize||this.startBox,Q=this.startBox.x,R=this.startBox.y,W=Q,X=R,P=y.width,K=y.height,V=P,N=K,O=this.minWidth,M=this.minHeight,G=this.maxWidth,I=this.maxHeight,T=this.widthIncrement,Y=this.heightIncrement,h=H.getXY(),L=-(this.startPoint[0]-Math.max(this.minX,h[0])),F=-(this.startPoint[1]-Math.max(this.minY,h[1])),S=this.activeHandle.position,J,U;
switch(S){case"east":P+=L;P=Math.min(Math.max(O,P),G);break;case"south":K+=F;K=Math.min(Math.max(M,K),I);break;case"southeast":P+=L;K+=F;P=Math.min(Math.max(O,P),G);K=Math.min(Math.max(M,K),I);break;case"north":F=this.constrain(K,F,M,I);R+=F;K-=F;break;case"west":L=this.constrain(P,L,O,G);Q+=L;P-=L;break;
case"northeast":P+=L;P=Math.min(Math.max(O,P),G);F=this.constrain(K,F,M,I);R+=F;K-=F;break;case"northwest":L=this.constrain(P,L,O,G);F=this.constrain(K,F,M,I);R+=F;K-=F;Q+=L;P-=L;break;case"southwest":L=this.constrain(P,L,O,G);K+=F;K=Math.min(Math.max(M,K),I);Q+=L;P-=L;break;}var x=this.snap(P,T,O);var w=this.snap(K,Y,M);
if(x!=P||w!=K){switch(S){case"northeast":R-=w-K;break;case"north":R-=w-K;break;case"southwest":Q-=x-P;break;case"west":Q-=x-P;break;case"northwest":Q-=x-P;R-=w-K;break;}P=x;K=w;}if(this.preserveRatio){switch(S){case"southeast":case"east":K=N*(P/V);K=Math.min(Math.max(M,K),I);P=V*(K/N);break;case"south":P=V*(K/N);
P=Math.min(Math.max(O,P),G);K=N*(P/V);break;case"northeast":P=V*(K/N);P=Math.min(Math.max(O,P),G);K=N*(P/V);break;case"north":J=P;P=V*(K/N);P=Math.min(Math.max(O,P),G);K=N*(P/V);Q+=(J-P)/2;break;case"southwest":K=N*(P/V);K=Math.min(Math.max(M,K),I);J=P;P=V*(K/N);Q+=J-P;break;case"west":U=K;K=N*(P/V);
K=Math.min(Math.max(M,K),I);R+=(U-K)/2;J=P;P=V*(K/N);Q+=J-P;break;case"northwest":J=P;U=K;K=N*(P/V);K=Math.min(Math.max(M,K),I);P=V*(K/N);R+=U-K;Q+=J-P;break;}}this.proxy.setBounds(Q,R,P,K);if(this.dynamic){this.resizeElement();}}catch(e){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over");
}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over");}},getEl:function(){return this.el;},getResizeChild:function(){return this.resizeChild;},destroy:function(d){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var g=Ext.Resizable.positions;
for(var e in g){if(typeof g[e]!="function"&&this[g[e]]){this[g[e]].destroy();}}if(d){this.el.update("");Ext.destroy(this.el);this.el=null;}this.purgeListeners();},syncHandleHeight:function(){var b=this.el.getHeight(true);if(this.west){this.west.el.setHeight(b);}if(this.east){this.east.el.setHeight(b);
}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(l,j,m,k,i){if(!this.tpl){var h=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});
h.compile();Ext.Resizable.Handle.prototype.tpl=h;}this.position=j;this.rz=l;this.el=this.tpl.append(l.el.dom,[this.position],true);this.el.unselectable();if(k){this.el.setOpacity(0);}if(!Ext.isEmpty(i)){this.el.addClass(i);}this.el.on("mousedown",this.onMouseDown,this);if(!m){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut});
}},afterResize:function(b){},onMouseDown:function(b){this.rz.onMouseDown(this,b);},onMouseOver:function(b){this.rz.handleOver(this,b);},onMouseOut:function(b){this.rz.handleOut(this,b);},destroy:function(){Ext.destroy(this.el);this.el=null;}});Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,closeAction:"close",constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,collapsible:false,initHidden:undefined,hidden:true,elements:"header,body",frame:true,floating:true,initComponent:function(){this.initTools();
Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");if(Ext.isDefined(this.initHidden)){this.hidden=this.initHidden;}if(this.hidden===false){this.hidden=true;this.show();}},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(true));
},onRender:function(c,d){Ext.Window.superclass.onRender.call(this,c,d);if(this.plain){this.el.addClass("x-window-plain");}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");
this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mon(this.mask,"click",this.focus,this);}if(this.maximizable){this.mon(this.header,"dblclick",this.toggleMaximize,this);
}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget);}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction,handleCls:"x-window-handle"});
this.resizer.window=this;this.mon(this.resizer,"beforeresize",this.beforeResize,this);}if(this.draggable){this.header.addClass("x-window-draggable");}this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);if(this.maximized){this.maximized=false;
this.maximize();}if(this.closable){var b=this.getKeyMap();b.on(27,this.onEsc,this);b.disable();}},initDraggable:function(){this.dd=new Ext.Window.DD(this);},onEsc:function(d,c){c.stopEvent();this[this.closeAction]();},beforeDestroy:function(){if(this.rendered){this.hide();this.clearAnchor();Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask);
}Ext.Window.superclass.beforeDestroy.call(this);},onDestroy:function(){if(this.manager){this.manager.unregister(this);}Ext.Window.superclass.onDestroy.call(this);},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])});}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});
this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true});}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])});}},resizerAction:function(){var b=this.proxy.getBox();this.proxy.hide();this.window.handleResize(b);return b;},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);
this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox();},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint();}},handleResize:function(c){var d=this.resizeBox;if(d.x!=c.x||d.y!=c.y){this.updateBox(c);}else{this.setSize(c);
if(Ext.isIE6&&Ext.isStrict){this.doLayout();}}this.focus();this.updateHandles();this.saveState();},focus:function(){var k=this.focusEl,j=this.defaultButton,h=typeof j,g,i;if(Ext.isDefined(j)){if(Ext.isNumber(j)&&this.fbar){k=this.fbar.items.get(j);}else{if(Ext.isString(j)){k=Ext.getCmp(j);}else{k=j;}}g=k.getEl();
i=Ext.getDom(this.container);if(g&&i){if(!Ext.lib.Region.getRegion(i).contains(Ext.lib.Region.getRegion(g.dom))){return;}}}k=k||this.focusEl;k.focus.defer(10,k);},setAnimateTarget:function(b){b=Ext.get(b);this.animateTarget=b;},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var d=this.el.getAlignToXY(this.container,"c-c");
var c=this.el.translatePoints(d[0],d[1]);this.x=this.x===undefined?c.left:this.x;this.y=this.y===undefined?c.top:this.y;}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false);}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));
this.mask.show();}},show:function(g,e,d){if(!this.rendered){this.render(Ext.getBody());}if(this.hidden===false){this.toFront();return this;}if(this.fireEvent("beforeshow",this)===false){return this;}if(e){this.on("show",e,d,{single:true});}this.hidden=false;if(Ext.isDefined(g)){this.setAnimateTarget(g);
}this.beforeShow();if(this.animateTarget){this.animShow();}else{this.afterShow();}return this;},afterShow:function(c){if(this.isDestroyed){return false;}this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer();}if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll);
}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this);}this.doConstrain();this.doLayout();if(this.keyMap){this.keyMap.enable();}this.toFront();this.updateHandles();if(c&&(Ext.isIE||Ext.isWebKit)){var d=this.getSize();this.onResize(d.width,d.height);
}this.onShow();this.fireEvent("show",this);},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var b=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(b,{callback:this.afterShow.createDelegate(this,[true],false),scope:this,easing:"easeNone",duration:0.25,opacity:0.5}));
},hide:function(g,e,d){if(this.hidden||this.fireEvent("beforehide",this)===false){return this;}if(e){this.on("hide",e,d,{single:true});}this.hidden=true;if(g!==undefined){this.setAnimateTarget(g);}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked");}if(this.animateTarget){this.animHide();
}else{this.el.hide();this.afterHide();}return this;},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this);}if(this.keyMap){this.keyMap.disable();}this.onHide();this.fireEvent("hide",this);
},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var b=this.getBox(false);this.proxy.setBox(b);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:0.25,easing:"easeNone",opacity:0}));},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized){this.fitContainer();
}if(this.modal){this.mask.setSize("100%","100%");var b=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));}this.doConstrain();},doConstrain:function(){if(this.constrain||this.constrainHeader){var d;if(this.constrain){d={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset};
}else{var e=this.getSize();d={right:-(e.width-100),bottom:-(e.height-25)};}var g=this.el.getConstrainToXY(this.container,true,d);if(g){this.setPosition(g[0],g[1]);}}},ghost:function(e){var g=this.createGhost(e);var d=this.getBox(true);g.setLeftTop(d.x,d.y);g.setWidth(d.width);this.el.hide();this.activeGhost=g;
return g;},unghost:function(c,d){if(!this.activeGhost){return;}if(c!==false){this.el.show();this.focus.defer(10,this);if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll);}}if(d!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true));}this.activeGhost.hide();this.activeGhost.remove();
delete this.activeGhost;},minimize:function(){this.fireEvent("minimize",this);return this;},close:function(){if(this.fireEvent("beforeclose",this)!==false){if(this.hidden){this.doClose();}else{this.hide(null,this.doClose,this);}}},doClose:function(){this.fireEvent("close",this);this.destroy();},maximize:function(){if(!this.maximized){this.expand(false);
this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show();}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock();}if(this.collapsible){this.tools.toggle.hide();}this.el.addClass("x-window-maximized");
this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this);}return this;},restore:function(){if(this.maximized){var b=this.tools;this.el.removeClass("x-window-maximized");if(b.restore){b.restore.hide();}if(b.maximize){b.maximize.show();}this.setPosition(this.restorePos[0],this.restorePos[1]);
this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock();}if(this.collapsible&&b.toggle){b.toggle.show();}this.container.removeClass("x-window-maximized-ct");this.doConstrain();
this.fireEvent("restore",this);}return this;},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]();},fitContainer:function(){var b=this.container.getViewSize(false);this.setSize(b.width,b.height);},setZIndex:function(b){if(this.modal){this.mask.setStyle("z-index",b);}this.el.setZIndex(++b);
b+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++b);}this.lastZIndex=b;},alignTo:function(e,g,i){var h=this.el.getAlignToXY(e,g,i);this.setPagePosition(h[0],h[1]);return this;},anchorTo:function(h,k,g,i){this.clearAnchor();this.anchorTarget={el:h,alignment:k,offsets:g};Ext.EventManager.onWindowResize(this.doAnchor,this);
var j=typeof i;if(j!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:j=="number"?i:50});}return this.doAnchor();},doAnchor:function(){var b=this.anchorTarget;this.alignTo(b.el,b.alignment,b.offsets);return this;},clearAnchor:function(){if(this.anchorTarget){Ext.EventManager.removeResizeListener(this.doAnchor,this);
Ext.EventManager.un(window,"scroll",this.doAnchor,this);delete this.anchorTarget;}return this;},toFront:function(b){if(this.manager.bringToFront(this)){if(!b||!b.getTarget().focus){this.focus();}}return this;},setActive:function(b){if(b){if(!this.maximized){this.el.enableShadow(true);}this.fireEvent("activate",this);
}else{this.el.disableShadow();this.fireEvent("deactivate",this);}},toBack:function(){this.manager.sendToBack(this);return this;},center:function(){var b=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(b[0],b[1]);return this;}});Ext.reg("window",Ext.Window);Ext.Window.DD=function(b){this.win=b;
Ext.Window.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false;};Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:true,headerOffsets:[100,25],startDrag:function(){var e=this.win;this.proxy=e.ghost();if(e.constrain!==false){var g=e.el.shadowOffset;
this.constrainTo(e.container,{right:g,left:g,bottom:g});}else{if(e.constrainHeader!==false){var d=this.proxy.getSize();this.constrainTo(e.container,{right:-(d.width-this.headerOffsets[0]),bottom:-(d.height-this.headerOffsets[1])});}}},b4Drag:Ext.emptyFn,onDrag:function(b){this.alignElWithMouse(this.proxy,b.getPageX(),b.getPageY());
},endDrag:function(b){this.win.unghost();this.win.saveState();}});Ext.WindowGroup=function(){var o={};var j=[];var i=null;var k=function(a,b){return(!a._lastAccess||a._lastAccess<b._lastAccess)?-1:1;};var n=function(){var e=j,b=e.length;if(b>0){e.sort(k);var a=e[0].manager.zseed;for(var d=0;d<b;d++){var c=e[d];
if(c&&!c.hidden){c.setZIndex(a+(d*10));}}}m();};var l=function(a){if(a!=i){if(i){i.setActive(false);}i=a;if(a){a.setActive(true);}}};var m=function(){for(var a=j.length-1;a>=0;--a){if(!j[a].hidden){l(j[a]);return;}}l(null);};return{zseed:9000,register:function(a){if(a.manager){a.manager.unregister(a);
}a.manager=this;o[a.id]=a;j.push(a);a.on("hide",m);},unregister:function(a){delete a.manager;delete o[a.id];a.un("hide",m);j.remove(a);},get:function(a){return typeof a=="object"?a:o[a];},bringToFront:function(a){a=this.get(a);if(a!=i){a._lastAccess=new Date().getTime();n();return true;}return false;
},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date().getTime());n();return a;},hideAll:function(){for(var a in o){if(o[a]&&typeof o[a]!="function"&&o[a].isVisible()){o[a].hide();}}},getActive:function(){return i;},getBy:function(e,a){var d=[];for(var b=j.length-1;b>=0;--b){var c=j[b];if(e.call(a||c,c)!==false){d.push(c);
}}return d;},each:function(b,c){for(var a in o){if(o[a]&&typeof o[a]!="function"){if(b.call(c||o[a],o[a])===false){return;}}}}};};Ext.WindowMgr=new Ext.WindowGroup();Ext.MessageBox=function(){var x,R,J,I,M,F,H,S,z,y,K,N,A,E,B,L="",P="",C=["ok","yes","no","cancel"];var Q=function(a){A[a].blur();if(x.isVisible()){x.hide();
D();Ext.callback(R.fn,R.scope||window,[a,E.dom.value,R],1);}};var D=function(){if(R&&R.cls){x.el.removeClass(R.cls);}z.reset();};var O=function(b,a,c){if(R&&R.closable!==false){x.hide();D();}if(c){c.stopEvent();}};var G=function(a){var b=0,c;if(!a){Ext.each(C,function(d){A[d].hide();});return b;}x.footer.dom.style.display="";
Ext.iterate(A,function(d,e){c=a[d];if(c){e.show();e.setText(Ext.isString(c)?c:Ext.MessageBox.buttonText[d]);b+=e.getEl().getWidth()+15;}else{e.hide();}});return b;};return{getDialog:function(a){if(!x){var b=[];A={};Ext.each(C,function(d){b.push(A[d]=new Ext.Button({text:this.buttonText[d],handler:Q.createCallback(d),hideMode:"offsets"}));
},this);x=new Ext.Window({autoCreate:true,title:a,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(R&&R.buttons&&R.buttons.no&&!R.buttons.cancel){Q("no");
}else{Q("cancel");}},fbar:new Ext.Toolbar({items:b,enableOverflow:false})});x.render(document.body);x.getEl().addClass("x-window-dlg");J=x.mask;M=x.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});
K=Ext.get(M.dom.firstChild);var c=M.dom.childNodes[1];F=Ext.get(c.firstChild);H=Ext.get(c.childNodes[2].firstChild);H.enableDisplayMode();H.addKeyListener([10,13],function(){if(x.isVisible()&&R&&R.buttons){if(R.buttons.ok){Q("ok");}else{if(R.buttons.yes){Q("yes");}}}});S=Ext.get(c.childNodes[2].childNodes[1]);
S.enableDisplayMode();z=new Ext.ProgressBar({renderTo:M});M.createChild({cls:"x-clear"});}return x;},updateText:function(b){if(!x.isVisible()&&!R.width){x.setSize(this.maxWidth,100);}F.update(b||"&#160;");var g=P!=""?(K.getWidth()+K.getMargins("lr")):0,d=F.getWidth()+F.getMargins("lr"),c=x.getFrameWidth("lr"),e=x.body.getFrameWidth("lr"),a;
if(Ext.isIE&&g>0){g+=3;}a=Math.max(Math.min(R.width||g+d+c+e,R.maxWidth||this.maxWidth),Math.max(R.minWidth||this.minWidth,B||0));if(R.prompt===true){E.setWidth(a-g-c-e);}if(R.progress===true||R.wait===true){z.setSize(a-g-c-e);}if(Ext.isIE&&a==B){a+=4;}x.setSize(a,"auto").center();return this;},updateProgress:function(c,a,b){z.updateProgress(c,a);
if(b){this.updateText(b);}return this;},isVisible:function(){return x&&x.isVisible();},hide:function(){var a=x?x.activeGhost:null;if(this.isVisible()||a){x.hide();D();if(a){x.unghost(false,false);}}return this;},show:function(b){if(this.isVisible()){this.hide();}R=b;var e=this.getDialog(R.title||"&#160;");
e.setTitle(R.title||"&#160;");var c=(R.closable!==false&&R.progress!==true&&R.wait!==true);e.tools.close.setDisplayed(c);E=H;R.prompt=R.prompt||(R.multiline?true:false);if(R.prompt){if(R.multiline){H.hide();S.show();S.setHeight(Ext.isNumber(R.multiline)?R.multiline:this.defaultTextHeight);E=S;}else{H.show();
S.hide();}}else{H.hide();S.hide();}E.dom.value=R.value||"";if(R.prompt){e.focusEl=E;}else{var a=R.buttons;var d=null;if(a&&a.ok){d=A.ok;}else{if(a&&a.yes){d=A.yes;}}if(d){e.focusEl=d;}}if(R.iconCls){e.setIconClass(R.iconCls);}this.setIcon(Ext.isDefined(R.icon)?R.icon:L);B=G(R.buttons);z.setVisible(R.progress===true||R.wait===true);
this.updateProgress(0,R.progressText);this.updateText(R.msg);if(R.cls){e.el.addClass(R.cls);}e.proxyDrag=R.proxyDrag===true;e.modal=R.modal!==false;e.mask=R.modal!==false?J:false;if(!e.isVisible()){document.body.appendChild(x.el.dom);e.setAnimateTarget(R.animEl);e.on("show",function(){if(c===true){e.keyMap.enable();
}else{e.keyMap.disable();}},this,{single:true});e.show(R.animEl);}if(R.wait===true){z.wait(R.waitConfig);}return this;},setIcon:function(a){if(!x){L=a;return;}L=undefined;if(a&&a!=""){K.removeClass("x-hidden");K.replaceClass(P,a);M.addClass("x-dlg-icon");P=a;}else{K.replaceClass(P,"x-hidden");M.removeClass("x-dlg-icon");
P="";}return this;},progress:function(b,c,a){this.show({title:b,msg:c,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:a});return this;},wait:function(b,c,a){this.show({title:c,msg:b,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:a});
return this;},alert:function(b,c,d,a){this.show({title:b,msg:c,buttons:this.OK,fn:d,scope:a,minWidth:this.minWidth});return this;},confirm:function(b,c,d,a){this.show({title:b,msg:c,buttons:this.YESNO,fn:d,scope:a,icon:this.QUESTION,minWidth:this.minWidth});return this;},prompt:function(d,g,c,b,e,a){this.show({title:d,msg:g,buttons:this.OKCANCEL,fn:c,minWidth:this.minPromptWidth,scope:b,prompt:true,multiline:e,value:a});
return this;},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}};
}();Ext.Msg=Ext.MessageBox;Ext.dd.PanelProxy=function(d,c){this.panel=d;this.id=this.panel.id+"-ddproxy";Ext.apply(this,c);};Ext.dd.PanelProxy.prototype={insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost;},getGhost:function(){return this.ghost;
},getProxy:function(){return this.proxy;},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy;}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost;}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(undefined,undefined,Ext.getBody());
this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize());}this.panel.el.dom.style.display="none";}},repair:function(d,g,e){this.hide();if(typeof g=="function"){g.call(e||this);}},moveProxy:function(d,c){if(this.proxy){d.insertBefore(this.proxy.dom,c);
}}};Ext.Panel.DD=function(d,e){this.panel=d;this.dragData={panel:d};this.proxy=new Ext.dd.PanelProxy(d,e);Ext.Panel.DD.superclass.constructor.call(this,d.el,e);var g=d.header;if(g){this.setHandleElId(g.id);}(g?g:this.panel.body).setStyle("cursor","move");this.scroll=false;};Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,c){this.proxy.show();
},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);},onInitDrag:function(d,c){this.onStartDrag(d,c);return true;},createFrame:Ext.emptyFn,getDragEl:function(b){return this.proxy.ghost.dom;},endDrag:function(b){this.proxy.hide();this.panel.saveState();},autoOffset:function(d,c){d-=this.startPageX;
c-=this.startPageY;this.setDelta(d,c);}});Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this);};Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(c,d){return typeof this.state[c]=="undefined"?d:this.state[c];},clear:function(b){delete this.state[b];
this.fireEvent("statechange",this,b,null);},set:function(d,c){this.state[d]=c;this.fireEvent("statechange",this,d,c);},decodeValue:function(h){var k=/^(a|n|d|b|s|o)\:(.*)$/;var j=k.exec(unescape(h));if(!j||!j[1]){return;}var l=j[1];var i=j[2];switch(l){case"n":return parseFloat(i);case"d":return new Date(Date.parse(i));
case"b":return(i=="1");case"a":var m=[];if(i!=""){Ext.each(i.split("^"),function(a){m.push(this.decodeValue(a));},this);}return m;case"o":var m={};if(i!=""){Ext.each(i.split("^"),function(a){var b=a.split("=");m[b[0]]=this.decodeValue(b[1]);},this);}return m;default:return i;}},encodeValue:function(m){var h;
if(typeof m=="number"){h="n:"+m;}else{if(typeof m=="boolean"){h="b:"+(m?"1":"0");}else{if(Ext.isDate(m)){h="d:"+m.toGMTString();}else{if(Ext.isArray(m)){var j="";for(var k=0,i=m.length;k<i;k++){j+=this.encodeValue(m[k]);if(k!=i-1){j+="^";}}h="a:"+j;}else{if(typeof m=="object"){var j="";for(var l in m){if(typeof m[l]!="function"&&m[l]!==undefined){j+=l+"="+this.encodeValue(m[l])+"^";
}}h="o:"+j.substring(0,j.length-1);}else{h="s:"+m;}}}}}return escape(h);}});Ext.state.Manager=function(){var b=new Ext.state.Provider();return{setProvider:function(a){b=a;},get:function(d,a){return b.get(d,a);},set:function(a,d){b.set(a,d);},clear:function(a){b.clear(a);},getProvider:function(){return b;
}};}();Ext.state.CookieProvider=function(b){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,b);this.state=this.readCookies();};Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(d,c){if(typeof c=="undefined"||c===null){this.clear(d);
return;}this.setCookie(d,c);Ext.state.CookieProvider.superclass.set.call(this,d,c);},clear:function(b){this.clearCookie(b);Ext.state.CookieProvider.superclass.clear.call(this,b);},readCookies:function(){var m={};var j=document.cookie+";";var c=/\s?(.*?)=(.*?);/g;var k;while((k=c.exec(j))!=null){var i=k[1];
var l=k[2];if(i&&i.substring(0,3)=="ys-"){m[i.substr(3)]=this.decodeValue(l);}}return m;},setCookie:function(d,c){document.cookie="ys-"+d+"="+this.encodeValue(c)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"");
},clearCookie:function(b){document.cookie="ys-"+b+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"");}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);
if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl);}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();
this.selected=new Ext.CompositeElementLite();},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});
}if(this.store){this.bindStore(this.store,true);}},refresh:function(){this.clearSelections(false,true);var c=this.getTemplateTarget();c.update("");var d=this.store.getRange();if(d.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){c.update(this.emptyText);}this.all.clear();}else{this.tpl.overwrite(c,this.collectData(d,0));
this.all.fill(Ext.query(this.itemSelector,c.dom));this.updateIndexes(0);}this.hasSkippedEmptyText=true;},getTemplateTarget:function(){return this.el;},prepareData:function(b){return b;},collectData:function(i,k){var g=[];for(var h=0,j=i.length;h<j;h++){g[g.length]=this.prepareData(i[h].data,k+h,i[h]);
}return g;},bufferRender:function(d){var c=document.createElement("div");this.tpl.overwrite(c,this.collectData(d));return Ext.query(this.itemSelector,c);},onUpdate:function(j,i){var h=this.store.indexOf(i);if(h>-1){var k=this.isSelected(h);var m=this.all.elements[h];var l=this.bufferRender([i],h)[0];
this.all.replaceElement(h,l,true);if(k){this.selected.replaceElement(m,l);this.all.item(h).addClass(this.selectedClass);}this.updateIndexes(h,h);}},onAdd:function(j,l,k){if(this.all.getCount()===0){this.refresh();return;}var m=this.bufferRender(l,k),i,a=this.all.elements;if(k<this.all.getCount()){i=this.all.item(k).insertSibling(m,"before",true);
a.splice.apply(a,[k,0].concat(m));}else{i=this.all.last().insertSibling(m,"after",true);a.push.apply(a,m);}this.updateIndexes(k);},onRemove:function(g,e,d){this.deselect(d);this.all.removeElement(d,true);this.updateIndexes(d);if(this.store.getCount()===0){this.refresh();}},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b));
},updateIndexes:function(h,i){var e=this.all.elements;h=h||0;i=i||((i===0)?0:(e.length-1));for(var g=h;g<=i;g++){e[g].viewIndex=g;}},getStore:function(){return this.store;},bindStore:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy();}else{this.store.un("beforeload",this.onBeforeLoad,this);
this.store.un("datachanged",this.onDataChanged,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this);}if(!d){this.store=null;}}if(d){d=Ext.StoreMgr.lookup(d);d.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh});
}this.store=d;if(d){this.refresh();}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments);}},findItemFromChild:function(b){return Ext.fly(b).findParent(this.itemSelector,this.getTemplateTarget());},onClick:function(g){var d=g.getTarget(this.itemSelector,this.getTemplateTarget());
if(d){var e=this.indexOf(d);if(this.onItemClick(d,e,g)!==false){this.fireEvent("click",this,e,d,g);}}else{if(this.fireEvent("containerclick",this,g)!==false){this.onContainerClick(g);}}},onContainerClick:function(b){this.clearSelections();},onContextMenu:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());
if(d){this.fireEvent("contextmenu",this,this.indexOf(d),d,c);}else{this.fireEvent("containercontextmenu",this,c);}},onDblClick:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("dblclick",this,this.indexOf(d),d,c);}},onMouseOver:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());
if(d&&d!==this.lastItem){this.lastItem=d;Ext.fly(d).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(d),d,c);}},onMouseOut:function(b){if(this.lastItem){if(!b.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,b);
delete this.lastItem;}}},onItemClick:function(d,e,g){if(this.fireEvent("beforeclick",this,e,d,g)===false){return false;}if(this.multiSelect){this.doMultiSelection(d,e,g);g.preventDefault();}else{if(this.singleSelect){this.doSingleSelection(d,e,g);g.preventDefault();}}return true;},doSingleSelection:function(d,e,g){if(g.ctrlKey&&this.isSelected(e)){this.deselect(e);
}else{this.select(e,false);}},doMultiSelection:function(i,g,h){if(h.shiftKey&&this.last!==false){var e=this.last;this.selectRange(e,g,h.ctrlKey);this.last=e;}else{if((h.ctrlKey||this.simpleSelect)&&this.isSelected(g)){this.deselect(g);}else{this.select(g,h.ctrlKey||h.shiftKey||this.simpleSelect);}}},getSelectionCount:function(){return this.selected.getCount();
},getSelectedNodes:function(){return this.selected.elements;},getSelectedIndexes:function(){var e=[],h=this.selected.elements;for(var i=0,g=h.length;i<g;i++){e.push(h[i].viewIndex);}return e;},getSelectedRecords:function(){var h=[],i=this.selected.elements;for(var e=0,g=i.length;e<g;e++){h[h.length]=this.store.getAt(i[e].viewIndex);
}return h;},getRecords:function(i){var k=[],g=i;for(var h=0,j=g.length;h<j;h++){k[k.length]=this.store.getAt(g[h].viewIndex);}return k;},getRecord:function(b){return this.store.getAt(b.viewIndex);},clearSelections:function(d,c){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!c){this.selected.removeClass(this.selectedClass);
}this.selected.clear();this.last=false;if(!d){this.fireEvent("selectionchange",this,this.selected.elements);}}},isSelected:function(b){return this.selected.contains(this.getNode(b));},deselect:function(b){if(this.isSelected(b)){b=this.getNode(b);this.selected.removeElement(b);if(this.last==b.viewIndex){this.last=false;
}Ext.fly(b).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements);}},select:function(l,j,h){if(Ext.isArray(l)){if(!j){this.clearSelections(true);}for(var m=0,i=l.length;m<i;m++){this.select(l[m],true,true);}if(!h){this.fireEvent("selectionchange",this,this.selected.elements);
}}else{var k=this.getNode(l);if(!j){this.clearSelections(true);}if(k&&!this.isSelected(k)){if(this.fireEvent("beforeselect",this,k,this.selected.elements)!==false){Ext.fly(k).addClass(this.selectedClass);this.selected.add(k);this.last=k.viewIndex;if(!h){this.fireEvent("selectionchange",this,this.selected.elements);
}}}}},selectRange:function(g,e,d){if(!d){this.clearSelections(true);}this.select(this.getNodes(g,e),true);},getNode:function(c){if(Ext.isString(c)){return document.getElementById(c);}else{if(Ext.isNumber(c)){return this.all.elements[c];}else{if(c instanceof Ext.data.Record){var d=this.store.indexOf(c);
return this.all.elements[d];}}}return c;},getNodes:function(k,j){var g=this.all.elements;k=k||0;j=!Ext.isDefined(j)?Math.max(g.length-1,0):j;var i=[],h;if(k<=j){for(h=k;h<=j&&g[h];h++){i.push(g[h]);}}else{for(h=k;h>=j&&g[h];h--){i.push(g[h]);}}return i;},indexOf:function(b){b=this.getNode(b);if(Ext.isNumber(b.viewIndex)){return b.viewIndex;
}return this.all.indexOf(b);},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear();}},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);
this.bindStore(null);}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:undefined,columnResize:true,columnSort:true,maxWidth:Ext.isIE?99:100,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.list.ColumnResizer(this.colResizer);
this.colResizer.init(this);}if(this.columnSort){this.colSorter=new Ext.list.Sorter(this.columnSort);this.colSorter.init(this);}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>");
}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>");
}var c=this.columns,j=0,i=0,u=c.length,r=[];for(var o=0;o<u;o++){var t=c[o];if(!t.isColumn){t.xtype=t.xtype?(/^lv/.test(t.xtype)?t.xtype:"lv"+t.xtype):"lvcolumn";t=Ext.create(t);}if(t.width){j+=t.width*100;i++;}r.push(t);}c=this.columns=r;if(i<u){var q=u-i;if(j<this.maxWidth){var s=((this.maxWidth-j)/q)/100;
for(var p=0;p<u;p++){var t=c[p];if(!t.width){t.width=s;}}}}Ext.list.ListView.superclass.initComponent.call(this);},onRender:function(){this.autoEl={cls:"x-list-wrap"};Ext.list.ListView.superclass.onRender.apply(this,arguments);this.internalTpl.overwrite(this.el,{columns:this.columns});this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);
this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none";}},getTemplateTarget:function(){return this.innerBody;},collectData:function(){var b=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:b};
},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height);}},onResize:function(h,l){var k=this.innerBody.dom;var j=this.innerHd.dom;if(!k){return;}var m=k.parentNode;if(Ext.isNumber(h)){var i=h-Ext.num(this.scrollOffset,Ext.getScrollBarWidth());if(this.reserveScrollOffset||((m.offsetWidth-m.clientWidth)>10)){k.style.width=i+"px";
j.style.width=i+"px";}else{k.style.width=h+"px";j.style.width=h+"px";setTimeout(function(){if((m.offsetWidth-m.clientWidth)>10){k.style.width=i+"px";j.style.width=i+"px";}},10);}}if(Ext.isNumber(l)){m.style.height=(l-j.parentNode.offsetHeight)+"px";}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments);
this.verifyInternalSize();},findHeaderIndex:function(c){c=c.dom||c;var j=c.parentNode,h=j.parentNode.childNodes;for(var i=0,k;k=h[i];i++){if(k==j){return i;}}return -1;},setHdWidths:function(){var i=this.innerHd.dom.getElementsByTagName("div");for(var e=0,h=this.columns,g=h.length;e<g;e++){i[e].style.width=(h[e].width*100)+"%";
}}});Ext.reg("listview",Ext.list.ListView);Ext.ListView=Ext.list.ListView;Ext.list.Column=Ext.extend(Object,{isColumn:true,align:"left",header:"",width:null,cls:"",constructor:function(b){if(!b.tpl){b.tpl=new Ext.XTemplate("{"+b.dataIndex+"}");}else{if(Ext.isString(b.tpl)){b.tpl=new Ext.XTemplate(b.tpl);
}}Ext.apply(this,b);}});Ext.reg("lvcolumn",Ext.list.Column);Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(b){b.tpl=b.tpl||new Ext.XTemplate("{"+b.dataIndex+':number("'+(b.format||this.format)+'")}');Ext.list.NumberColumn.superclass.constructor.call(this,b);}});
Ext.reg("lvnumbercolumn",Ext.list.NumberColumn);Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(b){b.tpl=b.tpl||new Ext.XTemplate("{"+b.dataIndex+':date("'+(b.format||this.format)+'")}');Ext.list.DateColumn.superclass.constructor.call(this,b);}});Ext.reg("lvdatecolumn",Ext.list.DateColumn);
Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(h){h.tpl=h.tpl||new Ext.XTemplate("{"+h.dataIndex+":this.format}");var c=this.trueText,i=this.falseText,g=this.undefinedText;h.tpl.format=function(a){if(a===undefined){return g;
}if(!a||a==="false"){return i;}return c;};Ext.list.DateColumn.superclass.constructor.call(this,h);}});Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn);Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(b){Ext.apply(this,b);Ext.list.ColumnResizer.superclass.constructor.call(this);
},init:function(b){this.view=b;b.on("render",this.initEvents,this);},initEvents:function(b){b.mon(b.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});
this.tracker.initEl(b.innerHd);b.on("beforedestroy",this.tracker.destroy,this.tracker);},handleHdMove:function(l,m){var e=5,n=l.getPageX(),k=l.getTarget("em",3,true);if(k){var q=k.getRegion(),o=k.dom.style,p=k.dom.parentNode;if(n-q.left<=e&&p!=p.parentNode.firstChild){this.activeHd=Ext.get(p.previousSibling.firstChild);
o.cursor=Ext.isWebKit?"e-resize":"col-resize";}else{if(q.right-n<=e&&p!=p.parentNode.lastChild.previousSibling){this.activeHd=k;o.cursor=Ext.isWebKit?"w-resize":"col-resize";}else{delete this.activeHd;o.cursor="";}}}},onBeforeStart:function(b){this.dragHd=this.activeHd;return !!this.dragHd;},onStart:function(g){this.view.disableHeaders=true;
this.proxy=this.view.el.createChild({cls:"x-list-resizer"});this.proxy.setHeight(this.view.el.getHeight());var e=this.tracker.getXY()[0],d=this.view.innerHd.getWidth();this.hdX=this.dragHd.getX();this.hdIndex=this.view.findHeaderIndex(this.dragHd);this.proxy.setX(this.hdX);this.proxy.setWidth(e-this.hdX);
this.minWidth=d*this.minPct;this.maxWidth=d-(this.minWidth*(this.view.columns.length-1-this.hdIndex));},onDrag:function(c){var d=this.tracker.getXY()[0];this.proxy.setWidth((d-this.hdX).constrain(this.minWidth,this.maxWidth));},onEnd:function(y){var e=this.proxy.getWidth();this.proxy.remove();var s=this.hdIndex,w=this.view,t=w.columns,z=t.length,i=this.view.innerHd.getWidth(),A=this.minPct*100,u=Math.ceil((e*w.maxWidth)/i),v=(t[s].width*100)-u,E=Math.floor(v/(z-1-s)),x=v-(E*(z-1-s));
for(var B=s+1;B<z;B++){var C=(t[B].width*100)+E,D=Math.max(A,C);if(C!=D){x+=C-D;}t[B].width=D/100;}t[s].width=u/100;t[s+1].width+=(x/100);delete this.dragHd;w.setHdWidths();w.refresh();setTimeout(function(){w.disableHeaders=false;},100);}});Ext.ListView.ColumnResizer=Ext.list.ColumnResizer;Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(b){Ext.apply(this,b);
Ext.list.Sorter.superclass.constructor.call(this);},init:function(b){this.view=b;b.on("render",this.initEvents,this);},initEvents:function(b){b.mon(b.innerHd,"click",this.onHdClick,this);b.innerHd.setStyle("cursor","pointer");b.mon(b.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[b.store]);
},updateSortState:function(k){var o=k.getSortState();if(!o){return;}this.sortState=o;var i=this.view.columns,n=-1;for(var j=0,m=i.length;j<m;j++){if(i[j].dataIndex==o.field){n=j;break;}}if(n!=-1){var l=o.direction;this.updateSortIcon(n,l);}},updateSortIcon:function(e,g){var h=this.sortClasses;var i=this.view.innerHd.select("em").removeClass(h);
i.item(e).addClass(h[g=="DESC"?1:0]);},onHdClick:function(g){var d=g.getTarget("em",3);if(d&&!this.view.disableHeaders){var e=this.view.findHeaderIndex(d);this.view.store.sort(this.view.columns[e].dataIndex);}}});Ext.ListView.Sorter=Ext.list.Sorter;Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:undefined,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;
Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));if(this.tabPosition=="top"){this.elements+=",header";
this.stripTarget="header";}else{this.elements+=",footer";this.stripTarget="footer";}if(!this.stack){this.stack=Ext.TabPanel.AccessStack();}this.initItems();},onRender:function(m,i){Ext.TabPanel.superclass.onRender.call(this,m,i);if(this.plain){var j=this.tabPosition=="top"?"header":"footer";this[j].addClass("x-tab-panel-"+j+"-plain");
}var h=this[this.stripTarget];this.stripWrap=h.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var k=(this.tabPosition=="bottom"?this.stripWrap:null);h.createChild({cls:"x-tab-strip-spacer"},k);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);
this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var l=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");
l.disableFormats=true;l.compile();Ext.TabPanel.prototype.itemTpl=l;}this.items.each(this.initTab,this);},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false);}if(this.activeTab!==undefined){var b=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);
delete this.activeTab;this.setActiveTab(b);}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});if(this.enableTabScroll){this.mon(this.strip,"mousewheel",this.onWheel,this);}},findTargets:function(g){var d=null,e=g.getTarget("li:not(.x-tab-edge)",this.strip);
if(e){d=this.getComponent(e.id.split(this.idDelimiter)[1]);if(d.disabled){return{close:null,item:null,el:null};}}return{close:g.getTarget(".x-tab-strip-close",this.strip),item:d,el:e};},onStripMouseDown:function(c){if(c.button!==0){return;}c.preventDefault();var d=this.findTargets(c);if(d.close){if(d.item.fireEvent("beforeclose",d.item)!==false){d.item.fireEvent("close",d.item);
this.remove(d.item);}return;}if(d.item&&d.item!=this.activeTab){this.setActiveTab(d.item);}},onStripContextMenu:function(c){c.preventDefault();var d=this.findTargets(c);if(d.item){this.fireEvent("contextmenu",this,d.item,c);}},readTabs:function(l){if(l===true){this.items.each(function(a){this.remove(a);
},this);}var m=this.el.query(this.autoTabSelector);for(var h=0,i=m.length;h<i;h++){var k=m[h],j=k.getAttribute("title");k.removeAttribute("title");this.add({title:j,contentEl:k});}},initTab:function(j,l){var i=this.strip.dom.childNodes[l],o=this.getTemplateArgs(j),k=i?this.itemTpl.insertBefore(i,o):this.itemTpl.append(this.strip,o),m="x-tab-strip-over",n=Ext.get(k);
n.hover(function(){if(!j.disabled){n.addClass(m);}},function(){n.removeClass(m);});if(j.tabTip){n.child("span.x-tab-strip-text",true).qtip=j.tabTip;}j.tabEl=k;n.select("a").on("click",function(a){if(!a.getPageX()){this.onStripMouseDown(a);}},this,{preventDefault:true});j.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem});
},getTemplateArgs:function(c){var d=c.closable?"x-tab-strip-closable":"";if(c.disabled){d+=" x-item-disabled";}if(c.iconCls){d+=" x-tab-with-icon";}if(c.tabCls){d+=" "+c.tabCls;}return{id:this.id+this.idDelimiter+c.getItemId(),text:c.title,cls:d,iconCls:c.iconCls||""};},onAdd:function(c){Ext.TabPanel.superclass.onAdd.call(this,c);
if(this.rendered){var d=this.items;this.initTab(c,d.indexOf(c));this.delegateUpdates();}},onBeforeAdd:function(d){var e=d.events?(this.items.containsKey(d.getItemId())?d:null):this.items.get(d);if(e){this.setActiveTab(d);return false;}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var g=d.elements;
d.elements=g?g.replace(",header",""):g;d.border=(d.border===true);},onRemove:function(g){var c=Ext.get(g.tabEl);if(c){c.select("a").removeAllListeners();Ext.destroy(c);}Ext.TabPanel.superclass.onRemove.call(this,g);this.stack.remove(g);delete g.tabEl;g.un("disable",this.onItemDisabled,this);g.un("enable",this.onItemEnabled,this);
g.un("titlechange",this.onItemTitleChanged,this);g.un("iconchange",this.onItemIconChanged,this);g.un("beforeshow",this.onBeforeShowItem,this);if(g==this.activeTab){var e=this.stack.next();if(e){this.setActiveTab(e);}else{if(this.items.getCount()>0){this.setActiveTab(0);}else{this.setActiveTab(null);}}}if(!this.destroying){this.delegateUpdates();
}},onBeforeShowItem:function(b){if(b!=this.activeTab){this.setActiveTab(b);return false;}},onItemDisabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).addClass("x-item-disabled");}this.stack.remove(c);},onItemEnabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).removeClass("x-item-disabled");
}},onItemTitleChanged:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).child("span.x-tab-strip-text",true).innerHTML=c.title;}},onItemIconChanged:function(h,g,i){var e=this.getTabEl(h);if(e){e=Ext.get(e);e.child("span.x-tab-strip-text").replaceClass(i,g);e[Ext.isEmpty(g)?"removeClass":"addClass"]("x-tab-with-icon");
}},getTabEl:function(d){var c=this.getComponent(d);return c?c.tabEl:null;},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates();},beginUpdate:function(){this.suspendUpdates=true;},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates();},hideTabStripItem:function(c){c=this.getComponent(c);
var d=this.getTabEl(c);if(d){d.style.display="none";this.delegateUpdates();}this.stack.remove(c);},unhideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="";this.delegateUpdates();}},delegateUpdates:function(){if(this.suspendUpdates){return;}if(this.resizeTabs&&this.rendered){this.autoSizeTabs();
}if(this.enableTabScroll&&this.rendered){this.autoScrollTabs();}},autoSizeTabs:function(){var y=this.items.length,r=this.tabPosition!="bottom"?"header":"footer",q=this[r].dom.offsetWidth,s=this[r].dom.clientWidth;if(!this.resizeTabs||y<1||!s){return;}var w=Math.max(Math.min(Math.floor((s-4)/y)-this.tabMargin,this.tabWidth),this.minTabWidth);
this.lastTabWidth=w;var u=this.strip.query("li:not(.x-tab-edge)");for(var o=0,x=u.length;o<x;o++){var v=u[o],t=Ext.fly(v).child(".x-tab-strip-inner",true),i=v.offsetWidth,p=t.offsetWidth;t.style.width=(w-(i-p))+"px";}},adjustBodyWidth:function(b){if(this.header){this.header.setWidth(b);}if(this.footer){this.footer.setWidth(b);
}return b;},setActiveTab:function(g){g=this.getComponent(g);if(this.fireEvent("beforetabchange",this,g,this.activeTab)===false){return;}if(!this.rendered){this.activeTab=g;return;}if(this.activeTab!=g){if(this.activeTab){var e=this.getTabEl(this.activeTab);if(e){Ext.fly(e).removeClass("x-tab-strip-active");
}}this.activeTab=g;if(g){var d=this.getTabEl(g);Ext.fly(d).addClass("x-tab-strip-active");this.stack.add(g);this.layout.setActiveItem(g);if(this.scrolling){this.scrollToTab(g,this.animScroll);}}this.fireEvent("tabchange",this,g);}},getActiveTab:function(){return this.activeTab||null;},getItem:function(b){return this.getComponent(b);
},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var q=this.items.length,l=this.pos.dom.offsetWidth,m=this.pos.dom.clientWidth,j=this.stripWrap,k=j.dom,n=k.offsetWidth,p=this.getScrollPos(),o=this.edge.getOffsetsTo(this.stripWrap)[0]+p;if(!this.enableTabScroll||q<1||n<20){return;
}if(o<=m){k.scrollLeft=0;j.setWidth(m);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isWebKit){k.style.marginLeft="";k.style.marginRight="";}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");
if(Ext.isAir||Ext.isWebKit){k.style.marginLeft="18px";k.style.marginRight="18px";}}m-=j.getMargins("lr");j.setWidth(m>20?m:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers();}else{this.scrollLeft.show();this.scrollRight.show();}}this.scrolling=true;if(p>(o-m)){k.scrollLeft=o-m;}else{this.scrollToTab(this.activeTab,false);
}this.updateScrollButtons();}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var g=this.stripWrap.dom.offsetHeight;var e=this.pos.insertFirst({cls:"x-tab-scroller-left"});e.setHeight(g);e.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});
this.scrollLeft=e;var d=this.pos.insertFirst({cls:"x-tab-scroller-right"});d.setHeight(g);d.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(d,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=d;},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos();
},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0;},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0;},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this};},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100);
},scrollToTab:function(i,m){if(!i){return;}var k=this.getTabEl(i),n=this.getScrollPos(),j=this.getScrollArea(),o=Ext.fly(k).getOffsetsTo(this.stripWrap)[0]+n,l=o+k.offsetWidth;if(o<n){this.scrollTo(o,m);}else{if(l>(n+j)){this.scrollTo(l-j,m);}}},scrollTo:function(c,d){this.stripWrap.scrollTo("left",c,d?this.getScrollAnim():false);
if(!d){this.updateScrollButtons();}},onWheel:function(l){var k=l.getWheelDelta()*this.wheelIncrement*-1;l.stopEvent();var j=this.getScrollPos(),m=j+k,e=this.getScrollWidth()-this.getScrollArea();var d=Math.max(0,Math.min(e,m));if(d!=j){this.scrollTo(d,false);}},onScrollRight:function(){var e=this.getScrollWidth()-this.getScrollArea(),g=this.getScrollPos(),d=Math.min(e,g+this.getScrollIncrement());
if(d!=g){this.scrollTo(d,this.animScroll);}},onScrollLeft:function(){var c=this.getScrollPos(),d=Math.max(0,c-this.getScrollIncrement());if(d!=c){this.scrollTo(d,this.animScroll);}},updateScrollButtons:function(){var b=this.getScrollPos();this.scrollLeft[b===0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");
this.scrollRight[b>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled");},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this);
}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var b=[];return{add:function(a){b.push(a);if(b.length>10){b.shift();}},remove:function(g){var h=[];for(var i=0,a=b.length;i<a;i++){if(b[i]!=g){h.push(b[i]);}}b=h;
},next:function(){return b.pop();}};};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){Ext.Button.superclass.initComponent.call(this);
this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);}if(Ext.isString(this.toggleGroup)){this.enableToggle=true;}},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id];
},setButtonClass:function(){if(this.useSetClass){if(!Ext.isEmpty(this.oldCls)){this.el.removeClass([this.oldCls,"x-btn-pressed"]);}this.oldCls=(this.iconCls||this.icon)?(this.text?"x-btn-text-icon":"x-btn-icon"):"x-btn-noicon";this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null]);}},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):"";
},onRender:function(i,g){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");
Ext.Button.buttonTemplate.compile();}this.template=Ext.Button.buttonTemplate;}var e,h=this.getTemplateArgs();if(g){e=this.template.insertBefore(g,h,true);}else{e=this.template.append(i,h,true);}this.btnEl=e.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});
this.initButtonEl(e,this.btnEl);Ext.ButtonToggleMgr.register(this);},initButtonEl:function(d,g){this.el=d;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);if(Ext.isDefined(this.tabIndex)){g.dom.tabIndex=this.tabIndex;}if(this.tooltip){this.setTooltip(this.tooltip,true);
}if(this.handleMouseEvents){this.mon(d,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown});}if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide});}if(this.repeat){var e=new Ext.util.ClickRepeater(d,Ext.isObject(this.repeat)?this.repeat:{});this.mon(e,"click",this.onClick,this);
}this.mon(d,this.clickEvent,this.onClick,this);},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=true;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth();},setIconClass:function(b){this.iconCls=b;if(this.el){this.btnEl.dom.className="";this.btnEl.addClass(["x-btn-text",b||""]);
this.setButtonClass();}return this;},setTooltip:function(c,d){if(this.rendered){if(!d){this.clearTip();}if(Ext.isObject(c)){Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},c));this.tooltip=c;}else{this.btnEl.dom[this.tooltipType]=c;}}else{this.tooltip=c;}return this;},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.QuickTips.unregister(this.btnEl);
}},beforeDestroy:function(){if(this.rendered){this.clearTip();}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.menu);}Ext.destroy(this.repeater);},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;
delete this.btnEl;Ext.ButtonToggleMgr.unregister(this);}Ext.Button.superclass.onDestroy.call(this);},doAutoWidth:function(){if(this.autoWidth!==false&&this.el&&this.text&&this.width===undefined){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var b=this.btnEl;if(b&&b.getWidth()>20){b.clip();b.setWidth(Ext.util.TextMetrics.measure(b,this.text).width+b.getFrameWidth("lr"));
}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth);}}}},setHandler:function(c,d){this.handler=c;this.scope=d;return this;},setText:function(b){this.text=b;if(this.el){this.btnEl.update(b||"&#160;");this.setButtonClass();}this.doAutoWidth();return this;},setIcon:function(b){this.icon=b;
if(this.el){this.btnEl.setStyle("background-image",b?"url("+b+")":"");this.setButtonClass();}return this;},getText:function(){return this.text;},toggle:function(c,d){c=c===undefined?!this.pressed:!!c;if(c!=this.pressed){if(this.rendered){this.el[c?"addClass":"removeClass"]("x-btn-pressed");}this.pressed=c;
if(!d){this.fireEvent("toggle",this,c);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,c);}}}return this;},onDisable:function(){this.onDisableChange(true);},onEnable:function(){this.onDisableChange(false);},onDisableChange:function(b){if(this.el){if(!Ext.isIE6||!this.text){this.el[b?"addClass":"removeClass"](this.disabledClass);
}this.el.dom.disabled=b;}this.disabled=b;},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.QuickTips.getQuickTip().cancelShow(this.btnEl);}if(this.menu.isVisible()){this.menu.hide();}this.menu.ownerCt=this;this.menu.show(this.el,this.menuAlign);}return this;},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide();
}return this;},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible();},onClick:function(b){if(b){b.preventDefault();}if(b.button!==0){return;}if(!this.disabled){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle();}if(this.menu&&!this.hasVisibleMenu()&&!this.ignoreNextClick){this.showMenu();
}this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b);}}},isMenuTriggerOver:function(c,d){return this.menu&&!d;},isMenuTriggerOut:function(c,d){return this.menu&&!d;},onMouseOver:function(c){if(!this.disabled){var d=c.within(this.el,true);if(!d){this.el.addClass("x-btn-over");
if(!this.monitoringMouseOver){this.doc.on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true;}this.fireEvent("mouseover",this,c);}if(this.isMenuTriggerOver(c,d)){this.fireEvent("menutriggerover",this,this.menu,c);}}},monitorMouseOver:function(b){if(b.target!=this.el.dom&&!b.within(this.el)){if(this.monitoringMouseOver){this.doc.un("mouseover",this.monitorMouseOver,this);
this.monitoringMouseOver=false;}this.onMouseOut(b);}},onMouseOut:function(c){var d=c.within(this.el)&&c.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,c);if(this.isMenuTriggerOut(c,d)){this.fireEvent("menutriggerout",this,this.menu,c);}},focus:function(){this.btnEl.focus();
},blur:function(){this.btnEl.blur();},onFocus:function(b){if(!this.disabled){this.el.addClass("x-btn-focus");}},onBlur:function(b){this.el.removeClass("x-btn-focus");},getClickEl:function(c,d){return this.el;},onMouseDown:function(b){if(!this.disabled&&b.button===0){this.getClickEl(b).addClass("x-btn-click");
this.doc.on("mouseup",this.onMouseUp,this);}},onMouseUp:function(b){if(b.button===0){this.getClickEl(b,true).removeClass("x-btn-click");this.doc.un("mouseup",this.onMouseUp,this);}},onMenuShow:function(b){if(this.menu.ownerCt==this){this.menu.ownerCt=this;this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");
this.fireEvent("menushow",this,this.menu);}},onMenuHide:function(b){if(this.menu.ownerCt==this){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);delete this.menu.ownerCt;}},restoreClick:function(){this.ignoreNextClick=0;
}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var d={};function c(a,i){if(i){var k=d[a.toggleGroup];for(var b=0,g=k.length;b<g;b++){if(k[b]!=a){k[b].toggle(false);}}}}return{register:function(b){if(!b.toggleGroup){return;}var a=d[b.toggleGroup];if(!a){a=d[b.toggleGroup]=[];}a.push(b);
b.on("toggle",c);},unregister:function(b){if(!b.toggleGroup){return;}var a=d[b.toggleGroup];if(a){a.remove(b);b.un("toggle",c);}},getPressed:function(a){var b=d[a];if(b){for(var g=0,i=b.length;g<i;g++){if(b[g].pressed===true){return b[g];}}}return null;}};}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);
this.addEvents("arrowclick");},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip;}},setArrowHandler:function(c,d){this.arrowHandler=c;this.scope=d;},getMenuClass:function(){return"x-btn-split"+(this.arrowAlign=="bottom"?"-bottom":"");
},isClickOnArrow:function(g){if(this.arrowAlign!="bottom"){var d=this.el.child("em.x-btn-split");var e=d.getRegion().right-d.getPadding("r");return g.getPageX()>e;}else{return g.getPageY()>this.btnEl.getRegion().bottom;}},onClick:function(c,d){c.preventDefault();if(!this.disabled){if(this.isClickOnArrow(c)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu();
}this.fireEvent("arrowclick",this,c);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,c);}}else{if(this.enableToggle){this.toggle();}this.fireEvent("click",this,c);if(this.handler){this.handler.call(this.scope||this,this,c);}}}},isMenuTriggerOver:function(b){return this.menu&&b.target.tagName==this.arrowSelector;
},isMenuTriggerOut:function(c,d){return this.menu&&c.target.tagName!=this.arrowSelector;}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(d){if(d&&this.showText===true){var c="";if(this.prependText){c+=this.prependText;}c+=d.text;return c;}return undefined;
},setActiveItem:function(g,e){if(!Ext.isObject(g)){g=this.menu.getComponent(g);}if(g){if(!this.rendered){this.text=this.getItemText(g);this.iconCls=g.iconCls;}else{var d=this.getItemText(g);if(d){this.setText(d);}this.setIconClass(g.iconCls);}this.activeItem=g;if(!g.checked){g.setChecked(true,false);
}if(this.forceIcon){this.setIconClass(this.forceIcon);}if(!e){this.fireEvent("change",this,g);}}},getActiveItem:function(){return this.activeItem;},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler;
}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var b=0;Ext.each(this.items,function(d,a){Ext.apply(d,{group:d.group||this.id,itemIndex:a,checkHandler:this.checkHandler,scope:this,checked:d.checked||false});this.menu.items.push(d);if(d.checked){b=a;}},this);Ext.CycleButton.superclass.initComponent.call(this);
this.on("click",this.toggleSelected,this);this.setActiveItem(b,true);},checkHandler:function(d,c){if(c){this.setActiveItem(d);}},toggleSelected:function(){var g=this.menu;g.render();if(!g.hasLayout){g.doLayout();}var h,e;for(var i=1;i<this.itemCount;i++){h=(this.activeItem.itemIndex+i)%this.itemCount;
e=g.items.itemAt(h);if(!e.disabled){e.setChecked(true);break;}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(b){if(Ext.isArray(b)){b={items:b,layout:"toolbar"};}else{b=Ext.apply({layout:"toolbar"},b);if(b.buttons){b.items=b.buttons;}}Ext.Toolbar.superclass.constructor.call(this,b);};(function(){var b=Ext.Toolbar;
Ext.extend(b,Ext.Container,{defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){b.superclass.initComponent.call(this);this.addEvents("overflowchange");},onRender:function(d,a){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"};
}this.el=d.createChild(Ext.apply({id:this.id},this.autoCreate),a);Ext.Toolbar.superclass.onRender.apply(this,arguments);}},lookupComponent:function(a){if(Ext.isString(a)){if(a=="-"){a=new b.Separator();}else{if(a==" "){a=new b.Spacer();}else{if(a=="->"){a=new b.Fill();}else{a=new b.TextItem(a);}}}this.applyDefaults(a);
}else{if(a.isFormField||a.render){a=this.createComponent(a);}else{if(a.tag){a=new b.Item({autoEl:a});}else{if(a.tagName){a=new b.Item({el:a});}else{if(Ext.isObject(a)){a=a.xtype?this.createComponent(a):this.constructButton(a);}}}}}return a;},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.Toolbar.superclass.applyDefaults.call(this,c);
var a=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,a);Ext.apply(c,a);}else{Ext.applyIf(c,a);}}return c;},addSeparator:function(){return this.add(new b.Separator());},addSpacer:function(){return this.add(new b.Spacer());},addFill:function(){this.add(new b.Fill());},addElement:function(a){return this.addItem(new b.Item({el:a}));
},addItem:function(a){return this.add.apply(this,arguments);},addButton:function(i){if(Ext.isArray(i)){var g=[];for(var h=0,a=i.length;h<a;h++){g.push(this.addButton(i[h]));}return g;}return this.add(this.constructButton(i));},addText:function(a){return this.addItem(new b.TextItem(a));},addDom:function(a){return this.add(new b.Item({autoEl:a}));
},addField:function(a){return this.add(a);},insertButton:function(k,h){if(Ext.isArray(h)){var i=[];for(var j=0,a=h.length;j<a;j++){i.push(this.insertButton(k+j,h[j]));}return i;}return Ext.Toolbar.superclass.insert.call(this,k,h);},trackMenu:function(g,a){if(this.trackMenus&&g.menu){var e=a?"mun":"mon";
this[e](g,"menutriggerover",this.onButtonTriggerOver,this);this[e](g,"menushow",this.onButtonMenuShow,this);this[e](g,"menuhide",this.onButtonMenuHide,this);}},constructButton:function(a){var d=a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType);return d;},onAdd:function(a){Ext.Toolbar.superclass.onAdd.call(this);
this.trackMenu(a);if(this.disabled){a.disable();}},onRemove:function(a){Ext.Toolbar.superclass.onRemove.call(this);this.trackMenu(a,true);},onDisable:function(){this.items.each(function(a){if(a.disable){a.disable();}});},onEnable:function(){this.items.each(function(a){if(a.enable){a.enable();}});},onButtonTriggerOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();
a.showMenu();this.activeMenuBtn=a;}},onButtonMenuShow:function(a){this.activeMenuBtn=a;},onButtonMenuHide:function(a){delete this.activeMenuBtn;}});Ext.reg("toolbar",Ext.Toolbar);b.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",b.Item);
b.Separator=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"span",cls:"xtb-sep"},a);}});Ext.reg("tbseparator",b.Separator);b.Spacer=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},a);}});Ext.reg("tbspacer",b.Spacer);
b.Fill=Ext.extend(b.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",b.Fill);b.TextItem=Ext.extend(b.Item,{constructor:function(a){b.TextItem.superclass.constructor.call(this,Ext.isString(a)?{text:a}:a);},onRender:function(d,a){this.autoEl={cls:"xtb-text",html:this.text||""};b.TextItem.superclass.onRender.call(this,d,a);
},setText:function(a){if(this.rendered){this.el.update(a);}else{this.text=a;}}});Ext.reg("tbtext",b.TextItem);b.Button=Ext.extend(Ext.Button,{});b.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",b.Button);Ext.reg("tbsplit",b.SplitButton);})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};
Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle");}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this);},applyDefaults:function(c){c=Ext.ButtonGroup.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;
if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d);}else{Ext.applyIf(c,d);}return c;},onAfterLayout:function(){var b=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(b);this.el.setWidth(b+this.getFrameWidth());}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var b=Ext.Toolbar;
Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var d=[this.first=new b.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.moveFirst,scope:this}),this.prev=new b.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:false,allowNegative:false,enableKeyEvents:true,selectOnFocus:true,submitValue:false,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new b.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new b.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.moveNext,scope:this}),this.last=new b.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.moveLast,scope:this}),"-",this.refresh=new b.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})];
var a=this.items||this.buttons||[];if(this.prependButtons){this.items=a.concat(d);}else{this.items=d.concat(a);}delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push(this.displayItem=new b.TextItem({}));}Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");
this.on("afterlayout",this.onFirstLayout,this,{single:true});this.cursor=0;this.bindStore(this.store,true);},onFirstLayout:function(){if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded);}},updateInfo:function(){if(this.displayItem){var a=this.store.getCount();var d=a==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.store.getTotalCount());
this.displayItem.setText(d);}},onLoad:function(n,d,k){if(!this.rendered){this.dsLoaded=[n,d,k];return;}var a=this.getParams();this.cursor=(k.params&&k.params[a.start])?k.params[a.start]:0;var m=this.getPageData(),o=m.activePage,l=m.pages;this.afterTextItem.setText(String.format(this.afterPageText,m.pages));
this.inputItem.setValue(o);this.first.setDisabled(o==1);this.prev.setDisabled(o==1);this.next.setDisabled(o==l);this.last.setDisabled(o==l);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,m);},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)};
},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()));},onLoadError:function(){if(!this.rendered){return;}this.refresh.enable();},readPage:function(d){var a=this.inputItem.getValue(),g;if(!a||isNaN(g=parseInt(a,10))){this.inputItem.setValue(d.activePage);
return false;}return g;},onPagingFocus:function(){this.inputItem.select();},onPagingBlur:function(a){this.inputItem.setValue(this.getPageData().activePage);},onPagingKeyDown:function(e,k){var l=k.getKey(),d=this.getPageData(),m;if(l==k.RETURN){k.stopEvent();m=this.readPage(d);if(m!==false){m=Math.min(Math.max(1,m),d.pages)-1;
this.doLoad(m*this.pageSize);}}else{if(l==k.HOME||l==k.END){k.stopEvent();m=l==k.HOME?1:d.pages;e.setValue(m);}else{if(l==k.UP||l==k.PAGEUP||l==k.DOWN||l==k.PAGEDOWN){k.stopEvent();if((m=this.readPage(d))){var a=k.shiftKey?10:1;if(l==k.DOWN||l==k.PAGEDOWN){a*=-1;}m+=a;if(m>=1&m<=d.pages){e.setValue(m);
}}}}}},getParams:function(){return this.paramNames||this.store.paramNames;},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable();}},doLoad:function(e){var g={},a=this.getParams();g[a.start]=e;g[a.limit]=this.pageSize;if(this.fireEvent("beforechange",this,g)!==false){this.store.load({params:g});
}},moveFirst:function(){this.doLoad(0);},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize));},moveNext:function(){this.doLoad(this.cursor+this.pageSize);},moveLast:function(){var d=this.store.getTotalCount(),a=d%this.pageSize;this.doLoad(a?(d-a):d-this.pageSize);},doRefresh:function(){this.doLoad(this.cursor);
},bindStore:function(g,e){var a;if(!e&&this.store){if(g!==this.store&&this.store.autoDestroy){this.store.destroy();}else{this.store.un("beforeload",this.beforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoadError,this);}if(!g){this.store=null;}}if(g){g=Ext.StoreMgr.lookup(g);
g.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError});a=true;}this.store=g;if(a){this.onLoad(g,null,{});}},unbind:function(a){this.bindStore(null);},bind:function(a){this.bindStore(a);},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this);
}});})();Ext.reg("paging",Ext.PagingToolbar);Ext.History=(function(){var o,q;var t=false;var p;function n(){var b=top.location.href,a=b.indexOf("#");return a>=0?b.substr(a+1):null;}function s(){q.value=p;}function m(a){p=a;Ext.History.fireEvent("change",a);}function l(a){var b=['<html><body><div id="state">',Ext.util.Format.htmlEncode(a),"</div></body></html>"].join("");
try{var c=o.contentWindow.document;c.open();c.write(b);c.close();return true;}catch(d){return false;}}function r(){if(!o.contentWindow||!o.contentWindow.document){setTimeout(r,10);return;}var c=o.contentWindow.document;var a=c.getElementById("state");var b=a?a.innerText:null;var d=n();setInterval(function(){c=o.contentWindow.document;
a=c.getElementById("state");var e=a?a.innerText:null;var g=n();if(e!==b){b=e;m(b);top.location.hash=b;d=b;s();}else{if(g!==d){d=g;l(g);}}},50);t=true;Ext.History.fireEvent("ready",Ext.History);}function u(){p=q.value?q.value:n();if(Ext.isIE){r();}else{var a=n();setInterval(function(){var b=n();if(b!==a){a=b;
m(a);s();}},50);t=true;Ext.History.fireEvent("ready",Ext.History);}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(a,b){if(t){Ext.callback(a,b,[this]);return;}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(a,b);});return;}q=Ext.getDom(Ext.History.fieldId);
if(Ext.isIE){o=Ext.getDom(Ext.History.iframeId);}this.addEvents("ready","change");if(a){this.on("ready",a,b,{single:true});}u();},add:function(b,a){if(a!==false){if(this.getToken()==b){return true;}}if(Ext.isIE){return l(b);}else{top.location.hash=b;return true;}},back:function(){history.go(-1);},forward:function(){history.go(1);
},getToken:function(){return t?p:n();}};})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);
if(this.closable&&!this.title){this.elements+=",header";}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this});}},showAt:function(b){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth();
}if(this.constrainPosition){b=this.el.adjustForConstraints(b);}this.setPagePosition(b[0],b[1]);},doAutoWidth:function(d){d=d||0;var c=this.body.getTextWidth();if(this.title){c=Math.max(c,this.header.child("span").getTextWidth(this.title));}c+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+d;
this.setWidth(c.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true;}},showBy:function(d,c){if(!this.rendered){this.render(Ext.getBody());}this.showAt(this.el.getAlignToXY(d,c||this.defaultAlign));},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);
this.header.addClass("x-tip-draggable");}});Ext.reg("tip",Ext.Tip);Ext.Tip.DD=function(c,d){Ext.apply(this,d);this.tip=c;Ext.Tip.DD.superclass.constructor.call(this,c.el.id,"WindowDD-"+c.id);this.setHandleElId(c.header.id);this.scroll=false;};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow();
},endDrag:function(b){this.tip.el.enableShadow(true);}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,constrainPosition:false,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();
this.initTarget(this.target);this.origAnchor=this.anchor;},onRender:function(c,d){Ext.ToolTip.superclass.onRender.call(this,c,d);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls});},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);
this.anchorEl.setStyle("z-index",this.el.getZIndex()+1);},initTarget:function(g){var e;if((e=Ext.get(g))){if(this.target){var d=Ext.get(this.target);this.mun(d,"mouseover",this.onTargetOver,this);this.mun(d,"mouseout",this.onTargetOut,this);this.mun(d,"mousemove",this.onMouseMove,this);}this.mon(e,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});
this.target=e;}if(this.anchor){this.anchorTarget=this.target;}},onMouseMove:function(c){var d=this.delegate?c.getTarget(this.delegate):this.triggerElement=true;if(d){this.targetXY=c.getXY();if(d===this.triggerElement){if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY());}}else{this.hide();
this.lastActive=new Date(0);this.onTargetOver(c);}}else{if(!this.closable&&this.isVisible()){this.hide();}}},getTargetXY:function(){if(this.delegate){this.anchorTarget=this.triggerElement;}if(this.anchor){this.targetCounter++;var r=this.getOffsets(),u=(this.anchorToTarget&&!this.trackMouse)?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,t=Ext.lib.Dom.getViewWidth()-5,n=Ext.lib.Dom.getViewHeight()-5,m=document.documentElement,p=document.body,v=(m.scrollLeft||p.scrollLeft||0)+5,w=(m.scrollTop||p.scrollTop||0)+5,s=[u[0]+r[0],u[1]+r[1]],o=this.getSize();
this.anchorEl.removeClass(this.anchorCls);if(this.targetCounter<2){if(s[0]<v){if(this.anchorToTarget){this.defaultAlign="l-r";if(this.mouseOffset){this.mouseOffset[0]*=-1;}}this.anchor="left";return this.getTargetXY();}if(s[0]+o.width>t){if(this.anchorToTarget){this.defaultAlign="r-l";if(this.mouseOffset){this.mouseOffset[0]*=-1;
}}this.anchor="right";return this.getTargetXY();}if(s[1]<w){if(this.anchorToTarget){this.defaultAlign="t-b";if(this.mouseOffset){this.mouseOffset[1]*=-1;}}this.anchor="top";return this.getTargetXY();}if(s[1]+o.height>n){if(this.anchorToTarget){this.defaultAlign="b-t";if(this.mouseOffset){this.mouseOffset[1]*=-1;
}}this.anchor="bottom";return this.getTargetXY();}}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return s;}else{var q=this.getMouseOffset();return[this.targetXY[0]+q[0],this.targetXY[1]+q[1]];}},getMouseOffset:function(){var b=this.anchor?[0,0]:[15,18];
if(this.mouseOffset){b[0]+=this.mouseOffset[0];b[1]+=this.mouseOffset[1];}return b;},getAnchorPosition:function(){if(this.anchor){this.tipAnchor=this.anchor.charAt(0);}else{var b=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!b){throw"AnchorTip.defaultAlign is invalid";}this.tipAnchor=b[1].charAt(0);
}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right";}return"left";},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl";}},getOffsets:function(){var d,e=this.getAnchorPosition().charAt(0);
if(this.anchorToTarget&&!this.trackMouse){switch(e){case"t":d=[0,9];break;case"b":d=[0,-13];break;case"r":d=[-13,0];break;default:d=[9,0];break;}}else{switch(e){case"t":d=[-15-this.anchorOffset,30];break;case"b":d=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":d=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];
break;default:d=[25,-13-this.anchorOffset];break;}}var g=this.getMouseOffset();d[0]+=g[0];d[1]+=g[1];return d;},onTargetOver:function(c){if(this.disabled||c.within(this.target.dom,true)){return;}var d=c.getTarget(this.delegate);if(d){this.triggerElement=d;this.clearTimer("hide");this.targetXY=c.getXY();
this.delayShow();}},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show();}else{this.showTimer=this.show.defer(this.showDelay,this);}}else{if(!this.hidden&&this.autoHide!==false){this.show();}}},onTargetOut:function(b){if(this.disabled||b.within(this.target.dom,true)){return;
}this.clearTimer("show");if(this.autoHide!==false){this.delayHide();}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this);}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();if(this.anchorEl){this.anchorEl.hide();}Ext.ToolTip.superclass.hide.call(this);
delete this.triggerElement;},show:function(){if(this.anchor){this.showAt([-1000,-1000]);this.origConstrainPosition=this.constrainPosition;this.constrainPosition=false;this.anchor=this.origAnchor;}this.showAt(this.getTargetXY());if(this.anchor){this.syncAnchor();this.anchorEl.show();this.constrainPosition=this.origConstrainPosition;
}else{this.anchorEl.hide();}},showAt:function(b){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,b);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this);}if(this.anchor&&!this.anchorEl.isVisible()){this.syncAnchor();
this.anchorEl.show();}},syncAnchor:function(){var e,d,g;switch(this.tipAnchor.charAt(0)){case"t":e="b";d="tl";g=[20+this.anchorOffset,2];break;case"r":e="l";d="tr";g=[-2,11+this.anchorOffset];break;case"b":e="t";d="bl";g=[20+this.anchorOffset,-2];break;default:e="r";d="tl";g=[2,11+this.anchorOffset];
break;}this.anchorEl.alignTo(this.el,e+"-"+d,g);},setPagePosition:function(d,c){Ext.ToolTip.superclass.setPagePosition.call(this,d,c);if(this.anchor){this.syncAnchor();}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b];},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");
this.clearTimer("hide");},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this);},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this);},onDocMouseDown:function(b){if(this.autoHide!==true&&!this.closable&&!b.within(this.el.dom)){this.disable();
this.doEnable.defer(100,this);}},doEnable:function(){if(!this.isDestroyed){this.enable();}},onDisable:function(){this.clearTimers();this.hide();},adjustPosition:function(g,h){if(this.contstrainPosition){var i=this.targetXY[1],e=this.getSize().height;if(h<=i&&(h+e)>=i){h=i-e-5;}}return{x:g,y:h};},beforeDestroy:function(){this.clearTimers();
Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this);},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this);}});Ext.reg("tooltip",Ext.ToolTip);
Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this);
},register:function(c){var j=Ext.isArray(c)?c:arguments;for(var p=0,o=j.length;p<o;p++){var i=j[p];var m=i.target;if(m){if(Ext.isArray(m)){for(var q=0,n=m.length;q<n;q++){this.targets[Ext.id(m[q])]=i;}}else{this.targets[Ext.id(m)]=i;}}}},unregister:function(b){delete this.targets[Ext.id(b)];},cancelShow:function(c){var d=this.activeTarget;
c=Ext.get(c).dom;if(this.isVisible()){if(d&&d.el==c){this.hide();}}else{if(d&&d.el==c){this.clearTimer("show");}}},getTipCfg:function(h){var e=h.getTarget(),i,g;if(this.interceptTitles&&e.title&&Ext.isString(e.title)){i=e.title;e.qtip=i;e.removeAttribute("title");h.preventDefault();}else{g=this.tagConfig;
i=e.qtip||Ext.fly(e).getAttribute(g.attribute,g.namespace);}return i;},onTargetOver:function(n){if(this.disabled){return;}this.targetXY=n.getXY();var k=n.getTarget();if(!k||k.nodeType!==1||k==document||k==document.body){return;}if(this.activeTarget&&((k==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(k))){this.clearTimer("hide");
this.show();return;}if(k&&this.targets[k.id]){this.activeTarget=this.targets[k.id];this.activeTarget.el=k;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=k;}this.delayShow();return;}var e,o=Ext.fly(k),l=this.tagConfig,j=l.namespace;if(e=this.getTipCfg(n)){var m=o.getAttribute(l.hide,j);
this.activeTarget={el:k,text:e,width:o.getAttribute(l.width,j),autoHide:m!="user"&&m!=="false",title:o.getAttribute(l.title,j),cls:o.getAttribute(l.cls,j),align:o.getAttribute(l.align,j)};this.anchor=o.getAttribute(l.anchor,j);if(this.anchor){this.anchorTarget=k;}this.delayShow();}},onTargetOut:function(b){if(this.activeTarget&&b.within(this.activeTarget.el)&&!this.getTipCfg(b)){return;
}this.clearTimer("show");if(this.autoHide!==false){this.delayHide();}},showAt:function(c){var d=this.activeTarget;if(d){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=d;}if(d.width){this.setWidth(d.width);this.body.setWidth(this.adjustBodyWidth(d.width-this.getFrameWidth()));this.measureWidth=false;
}else{this.measureWidth=true;}this.setTitle(d.title||"");this.body.update(d.text);this.autoHide=d.autoHide;this.dismissDelay=d.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls;}if(d.cls){this.el.addClass(d.cls);this.lastCls=d.cls;}if(this.anchor){this.constrainPosition=false;
}else{if(d.align){c=this.el.getAlignToXY(d.el,d.align);this.constrainPosition=false;}else{this.constrainPosition=true;}}}Ext.QuickTip.superclass.showAt.call(this,c);},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this);}});Ext.reg("quicktip",Ext.QuickTip);Ext.QuickTips=function(){var c,d=[];
return{init:function(a){if(!c){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(a);});return;}c=new Ext.QuickTip({elements:"header,body"});if(a!==false){c.render(Ext.getBody());}}},enable:function(){if(c){d.pop();if(d.length<1){c.enable();}}},disable:function(){if(c){c.disable();}d.push(1);
},isEnabled:function(){return c!==undefined&&!c.disabled;},getQuickTip:function(){return c;},register:function(){c.register.apply(c,arguments);},unregister:function(){c.unregister.apply(c,arguments);},tips:function(){c.register.apply(c,arguments);}};}();Ext.slider.Tip=Ext.extend(Ext.Tip,{minWidth:10,offsets:[0,-10],init:function(b){b.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy});
},onSlide:function(d,g,e){this.show();this.body.update(this.getText(e));this.doAutoWidth();this.el.alignTo(e.el,"b-t?",this.offsets);},getText:function(b){return String(b.value);}});Ext.ux.SliderTip=Ext.slider.Tip;Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);
if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this);}var d=this.loader;if(!d){d=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod});}else{if(Ext.isObject(d)&&!d.load){d=new Ext.tree.TreeLoader(d);}}this.loader=d;this.nodeHash={};if(this.root){var c=this.root;
delete this.root;this.setRootNode(c);}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");
if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this);}},proxyNodeEvent:function(k,l,m,n,o,i,j){if(k=="collapse"||k=="expand"||k=="beforecollapse"||k=="beforeexpand"||k=="move"||k=="beforemove"){k=k+"node";}return this.fireEvent(k,l,m,n,o,i,j);},getRootNode:function(){return this.root;
},setRootNode:function(c){this.destroyRoot();if(!c.render){c=this.loader.createNode(c);}this.root=c;c.ownerTree=this;c.isRoot=true;this.registerNode(c);if(!this.rootVisible){var d=c.attributes.uiProvider;c.ui=d?new d(c):new Ext.tree.RootTreeNodeUI(c);}if(this.innerCt){this.clearInnerCt();this.renderRoot();
}return c;},clearInnerCt:function(){this.innerCt.update("");},renderRoot:function(){this.root.render();if(!this.rootVisible){this.root.renderChildren();}},getNodeById:function(b){return this.nodeHash[b];},registerNode:function(b){this.nodeHash[b.id]=b;},unregisterNode:function(b){delete this.nodeHash[b.id];
},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]";},restrictExpand:function(d){var c=d.parentNode;if(c){if(c.expandedChild&&c.expandedChild.parentNode==c){c.expandedChild.collapse();}c.expandedChild=d;}},getChecked:function(a,i){i=i||this.root;var h=[];var g=function(){if(this.attributes.checked){h.push(!a?this:(a=="id"?this.id:this.attributes[a]));
}};i.cascade(g);return h;},getLoader:function(){return this.loader;},expandAll:function(){this.root.expand(true);},collapseAll:function(){this.root.collapse(true);},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel();}return this.selModel;},expandPath:function(o,m,n){m=m||"id";
var j=o.split(this.pathSeparator);var k=this.root;if(k.attributes[m]!=j[1]){if(n){n(false,null);}return;}var l=1;var i=function(){if(++l==j.length){if(n){n(true,k);}return;}var a=k.findChild(m,j[l]);if(!a){if(n){n(false,k);}return;}k=a;a.expand(false,false,i);};k.expand(false,false,i);},selectPath:function(k,i,j){i=i||"id";
var m=k.split(this.pathSeparator),h=m.pop();if(m.length>1){var l=function(b,c){if(b&&c){var a=c.findChild(i,h);if(a){a.select();if(j){j(true,a);}}else{if(j){j(false,a);}}}else{if(j){j(false,a);}}};this.expandPath(m.join(this.pathSeparator),i,l);}else{this.root.select();if(j){j(true,this.root);}}},getTreeEl:function(){return this.body;
},onRender:function(c,d){Ext.tree.TreePanel.superclass.onRender.call(this,c,d);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")});},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);
if(this.containerScroll){Ext.dd.ScrollManager.register(this.body);}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true});}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll});
}this.getSelectionModel().init(this);},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.renderRoot();},beforeDestroy:function(){if(this.rendered){Ext.dd.ScrollManager.unregister(this.body);Ext.destroy(this.dropZone,this.dragZone);}this.destroyRoot();Ext.destroy(this.loader);
this.nodeHash=this.root=this.loader=null;Ext.tree.TreePanel.superclass.beforeDestroy.call(this);},destroyRoot:function(){if(this.root&&this.root.destroy){this.root.destroy(true);}}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(b){this.tree=b;
this.tree.on("render",this.initEvents,this);};Ext.tree.TreeEventModel.prototype={initEvents:function(){var b=this.tree;if(b.trackMouseOver!==false){b.mon(b.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut});}b.mon(b.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu});
},getNode:function(d){var e;if(e=d.getTarget(".x-tree-node-el",10)){var g=Ext.fly(e,"_treeEvents").getAttribute("tree-node-id","ext");if(g){return this.tree.getNodeById(g);}}return null;},getNodeTarget:function(c){var d=c.getTarget(".x-tree-node-icon",1);if(!d){d=c.getTarget(".x-tree-node-el",6);}return d;
},delegateOut:function(d,e){if(!this.beforeEvent(d)){return;}if(d.getTarget(".x-tree-ec-icon",1)){var g=this.getNode(d);this.onIconOut(d,g);if(g==this.lastEcOver){delete this.lastEcOver;}}if((e=this.getNodeTarget(d))&&!d.within(e,true)){this.onNodeOut(d,this.getNode(d));}},delegateOver:function(c,d){if(!this.beforeEvent(c)){return;
}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true;}if(this.lastEcOver){this.onIconOut(c,this.lastEcOver);delete this.lastEcOver;}if(c.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(c);this.onIconOver(c,this.lastEcOver);}if(d=this.getNodeTarget(c)){this.onNodeOver(c,this.getNode(c));
}},trackExit:function(b){if(this.lastOverNode){if(this.lastOverNode.ui&&!b.within(this.lastOverNode.ui.getEl())){this.onNodeOut(b,this.lastOverNode);}delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false;}},delegateClick:function(c,d){if(this.beforeEvent(c)){if(c.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(c,this.getNode(c));
}else{if(c.getTarget(".x-tree-ec-icon",1)){this.onIconClick(c,this.getNode(c));}else{if(this.getNodeTarget(c)){this.onNodeClick(c,this.getNode(c));}}}}else{this.checkContainerEvent(c,"click");}},delegateDblClick:function(c,d){if(this.beforeEvent(c)){if(this.getNodeTarget(c)){this.onNodeDblClick(c,this.getNode(c));
}}else{this.checkContainerEvent(c,"dblclick");}},delegateContextMenu:function(c,d){if(this.beforeEvent(c)){if(this.getNodeTarget(c)){this.onNodeContextMenu(c,this.getNode(c));}}else{this.checkContainerEvent(c,"contextmenu");}},checkContainerEvent:function(c,d){if(this.disabled){c.stopEvent();return false;
}this.onContainerEvent(c,d);},onContainerEvent:function(c,d){this.tree.fireEvent("container"+d,this.tree,c);},onNodeClick:function(c,d){d.ui.onClick(c);},onNodeOver:function(c,d){this.lastOverNode=d;d.ui.onOver(c);},onNodeOut:function(c,d){d.ui.onOut(c);},onIconOver:function(c,d){d.ui.addClass("x-tree-ec-over");
},onIconOut:function(c,d){d.ui.removeClass("x-tree-ec-over");},onIconClick:function(c,d){d.ui.ecClick(c);},onCheckboxClick:function(c,d){d.ui.onCheckChange(c);},onNodeDblClick:function(c,d){d.ui.onDblClick(c);},onNodeContextMenu:function(c,d){d.ui.onContextMenu(c);},beforeEvent:function(c){var d=this.getNode(c);
if(this.disabled||!d||!d.ui){c.stopEvent();return false;}return true;},disable:function(){this.disabled=true;},enable:function(){this.disabled=false;}};Ext.tree.DefaultSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(b){this.selNode=null;this.addEvents("selectionchange","beforeselect");
Ext.apply(this,b);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this);},init:function(b){this.tree=b;b.mon(b.getTreeEl(),"keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this);},onNodeClick:function(d,c){this.select(d);},select:function(g,e){if(!Ext.fly(g.ui.wrap).isVisible()&&e){return e.call(this,g);
}var d=this.selNode;if(g==d){g.ui.onSelectedChange(true);}else{if(this.fireEvent("beforeselect",this,g,d)!==false){if(d&&d.ui){d.ui.onSelectedChange(false);}this.selNode=g;g.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,g,d);}}return g;},unselect:function(c,d){if(this.selNode==c){this.clearSelections(d);
}},clearSelections:function(d){var c=this.selNode;if(c){c.ui.onSelectedChange(false);this.selNode=null;if(d!==true){this.fireEvent("selectionchange",this,null);}}return c;},getSelectedNode:function(){return this.selNode;},isSelected:function(b){return this.selNode==b;},selectPrevious:function(e){if(!(e=e||this.selNode||this.lastSelNode)){return null;
}var g=e.previousSibling;if(g){if(!g.isExpanded()||g.childNodes.length<1){return this.select(g,this.selectPrevious);}else{var d=g.lastChild;while(d&&d.isExpanded()&&Ext.fly(d.ui.wrap).isVisible()&&d.childNodes.length>0){d=d.lastChild;}return this.select(d,this.selectPrevious);}}else{if(e.parentNode&&(this.tree.rootVisible||!e.parentNode.isRoot)){return this.select(e.parentNode,this.selectPrevious);
}}return null;},selectNext:function(c){if(!(c=c||this.selNode||this.lastSelNode)){return null;}if(c.firstChild&&c.isExpanded()&&Ext.fly(c.ui.wrap).isVisible()){return this.select(c.firstChild,this.selectNext);}else{if(c.nextSibling){return this.select(c.nextSibling,this.selectNext);}else{if(c.parentNode){var d=null;
c.parentNode.bubble(function(){if(this.nextSibling){d=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext);return false;}});return d;}}}return null;},onKeyDown:function(i){var e=this.selNode||this.lastSelNode;var h=this;if(!e){return;}var g=i.getKey();switch(g){case i.DOWN:i.stopEvent();
this.selectNext();break;case i.UP:i.stopEvent();this.selectPrevious();break;case i.RIGHT:i.preventDefault();if(e.hasChildNodes()){if(!e.isExpanded()){e.expand();}else{if(e.firstChild){this.select(e.firstChild,i);}}}break;case i.LEFT:i.preventDefault();if(e.hasChildNodes()&&e.isExpanded()){e.collapse();
}else{if(e.parentNode&&(this.tree.rootVisible||e.parentNode!=this.tree.getRootNode())){this.select(e.parentNode,i);}}break;}}});Ext.tree.MultiSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(b){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,b);Ext.tree.MultiSelectionModel.superclass.constructor.call(this);
},init:function(b){this.tree=b;b.mon(b.getTreeEl(),"keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this);},onNodeClick:function(d,c){if(c.ctrlKey&&this.isSelected(d)){this.unselect(d);}else{this.select(d,c,c.ctrlKey);}},select:function(e,g,d){if(d!==true){this.clearSelections(true);}if(this.isSelected(e)){this.lastSelNode=e;
return e;}this.selNodes.push(e);this.selMap[e.id]=e;this.lastSelNode=e;e.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return e;},unselect:function(d){if(this.selMap[d.id]){d.ui.onSelectedChange(false);var g=this.selNodes;var e=g.indexOf(d);if(e!=-1){this.selNodes.splice(e,1);
}delete this.selMap[d.id];this.fireEvent("selectionchange",this,this.selNodes);}},clearSelections:function(e){var h=this.selNodes;if(h.length>0){for(var i=0,g=h.length;i<g;i++){h[i].ui.onSelectedChange(false);}this.selNodes=[];this.selMap={};if(e!==true){this.fireEvent("selectionchange",this,this.selNodes);
}}},isSelected:function(b){return this.selMap[b.id]?true:false;},getSelectedNodes:function(){return this.selNodes.concat([]);},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});
Ext.data.Tree=function(b){this.nodeHash={};this.root=null;if(b){this.setRootNode(b);}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this);};Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments);
},getRootNode:function(){return this.root;},setRootNode:function(b){this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);return b;},getNodeById:function(b){return this.nodeHash[b];},registerNode:function(b){this.nodeHash[b.id]=b;},unregisterNode:function(b){delete this.nodeHash[b.id];},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]";
}});Ext.data.Node=function(b){this.attributes=b||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id;}this.childNodes=[];if(!this.childNodes.indexOf){this.childNodes.indexOf=function(e){for(var g=0,a=this.length;g<a;g++){if(this[g]==e){return g;
}}return -1;};}this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this);
};Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(c){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false;}var d=this.getOwnerTree();if(d){if(d.proxyNodeEvent.apply(d,arguments)===false){return false;}}return true;},isLeaf:function(){return this.leaf===true;
},setFirstChild:function(b){this.firstChild=b;},setLastChild:function(b){this.lastChild=b;},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this);},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this);},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0;
},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes();},appendChild:function(i){var o=false;if(Ext.isArray(i)){o=i;}else{if(arguments.length>1){o=arguments;}}if(o){for(var j=0,m=o.length;j<m;j++){this.appendChild(o[j]);}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,i)===false){return false;
}var l=this.childNodes.length;var k=i.parentNode;if(k){if(i.fireEvent("beforemove",i.getOwnerTree(),i,k,this,l)===false){return false;}k.removeChild(i);}l=this.childNodes.length;if(l===0){this.setFirstChild(i);}this.childNodes.push(i);i.parentNode=this;var n=this.childNodes[l-1];if(n){i.previousSibling=n;
n.nextSibling=i;}else{i.previousSibling=null;}i.nextSibling=null;this.setLastChild(i);i.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,i,l);if(k){i.fireEvent("move",this.ownerTree,i,k,this,l);}return i;}},removeChild:function(g,d){var e=this.childNodes.indexOf(g);if(e==-1){return false;
}if(this.fireEvent("beforeremove",this.ownerTree,this,g)===false){return false;}this.childNodes.splice(e,1);if(g.previousSibling){g.previousSibling.nextSibling=g.nextSibling;}if(g.nextSibling){g.nextSibling.previousSibling=g.previousSibling;}if(this.firstChild==g){this.setFirstChild(g.nextSibling);}if(this.lastChild==g){this.setLastChild(g.previousSibling);
}this.fireEvent("remove",this.ownerTree,this,g);if(d){g.destroy(true);}else{g.clear();}return g;},clear:function(b){this.setOwnerTree(null,b);this.parentNode=this.previousSibling=this.nextSibling=null;if(b){this.firstChild=this.lastChild=null;}},destroy:function(b){if(b===true){this.purgeListeners();
this.clear(true);Ext.each(this.childNodes,function(a){a.destroy(true);});this.childNodes=null;}else{this.remove(true);}},insertBefore:function(l,i){if(!i){return this.appendChild(l);}if(l==i){return false;}if(this.fireEvent("beforeinsert",this.ownerTree,this,l,i)===false){return false;}var h=this.childNodes.indexOf(i);
var m=l.parentNode;var k=h;if(m==this&&this.childNodes.indexOf(l)<h){k--;}if(m){if(l.fireEvent("beforemove",l.getOwnerTree(),l,m,this,h,i)===false){return false;}m.removeChild(l);}if(k===0){this.setFirstChild(l);}this.childNodes.splice(k,0,l);l.parentNode=this;var j=this.childNodes[k-1];if(j){l.previousSibling=j;
j.nextSibling=l;}else{l.previousSibling=null;}l.nextSibling=i;i.previousSibling=l;l.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,l,i);if(m){l.fireEvent("move",this.ownerTree,l,m,this,k,i);}return l;},remove:function(b){if(this.parentNode){this.parentNode.removeChild(this,b);
}return this;},removeAll:function(e){var g=this.childNodes,d;while((d=g[0])){this.removeChild(d,e);}return this;},item:function(b){return this.childNodes[b];},replaceChild:function(e,g){var d=g?g.nextSibling:null;this.removeChild(g);this.insertBefore(e,d);return g;},indexOf:function(b){return this.childNodes.indexOf(b);
},getOwnerTree:function(){if(!this.ownerTree){var b=this;while(b){if(b.ownerTree){this.ownerTree=b.ownerTree;break;}b=b.parentNode;}}return this.ownerTree;},getDepth:function(){var c=0;var d=this;while(d.parentNode){++c;d=d.parentNode;}return c;},setOwnerTree:function(d,c){if(d!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this);
}this.ownerTree=d;if(c!==true){Ext.each(this.childNodes,function(a){a.setOwnerTree(d);});}if(d){d.registerNode(this);}}},setId:function(c){if(c!==this.id){var d=this.ownerTree;if(d){d.unregisterNode(this);}this.id=this.attributes.id=c;if(d){d.registerNode(this);}this.onIdChange(c);}},onIdChange:Ext.emptyFn,getPath:function(i){i=i||"id";
var g=this.parentNode;var b=[this.attributes[i]];while(g){b.unshift(g.attributes[i]);g=g.parentNode;}var h=this.getOwnerTree().pathSeparator;return h+b.join(h);},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break;}h=h.parentNode;}},cascade:function(j,k,h){if(j.apply(k||this,h||[this])!==false){var l=this.childNodes;
for(var m=0,i=l.length;m<i;m++){l[m].cascade(j,k,h);}}},eachChild:function(j,k,h){var l=this.childNodes;for(var m=0,i=l.length;m<i;m++){if(j.apply(k||this,h||[l[m]])===false){break;}}},findChild:function(d,g,e){return this.findChildBy(function(){return this.attributes[d]==g;},null,e);},findChildBy:function(q,i,n){var k=this.childNodes,o=k.length,l=0,p,m;
for(;l<o;l++){p=k[l];if(q.call(i||p,p)===true){return p;}else{if(n){m=p.findChildBy(q,i,n);if(m!=null){return m;}}}}return null;},sort:function(i,j){var k=this.childNodes;var m=k.length;if(m>0){var o=j?function(){i.apply(j,arguments);}:i;k.sort(o);for(var l=0;l<m;l++){var n=k[l];n.previousSibling=k[l-1];
n.nextSibling=k[l+1];if(l===0){this.setFirstChild(n);}if(l==m-1){this.setLastChild(n);}}}},contains:function(b){return b.isAncestor(this);},isAncestor:function(d){var c=this.parentNode;while(c){if(c==d){return true;}c=c.parentNode;}return false;},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]";
}});Ext.tree.TreeNode=function(d){d=d||{};if(Ext.isString(d)){d={text:d};}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,d);this.expanded=d.expanded===true;this.isTarget=d.isTarget!==false;this.draggable=d.draggable!==false&&d.allowDrag!==false;this.allowChildren=d.allowChildren!==false&&d.allowDrop!==false;
this.text=d.text;this.disabled=d.disabled===true;this.hidden=d.hidden===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");var c=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;
this.ui=new c(this);};Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:true,isExpanded:function(){return this.expanded;},getUI:function(){return this.ui;},getLoader:function(){var b;return this.loader||((b=this.getOwnerTree())&&b.loader?b.loader:(this.loader=new Ext.tree.TreeLoader()));},setFirstChild:function(d){var c=this.firstChild;
Ext.tree.TreeNode.superclass.setFirstChild.call(this,d);if(this.childrenRendered&&c&&d!=c){c.renderIndent(true,true);}if(this.rendered){this.renderIndent(true,true);}},setLastChild:function(c){var d=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,c);if(this.childrenRendered&&d&&c!=d){d.renderIndent(true,true);
}if(this.rendered){this.renderIndent(true,true);}},appendChild:function(c){if(!c.render&&!Ext.isArray(c)){c=this.getLoader().createNode(c);}var d=Ext.tree.TreeNode.superclass.appendChild.call(this,c);if(d&&this.childrenRendered){d.render();}this.ui.updateExpandIcon();return d;},removeChild:function(c,d){this.ownerTree.getSelectionModel().unselect(c);
Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(!d){if(c.ui.rendered){c.ui.remove();}if(this.childNodes.length<1){this.collapse(false,false);}else{this.ui.updateExpandIcon();}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false;}}return c;},insertBefore:function(g,e){if(!g.render){g=this.getLoader().createNode(g);
}var d=Ext.tree.TreeNode.superclass.insertBefore.call(this,g,e);if(d&&e&&this.childrenRendered){g.render();}this.ui.updateExpandIcon();return d;},setText:function(c){var d=this.text;this.text=this.attributes.text=c;if(this.rendered){this.ui.onTextChange(this,c,d);}this.fireEvent("textchange",this,c,d);
},select:function(){var b=this.getOwnerTree();if(b){b.getSelectionModel().select(this);}},unselect:function(d){var c=this.getOwnerTree();if(c){c.getSelectionModel().unselect(this,d);}},isSelected:function(){var b=this.getOwnerTree();return b?b.getSelectionModel().isSelected(this):false;},expand:function(g,i,h,e){if(!this.expanded){if(this.fireEvent("beforeexpand",this,g,i)===false){return;
}if(!this.childrenRendered){this.renderChildren();}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&i!==false)||i){this.ui.animExpand(function(){this.fireEvent("expand",this);this.runCallback(h,e||this,[this]);if(g===true){this.expandChildNodes(true);}}.createDelegate(this));
return;}else{this.ui.expand();this.fireEvent("expand",this);this.runCallback(h,e||this,[this]);}}else{this.runCallback(h,e||this,[this]);}if(g===true){this.expandChildNodes(true);}},runCallback:function(e,g,d){if(Ext.isFunction(e)){e.apply(g,d);}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible;
},collapse:function(l,o,n,i){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,l,o)===false){return;}this.expanded=false;if((this.getOwnerTree().animate&&o!==false)||o){this.ui.animCollapse(function(){this.fireEvent("collapse",this);this.runCallback(n,i||this,[this]);if(l===true){this.collapseChildNodes(true);
}}.createDelegate(this));return;}else{this.ui.collapse();this.fireEvent("collapse",this);this.runCallback(n,i||this,[this]);}}else{if(!this.expanded){this.runCallback(n,i||this,[this]);}}if(l===true){var j=this.childNodes;for(var k=0,m=j.length;k<m;k++){j[k].collapse(true,false);}}},delayedExpand:function(b){if(!this.expandProcId){this.expandProcId=this.expand.defer(b,this);
}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);}this.expandProcId=false;},toggle:function(){if(this.expanded){this.collapse();}else{this.expand();}},ensureVisible:function(g,d){var e=this.getOwnerTree();e.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var a=e.getNodeById(this.id);
e.getTreeEl().scrollChildIntoView(a.ui.anchor);this.runCallback(g,d||this,[this]);}.createDelegate(this));},expandChildNodes:function(e){var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].expand(e);}},collapseChildNodes:function(e){var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].collapse(e);
}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true);}this.fireEvent("disabledchange",this,true);},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false);}this.fireEvent("disabledchange",this,false);
},renderChildren:function(e){if(e!==false){this.fireEvent("beforechildrenrendered",this);}var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].render(true);}this.childrenRendered=true;},sort:function(k,g){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var h=this.childNodes;
for(var i=0,j=h.length;i<j;i++){h[i].render(true);}}},render:function(b){this.ui.render(b);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false);}}},renderIndent:function(i,k){if(k){this.ui.childIndent=null;}this.ui.renderIndent();
if(i===true&&this.childrenRendered){var g=this.childNodes;for(var h=0,j=g.length;h<j;h++){g[h].renderIndent(true,k);}}},beginUpdate:function(){this.childrenRendered=false;},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren();}},destroy:function(b){if(b===true){this.unselect(true);
}Ext.tree.TreeNode.superclass.destroy.call(this,b);Ext.destroy(this.ui,this.loader);this.ui=this.loader=null;},onIdChange:function(b){this.ui.onIdChange(b);}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(b){this.loaded=b&&b.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);
this.addEvents("beforeload","load");};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(l,i,n,k){if(this.loading){var o;var j=function(){if(!this.loading){clearInterval(o);this.expand(l,i,n,k);}}.createDelegate(this);o=setInterval(j,200);return;}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return;
}this.loading=true;this.ui.beforeLoad(this);var m=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(m){m.load(this,this.loadComplete.createDelegate(this,[l,i,n,k]),this);return;}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,l,i,n,k);},isLoading:function(){return this.loading;
},loadComplete:function(g,i,h,e){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(g,i,h,e);},isLoaded:function(){return this.loaded;},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true;}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this);
}},reload:function(c,d){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild).destroy();}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false;}this.expand(false,false,c,d);}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;
Ext.tree.TreeNodeUI=function(b){this.node=b;this.rendered=false;this.animating=false;this.wasLeaf=true;this.ecc="x-tree-ec-icon x-tree-elbow";this.emptyIcon=Ext.BLANK_IMAGE_URL;};Ext.tree.TreeNodeUI.prototype={removeChild:function(b){if(this.rendered){this.ctNode.removeChild(b.ui.getEl());}},beforeLoad:function(){this.addClass("x-tree-node-loading");
},afterLoad:function(){this.removeClass("x-tree-node-loading");},onTextChange:function(d,g,e){if(this.rendered){this.textNode.innerHTML=g;}},onDisableChange:function(d,c){this.disabled=c;if(this.checkbox){this.checkbox.disabled=c;}if(c){this.addClass("x-tree-node-disabled");}else{this.removeClass("x-tree-node-disabled");
}},onSelectedChange:function(b){if(b){this.focus();this.addClass("x-tree-selected");}else{this.removeClass("x-tree-selected");}},onMove:function(o,q,k,j,l,n){this.childIndent=null;if(this.rendered){var p=j.ui.getContainer();if(!p){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);
return;}var m=n?n.ui.getEl():null;if(m){p.insertBefore(this.wrap,m);}else{p.appendChild(this.wrap);}this.node.renderIndent(true,k!=j);}},addClass:function(b){if(this.elNode){Ext.fly(this.elNode).addClass(b);}},removeClass:function(b){if(this.elNode){Ext.fly(this.elNode).removeClass(b);}},remove:function(){if(this.rendered){this.holder=document.createElement("div");
this.holder.appendChild(this.wrap);}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments);},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.onDisableChange(this.node,true);}if(this.node.hidden){this.hide();}var c=this.node.getOwnerTree();
var d=c.enableDD||c.enableDrag||c.enableDrop;if(d&&(!this.node.isRoot||c.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false});}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode];},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none";
}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display="";}},onContextMenu:function(b){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){b.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,b);}},onClick:function(d){if(this.dropping){d.stopEvent();
return;}if(this.fireEvent("beforeclick",this.node,d)!==false){var a=d.getTarget("a");if(!this.disabled&&this.node.attributes.href&&a){this.fireEvent("click",this.node,d);return;}else{if(a&&d.ctrlKey){d.stopEvent();}}d.preventDefault();if(this.disabled){return;}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle();
}this.fireEvent("click",this.node,d);}else{d.stopEvent();}},onDblClick:function(b){b.preventDefault();if(this.disabled){return;}if(this.fireEvent("beforedblclick",this.node,b)!==false){if(this.checkbox){this.toggleCheck();}if(!this.animating&&this.node.isExpandable()){this.node.toggle();}this.fireEvent("dblclick",this.node,b);
}},onOver:function(b){this.addClass("x-tree-node-over");},onOut:function(b){this.removeClass("x-tree-node-over");},onCheckChange:function(){var b=this.checkbox.checked;this.checkbox.defaultChecked=b;this.node.attributes.checked=b;this.fireEvent("checkchange",this.node,b);},ecClick:function(b){if(!this.animating&&this.node.isExpandable()){this.node.toggle();
}},startDrop:function(){this.dropping=true;},endDrop:function(){setTimeout(function(){this.dropping=false;}.createDelegate(this),50);},expand:function(){this.updateExpandIcon();this.ctNode.style.display="";},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus();}catch(g){}}else{try{var d=this.node.getOwnerTree().getTreeEl().dom;
var e=d.scrollLeft;this.anchor.focus();d.scrollLeft=e;}catch(g){}}},toggleCheck:function(c){var d=this.checkbox;if(d){d.checked=(c===undefined?!d.checked:c);this.onCheckChange();}},blur:function(){try{this.anchor.blur();}catch(b){}},animExpand:function(c){var d=Ext.get(this.ctNode);d.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();
this.ctNode.style.display="";Ext.callback(c);return;}this.animating=true;this.updateExpandIcon();d.slideIn("t",{callback:function(){this.animating=false;Ext.callback(c);},scope:this,duration:this.node.ownerTree.duration||0.25});},highlight:function(){var b=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(b.hlColor||"C3DAF9",{endColor:b.hlBaseColor});
},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none";},animCollapse:function(c){var d=Ext.get(this.ctNode);d.enableDisplayMode("block");d.stopFx();this.animating=true;this.updateExpandIcon();d.slideOut("t",{callback:function(){this.animating=false;Ext.callback(c);},scope:this,duration:this.node.ownerTree.duration||0.25});
},getContainer:function(){return this.ctNode;},getEl:function(){return this.wrap;},appendDDGhost:function(b){b.appendChild(this.elNode.cloneNode(true));},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode);},onRender:function(){this.render();},render:function(i){var g=this.node,a=g.attributes;
var h=g.parentNode?g.parentNode.ui.getContainer():g.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(g,a,h,i);if(a.qtip){if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",a.qtip);if(a.qtipTitle){this.textNode.setAttributeNS("ext","qtitle",a.qtipTitle);
}}else{this.textNode.setAttribute("ext:qtip",a.qtip);if(a.qtipTitle){this.textNode.setAttribute("ext:qtitle",a.qtipTitle);}}}else{if(a.qtipCfg){a.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(a.qtipCfg);}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true);}}else{if(i===true){h.appendChild(this.wrap);
}}},renderElements:function(p,u,a,t){this.indentMarkup=p.parentNode?p.parentNode.ui.getChildIndent():"";var o=Ext.isBoolean(u.checked),s,r=u.href?u.href:Ext.isGecko?"":"#",q=['<li class="x-tree-node"><div ext:tree-node-id="',p.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',u.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img src="',u.icon||this.emptyIcon,'" class="x-tree-node-icon',(u.icon?" x-tree-node-inline-icon":""),(u.iconCls?" "+u.iconCls:""),'" unselectable="on" />',o?('<input class="x-tree-node-cb" type="checkbox" '+(u.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',r,'" tabIndex="1" ',u.hrefTarget?' target="'+u.hrefTarget+'"':"",'><span unselectable="on">',p.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");
if(t!==true&&p.nextSibling&&(s=p.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",s,q);}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",a,q);}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var m=this.elNode.childNodes;this.indentNode=m[0];this.ecNode=m[1];
this.iconNode=m[2];var n=3;if(o){this.checkbox=m[3];this.checkbox.defaultChecked=this.checkbox.checked;n++;}this.anchor=m[n];this.textNode=m[n].firstChild;},getAnchor:function(){return this.anchor;},getTextEl:function(){return this.textNode;},getIconEl:function(){return this.iconNode;},isChecked:function(){return this.checkbox?this.checkbox.checked:false;
},updateExpandIcon:function(){if(this.rendered){var j=this.node,l,m,i=j.isLast()?"x-tree-elbow-end":"x-tree-elbow",k=j.hasChildNodes();if(k||j.attributes.expandable){if(j.expanded){i+="-minus";l="x-tree-node-collapsed";m="x-tree-node-expanded";}else{i+="-plus";l="x-tree-node-expanded";m="x-tree-node-collapsed";
}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false;}if(this.c1!=l||this.c2!=m){Ext.fly(this.elNode).replaceClass(l,m);this.c1=l;this.c2=m;}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-collapsed");delete this.c1;delete this.c2;this.wasLeaf=true;
}}var h="x-tree-ec-icon "+i;if(this.ecc!=h){this.ecNode.className=h;this.ecc=h;}}},onIdChange:function(b){if(this.rendered){this.elNode.setAttribute("ext:tree-node-id",b);}},getChildIndent:function(){if(!this.childIndent){var d=[],c=this.node;while(c){if(!c.isRoot||(c.isRoot&&c.ownerTree.rootVisible)){if(!c.isLast()){d.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />');
}else{d.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />');}}c=c.parentNode;}this.childIndent=d.join("");}return this.childIndent;},renderIndent:function(){if(this.rendered){var d="",c=this.node.parentNode;if(c){d=c.ui.getChildIndent();}if(this.indentMarkup!=d){this.indentNode.innerHTML=d;
this.indentMarkup=d;}this.updateExpandIcon();}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id);}Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(b){if(this[b]){Ext.fly(this[b]).remove();delete this[b];
}},this);delete this.node;}};Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var b=this.node.ownerTree.innerCt.dom;this.node.expanded=true;b.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=b.firstChild;}},collapse:Ext.emptyFn,expand:Ext.emptyFn});
Ext.tree.TreeLoader=function(b){this.baseParams={};Ext.apply(this,b);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/);}};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,paramOrder:undefined,paramsAsHash:false,nodeParameter:"node",directFn:undefined,load:function(d,g,e){if(this.clearOnLoad){while(d.firstChild){d.removeChild(d.firstChild);
}}if(this.doPreload(d)){this.runCallback(g,e||d,[d]);}else{if(this.directFn||this.dataUrl||this.url){this.requestData(d,g,e||d);}}},doPreload:function(g){if(g.attributes.children){if(g.childNodes.length<1){var h=g.attributes.children;g.beginUpdate();for(var i=0,j=h.length;i<j;i++){var k=g.appendChild(this.createNode(h[i]));
if(this.preloadChildren){this.doPreload(k);}}g.endUpdate();}return true;}return false;},getParams:function(o){var i=Ext.apply({},this.baseParams),n=this.nodeParameter,l=this.paramOrder;n&&(i[n]=o.id);if(this.directFn){var k=[o.id];if(l){if(n&&l.indexOf(n)>-1){k=[];}for(var j=0,m=l.length;j<m;j++){k.push(i[l[j]]);
}}else{if(this.paramsAsHash){k=[i];}}return k;}else{return i;}},requestData:function(i,h,e){if(this.fireEvent("beforeload",this,i,h)!==false){if(this.directFn){var g=this.getParams(i);g.push(this.processDirectResponse.createDelegate(this,[{callback:h,node:i,scope:e}],true));this.directFn.apply(window,g);
}else{this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:h,node:i,scope:e},params:this.getParams(i)});}}else{this.runCallback(h,e||i,[]);}},processDirectResponse:function(e,d,g){if(d.status){this.handleResponse({responseData:Ext.isArray(e)?e:null,responseText:e,argument:g});
}else{this.handleFailure({argument:g});}},runCallback:function(e,g,d){if(Ext.isFunction(e)){e.apply(g,d);}},isLoading:function(){return !!this.transId;},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId);}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs);
}if(this.applyLoader!==false&&!attr.loader){attr.loader=this;}if(Ext.isString(attr.uiProvider)){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider);}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr);}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr);
}},processResponse:function(p,q,e,u){var t=p.responseText;try{var s=p.responseData||Ext.decode(t);q.beginUpdate();for(var o=0,n=s.length;o<n;o++){var r=this.createNode(s[o]);if(r){q.appendChild(r);}}q.endUpdate();this.runCallback(e,u||q,[q]);}catch(i){this.handleFailure(p);}},handleResponse:function(d){this.transId=false;
var a=d.argument;this.processResponse(d,a.node,a.callback,a.scope);this.fireEvent("load",this,a.node,d);},handleFailure:function(d){this.transId=false;var a=d.argument;this.fireEvent("loadexception",this,a.node,d);this.runCallback(a.callback,a.scope||a.node,[a.node]);},destroy:function(){this.abort();
this.purgeListeners();}});Ext.tree.TreeFilter=function(d,c){this.tree=d;this.filtered={};Ext.apply(this,c);};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(g,j,i){j=j||"text";var h;if(typeof g=="string"){var k=g.length;if(k==0&&this.clearBlank){this.clear();
return;}g=g.toLowerCase();h=function(a){return a.attributes[j].substr(0,k).toLowerCase()==g;};}else{if(g.exec){h=function(a){return g.test(a.attributes[j]);};}else{throw"Illegal filter type, must be string or regex";}}this.filterBy(h,null,i);},filterBy:function(l,m,n){n=n||this.tree.root;if(this.autoClear){this.clear();
}var o=this.filtered,p=this.reverse;var k=function(a){if(a==n){return true;}if(o[a.id]){return false;}var b=l.call(m||a,a);if(!b||p){o[a.id]=a;a.ui.hide();return false;}return true;};n.cascade(k);if(this.remove){for(var q in o){if(typeof q!="function"){var j=o[q];if(j&&j.parentNode){j.parentNode.removeChild(j);
}}}}},clear:function(){var e=this.tree;var g=this.filtered;for(var h in g){if(typeof h!="function"){var i=g[h];if(i){i.ui.show();}}}this.filtered={};}};Ext.tree.TreeSorter=function(n,m){Ext.apply(this,m);n.on("beforechildrenrendered",this.doSort,this);n.on("append",this.updateSort,this);n.on("insert",this.updateSort,this);
n.on("textchange",this.updateSortParent,this);var k=this.dir&&this.dir.toLowerCase()=="desc";var j=this.property||"text";var q=this.sortType;var o=this.folderSort;var l=this.caseSensitive===true;var p=this.leafAttr||"leaf";this.sortFn=function(c,d){if(o){if(c.attributes[p]&&!d.attributes[p]){return 1;
}if(!c.attributes[p]&&d.attributes[p]){return -1;}}var a=q?q(c):(l?c.attributes[j]:c.attributes[j].toUpperCase());var b=q?q(d):(l?d.attributes[j]:d.attributes[j].toUpperCase());if(a<b){return k?+1:-1;}else{if(a>b){return k?-1:+1;}else{return 0;}}};};Ext.tree.TreeSorter.prototype={doSort:function(b){b.sort(this.sortFn);
},compareNodes:function(c,d){return(c.text.toUpperCase()>d.text.toUpperCase()?1:-1);},updateSort:function(d,c){if(c.childrenRendered){this.doSort.defer(1,this,[c]);}},updateSortParent:function(d){var c=d.parentNode;if(c&&c.childrenRendered){this.doSort.defer(1,this,[c]);}}};if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(d,c){this.allowParentInsert=c.allowParentInsert||false;
this.allowContainerDrop=c.allowContainerDrop||false;this.appendOnly=c.appendOnly||false;Ext.tree.TreeDropZone.superclass.constructor.call(this,d.getTreeEl(),c);this.tree=d;this.dragOverData={};this.lastInsertClass="x-tree-no-status";};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(b){if(b.hasChildNodes()&&!b.isExpanded()){b.expand(false,null,this.triggerCacheRefresh.createDelegate(this));
}},queueExpand:function(b){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[b]);},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false;}},isValidDropPoint:function(p,q,s,m,n){if(!p||!n){return false;}var l=p.node;var e=n.node;if(!(l&&l.isTarget&&q)){return false;
}if(q=="append"&&l.allowChildren===false){return false;}if((q=="above"||q=="below")&&(l.parentNode&&l.parentNode.allowChildren===false)){return false;}if(e&&(l==e||e.contains(l))){return false;}var o=this.dragOverData;o.tree=this.tree;o.target=l;o.data=n;o.point=q;o.source=s;o.rawEvent=m;o.dropNode=e;
o.cancel=false;var r=this.tree.fireEvent("nodedragover",o);return o.cancel===false&&r!==false;},getDropPoint:function(p,q,w){var v=q.node;if(v.isRoot){return v.allowChildren!==false?"append":false;}var s=q.ddel;var u=Ext.lib.Dom.getY(s),e=u+s.offsetHeight;var n=Ext.lib.Event.getPageY(p);var b=v.allowChildren===false||v.isLeaf();
if(this.appendOnly||v.parentNode.allowChildren===false){return b?false:"append";}var r=false;if(!this.allowParentInsert){r=v.hasChildNodes()&&v.isExpanded();}var t=(e-u)/(b?2:3);if(n>=u&&n<(u+t)){return"above";}else{if(!r&&(b||n>=e-t&&n<=e)){return"below";}else{return"append";}}},onNodeEnter:function(h,g,i,e){this.cancelExpand();
},onContainerOver:function(e,g,d){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",e,g,d)){return this.dropAllowed;}return this.dropNotAllowed;},onNodeOver:function(o,s,e,l){var q=this.getDropPoint(e,o,s);var n=o.node;if(!this.expandProcId&&q=="append"&&n.hasChildNodes()&&!o.node.isExpanded()){this.queueExpand(n);
}else{if(q!="append"){this.cancelExpand();}}var m=this.dropNotAllowed;if(this.isValidDropPoint(o,q,s,e,l)){if(q){var p=o.ddel;var r;if(q=="above"){m=o.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";r="x-tree-drag-insert-above";}else{if(q=="below"){m=o.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";
r="x-tree-drag-insert-below";}else{m="x-tree-drop-ok-append";r="x-tree-drag-append";}}if(this.lastInsertClass!=r){Ext.fly(p).replaceClass(this.lastInsertClass,r);this.lastInsertClass=r;}}}return m;},onNodeOut:function(h,g,i,e){this.cancelExpand();this.removeDropIndicators(h);},onNodeDrop:function(n,l,o,j){var m=this.getDropPoint(o,n,l);
var e=n.node;e.ui.startDrop();if(!this.isValidDropPoint(n,m,l,o,j)){e.ui.endDrop();return false;}var k=j.node||(l.getTreeNode?l.getTreeNode(j,e,m,o):null);return this.processDrop(e,j,m,l,o,k);},onContainerDrop:function(j,k,h){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",j,k,h)){var e=this.tree.getRootNode();
e.ui.startDrop();var i=h.node||(j.getTreeNode?j.getTreeNode(h,e,"append",k):null);return this.processDrop(e,h,"append",j,k,i);}return false;},processDrop:function(l,n,e,q,k,o){var m={tree:this.tree,target:l,data:n,point:e,source:q,rawEvent:k,dropNode:o,cancel:!o,dropStatus:false};var p=this.tree.fireEvent("beforenodedrop",m);
if(p===false||m.cancel===true||!m.dropNode){l.ui.endDrop();return m.dropStatus;}l=m.target;if(e=="append"&&!l.isExpanded()){l.expand(false,null,function(){this.completeDrop(m);}.createDelegate(this));}else{this.completeDrop(m);}return true;},completeDrop:function(n){var j=n.dropNode,i=n.point,k=n.target;
if(!Ext.isArray(j)){j=[j];}var o;for(var l=0,m=j.length;l<m;l++){o=j[l];if(i=="above"){k.parentNode.insertBefore(o,k);}else{if(i=="below"){k.parentNode.insertBefore(o,k.nextSibling);}else{k.appendChild(o);}}}o.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){o.ui.highlight();}k.ui.endDrop();this.tree.fireEvent("nodedrop",n);
},afterNodeMoved:function(j,h,k,e,i){if(Ext.enableFx&&this.tree.hlDrop){i.ui.focus();i.ui.highlight();}this.tree.fireEvent("nodedrop",this.tree,e,h,j,k);},getTree:function(){return this.tree;},removeDropIndicators:function(c){if(c&&c.ddel){var d=c.ddel;Ext.fly(d).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);
this.lastInsertClass="_noclass";}},beforeDragDrop:function(d,e,g){this.cancelExpand();return true;},afterRepair:function(b){if(b&&Ext.enableFx){b.node.ui.highlight();}this.hideProxy();}});}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(d,c){Ext.tree.TreeDragZone.superclass.constructor.call(this,d.innerCt,c);
this.tree=d;};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(e,d){var g=e.node;return g&&g.draggable&&!g.disabled;},onInitDrag:function(c){var d=this.dragData;this.tree.getSelectionModel().select(d.node);this.tree.eventModel.disable();this.proxy.update("");d.node.ui.appendDDGhost(this.proxy.ghost.dom);
this.tree.fireEvent("startdrag",this.tree,d.node,c);},getRepairXY:function(c,d){return d.node.ui.getDDRepairXY();},onEndDrag:function(d,c){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,d.node,c);},onValidDrop:function(e,d,g){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,e,d);
this.hideProxy();},beforeInvalidDrop:function(e,g){var d=this.tree.getSelectionModel();d.clearSelections();d.select(this.dragData.node);},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");}this.dragging=false;}});}Ext.tree.TreeEditor=function(g,i,e){i=i||{};
var h=i.events?i:new Ext.form.TextField(i);Ext.tree.TreeEditor.superclass.constructor.call(this,h,e);this.tree=g;if(!g.rendered){g.on("render",this.initEditor,this);}else{this.initEditor(g);}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(b){b.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick});
this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey});this.on("startedit",this.bindScroll,this,{delay:10});},fitToTree:function(i,h){var k=this.tree.getTreeEl().dom,g=h.dom;if(k.scrollLeft>g.offsetLeft){k.scrollLeft=g.offsetLeft;}var j=Math.min(this.maxWidth,(k.clientWidth>20?k.clientWidth:k.offsetWidth)-Math.max(0,g.offsetLeft-k.scrollLeft)-5);
this.setSize(j,"");},triggerEdit:function(e,g){this.completeEdit();if(e.attributes.editable!==false){this.editNode=e;if(this.tree.autoScroll){Ext.fly(e.ui.getEl()).scrollIntoView(this.tree.body);}var d=e.text||"";if(!Ext.isGecko&&Ext.isEmpty(e.text)){e.setText("&#160;");}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[e.ui.textNode,d]);
return false;}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this);},beforeNodeClick:function(d,c){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(d)){c.stopEvent();return this.triggerEdit(d);}},onNodeDblClick:function(d,c){clearTimeout(this.autoEditTimer);
},updateNode:function(d,c){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(c);},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui);}},onSpecialKey:function(g,d){var e=d.getKey();if(e==d.ESC){d.stopEvent();
this.cancelEdit();}else{if(e==d.ENTER&&!d.hasModifier()){d.stopEvent();this.completeEdit();}}},onDestroy:function(){clearTimeout(this.autoEditTimer);Ext.tree.TreeEditor.superclass.onDestroy.call(this);var b=this.tree;b.un("beforeclick",this.beforeNodeClick,this);b.un("dblclick",this.onNodeDblClick,this);
}});var swfobject=function(){var aS="undefined",ai="object",aD="Shockwave Flash",ad="ShockwaveFlash.ShockwaveFlash",aj="application/x-shockwave-flash",aE="SWFObjectExprInst",ac="onreadystatechange",am=window,aq=document,ag=navigator,aC=false,aB=[aT],aM=[],aI=[],ar=[],ao,aF,aR,Y,aN=false,aA=false,aO,aP,an=true,aJ=function(){var h=typeof aq.getElementById!=aS&&typeof aq.getElementsByTagName!=aS&&typeof aq.createElement!=aS,l=ag.userAgent.toLowerCase(),j=ag.platform.toLowerCase(),c=j?/win/.test(j):/win/.test(l),e=j?/mac/.test(j):/mac/.test(l),b=/webkit/.test(l)?parseFloat(l.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,k=!+"\v1",a=[0,0,0],g=null;
if(typeof ag.plugins!=aS&&typeof ag.plugins[aD]==ai){g=ag.plugins[aD].description;if(g&&!(typeof ag.mimeTypes!=aS&&ag.mimeTypes[aj]&&!ag.mimeTypes[aj].enabledPlugin)){aC=true;k=false;g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1");a[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10);a[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10);
a[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}else{if(typeof am.ActiveXObject!=aS){try{var d=new ActiveXObject(ad);if(d){g=d.GetVariable("$version");if(g){k=true;g=g.split(" ")[1].split(",");a=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)];}}}catch(i){}}}return{w3:h,pv:a,wk:b,ie:k,win:c,mac:e};
}(),ap=function(){if(!aJ.w3){return;}if((typeof aq.readyState!=aS&&aq.readyState=="complete")||(typeof aq.readyState==aS&&(aq.getElementsByTagName("body")[0]||aq.body))){av();}if(!aN){if(typeof aq.addEventListener!=aS){aq.addEventListener("DOMContentLoaded",av,false);}if(aJ.ie&&aJ.win){aq.attachEvent(ac,function(){if(aq.readyState=="complete"){aq.detachEvent(ac,arguments.callee);
av();}});if(am==top){(function(){if(aN){return;}try{aq.documentElement.doScroll("left");}catch(a){setTimeout(arguments.callee,0);return;}av();})();}}if(aJ.wk){(function(){if(aN){return;}if(!/loaded|complete/.test(aq.readyState)){setTimeout(arguments.callee,0);return;}av();})();}ah(av);}}();function av(){if(aN){return;
}try{var c=aq.getElementsByTagName("body")[0].appendChild(aU("span"));c.parentNode.removeChild(c);}catch(a){return;}aN=true;var d=aB.length;for(var b=0;b<d;b++){aB[b]();}}function aL(a){if(aN){a();}else{aB[aB.length]=a;}}function ah(a){if(typeof am.addEventListener!=aS){am.addEventListener("load",a,false);
}else{if(typeof aq.addEventListener!=aS){aq.addEventListener("load",a,false);}else{if(typeof am.attachEvent!=aS){at(am,"onload",a);}else{if(typeof am.onload=="function"){var b=am.onload;am.onload=function(){b();a();};}else{am.onload=a;}}}}}function aT(){if(aC){af();}else{au();}}function af(){var a=aq.getElementsByTagName("body")[0];
var d=aU(ai);d.setAttribute("type",aj);var c=a.appendChild(d);if(c){var b=0;(function(){if(typeof c.GetVariable!=aS){var e=c.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");aJ.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)];}}else{if(b<10){b++;setTimeout(arguments.callee,10);return;
}}a.removeChild(d);c=null;au();})();}else{au();}}function au(){var m=aM.length;if(m>0){for(var a=0;a<m;a++){var i=aM[a].id;var e=aM[a].callbackFn;var g={success:false,id:i};if(aJ.pv[0]>0){var b=ay(i);if(b){if(aQ(aM[a].swfVersion)&&!(aJ.wk&&aJ.wk<312)){ae(i,true);if(e){g.success=true;g.ref=aa(i);e(g);
}}else{if(aM[a].expressInstall&&Z()){var k={};k.data=aM[a].expressInstall;k.width=b.getAttribute("width")||"0";k.height=b.getAttribute("height")||"0";if(b.getAttribute("class")){k.styleclass=b.getAttribute("class");}if(b.getAttribute("align")){k.align=b.getAttribute("align");}var l={};var j=b.getElementsByTagName("param");
var d=j.length;for(var c=0;c<d;c++){if(j[c].getAttribute("name").toLowerCase()!="movie"){l[j[c].getAttribute("name")]=j[c].getAttribute("value");}}ak(k,l,i,e);}else{al(b);if(e){e(g);}}}}}else{ae(i,true);if(e){var h=aa(i);if(h&&typeof h.SetVariable!=aS){g.success=true;g.ref=h;}e(g);}}}}}function aa(a){var d=null;
var c=ay(a);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aS){d=c;}else{var b=c.getElementsByTagName(ai)[0];if(b){d=b;}}}return d;}function Z(){return !aA&&aQ("6.0.65")&&(aJ.win||aJ.mac)&&!(aJ.wk&&aJ.wk<312);}function ak(a,i,e,c){aA=true;aR=c||null;Y={success:false,id:e};var d=ay(e);if(d){if(d.nodeName=="OBJECT"){ao=aV(d);
aF=null;}else{ao=d;aF=e;}a.id=aE;if(typeof a.width==aS||(!/%$/.test(a.width)&&parseInt(a.width,10)<310)){a.width="310";}if(typeof a.height==aS||(!/%$/.test(a.height)&&parseInt(a.height,10)<137)){a.height="137";}aq.title=aq.title.slice(0,47)+" - Flash Player Installation";var h=aJ.ie&&aJ.win?"ActiveX":"PlugIn",g="MMredirectURL="+am.location.toString().replace(/&/g,"%26")+"&MMplayerType="+h+"&MMdoctitle="+aq.title;
if(typeof i.flashvars!=aS){i.flashvars+="&"+g;}else{i.flashvars=g;}if(aJ.ie&&aJ.win&&d.readyState!=4){var b=aU("div");e+="SWFObjectNew";b.setAttribute("id",e);d.parentNode.insertBefore(b,d);d.style.display="none";(function(){if(d.readyState==4){d.parentNode.removeChild(d);}else{setTimeout(arguments.callee,10);
}})();}aH(a,i,e);}}function al(a){if(aJ.ie&&aJ.win&&a.readyState!=4){var b=aU("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aV(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}else{a.parentNode.replaceChild(aV(a),a);
}}function aV(c){var b=aU("div");if(aJ.win&&aJ.ie){b.innerHTML=c.innerHTML;}else{var e=c.getElementsByTagName(ai)[0];if(e){var a=e.childNodes;if(a){var g=a.length;for(var d=0;d<g;d++){if(!(a[d].nodeType==1&&a[d].nodeName=="PARAM")&&!(a[d].nodeType==8)){b.appendChild(a[d].cloneNode(true));}}}}}return b;
}function aH(k,m,i){var j,g=ay(i);if(aJ.wk&&aJ.wk<312){return j;}if(g){if(typeof k.id==aS){k.id=i;}if(aJ.ie&&aJ.win){var l="";for(var b in k){if(k[b]!=Object.prototype[b]){if(b.toLowerCase()=="data"){m.movie=k[b];}else{if(b.toLowerCase()=="styleclass"){l+=' class="'+k[b]+'"';}else{if(b.toLowerCase()!="classid"){l+=" "+b+'="'+k[b]+'"';
}}}}}var a="";for(var c in m){if(m[c]!=Object.prototype[c]){a+='<param name="'+c+'" value="'+m[c]+'" />';}}g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+l+">"+a+"</object>";aI[aI.length]=k.id;j=ay(k.id);}else{var h=aU(ai);h.setAttribute("type",aj);for(var d in k){if(k[d]!=Object.prototype[d]){if(d.toLowerCase()=="styleclass"){h.setAttribute("class",k[d]);
}else{if(d.toLowerCase()!="classid"){h.setAttribute(d,k[d]);}}}}for(var e in m){if(m[e]!=Object.prototype[e]&&e.toLowerCase()!="movie"){aw(h,e,m[e]);}}g.parentNode.replaceChild(h,g);j=h;}}return j;}function aw(c,a,b){var d=aU("param");d.setAttribute("name",a);d.setAttribute("value",b);c.appendChild(d);
}function ab(a){var b=ay(a);if(b&&b.nodeName=="OBJECT"){if(aJ.ie&&aJ.win){b.style.display="none";(function(){if(b.readyState==4){az(a);}else{setTimeout(arguments.callee,10);}})();}else{b.parentNode.removeChild(b);}}}function az(b){var c=ay(b);if(c){for(var a in c){if(typeof c[a]=="function"){c[a]=null;
}}c.parentNode.removeChild(c);}}function ay(b){var c=null;try{c=aq.getElementById(b);}catch(a){}return c;}function aU(a){return aq.createElement(a);}function at(b,c,a){b.attachEvent(c,a);ar[ar.length]=[b,c,a];}function aQ(b){var c=aJ.pv,a=b.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;
a[2]=parseInt(a[2],10)||0;return(c[0]>a[0]||(c[0]==a[0]&&c[1]>a[1])||(c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]))?true:false;}function aG(g,b,d,c){if(aJ.ie&&aJ.mac){return;}var h=aq.getElementsByTagName("head")[0];if(!h){return;}var a=(d&&typeof d=="string")?d:"screen";if(c){aO=null;aP=null;}if(!aO||aP!=a){var e=aU("style");
e.setAttribute("type","text/css");e.setAttribute("media",a);aO=h.appendChild(e);if(aJ.ie&&aJ.win&&typeof aq.styleSheets!=aS&&aq.styleSheets.length>0){aO=aq.styleSheets[aq.styleSheets.length-1];}aP=a;}if(aJ.ie&&aJ.win){if(aO&&typeof aO.addRule==ai){aO.addRule(g,b);}}else{if(aO&&typeof aq.createTextNode!=aS){aO.appendChild(aq.createTextNode(g+" {"+b+"}"));
}}}function ae(b,c){if(!an){return;}var a=c?"visible":"hidden";if(aN&&ay(b)){ay(b).style.visibility=a;}else{aG("#"+b,"visibility:"+a);}}function aK(b){var c=/[\\\"<>\.;]/;var a=c.exec(b)!=null;return a&&typeof encodeURIComponent!=aS?encodeURIComponent(b):b;}var ax=function(){if(aJ.ie&&aJ.win){window.attachEvent("onunload",function(){var a=ar.length;
for(var c=0;c<a;c++){ar[c][0].detachEvent(ar[c][1],ar[c][2]);}var e=aI.length;for(var b=0;b<e;b++){ab(aI[b]);}for(var d in aJ){aJ[d]=null;}aJ=null;for(var g in swfobject){swfobject[g]=null;}swfobject=null;});}}();return{registerObject:function(e,d,b,a){if(aJ.w3&&e&&d){var c={};c.id=e;c.swfVersion=d;c.expressInstall=b;
c.callbackFn=a;aM[aM.length]=c;ae(e,false);}else{if(a){a({success:false,id:e});}}},getObjectById:function(a){if(aJ.w3){return aa(a);}},embedSWF:function(g,l,c,a,j,h,i,d,b,e){var k={success:false,id:l};if(aJ.w3&&!(aJ.wk&&aJ.wk<312)&&g&&l&&c&&a&&j){ae(l,false);aL(function(){c+="";a+="";var q={};if(b&&typeof b===ai){for(var o in b){q[o]=b[o];
}}q.data=g;q.width=c;q.height=a;var n={};if(d&&typeof d===ai){for(var p in d){n[p]=d[p];}}if(i&&typeof i===ai){for(var r in i){if(typeof n.flashvars!=aS){n.flashvars+="&"+r+"="+i[r];}else{n.flashvars=r+"="+i[r];}}}if(aQ(j)){var m=aH(q,n,l);if(q.id==l){ae(l,true);}k.success=true;k.ref=m;}else{if(h&&Z()){q.data=h;
ak(q,n,l,e);return;}else{ae(l,true);}}if(e){e(k);}});}else{if(e){e(k);}}},switchOffAutoHideShow:function(){an=false;},ua:aJ,getFlashPlayerVersion:function(){return{major:aJ.pv[0],minor:aJ.pv[1],release:aJ.pv[2]};},hasFlashPlayerVersion:aQ,createSWF:function(b,c,a){if(aJ.w3){return aH(b,c,a);}else{return undefined;
}},showExpressInstall:function(c,a,d,b){if(aJ.w3&&Z()){ak(c,a,d,b);}},removeSWF:function(a){if(aJ.w3){ab(a);}},createCSS:function(a,c,b,d){if(aJ.w3){aG(a,c,b,d);}},addDomLoadEvent:aL,addLoadEvent:ah,getQueryParamValue:function(a){var c=aq.location.search||aq.location.hash;if(c){if(/\?/.test(c)){c=c.split("?")[1];
}if(a==null){return aK(c);}var b=c.split("&");for(var d=0;d<b.length;d++){if(b[d].substring(0,b[d].indexOf("="))==a){return aK(b[d].substring((b[d].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(aA){var a=ay(aE);if(a&&ao){a.parentNode.replaceChild(ao,a);if(aF){ae(aF,true);if(aJ.ie&&aJ.win){ao.style.display="block";
}}if(aR){aR(Y);}}aA=false;}}};}();Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:undefined,flashParams:undefined,url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);
this.addEvents("initialize");},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var c=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},this.flashParams),d=Ext.apply({allowedDomain:document.location.hostname,YUISwfId:this.getId(),YUIBridgeCallback:"Ext.FlashEventProxy.onEvent"},this.flashVars);
new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:undefined,d,c);this.swf=Ext.getDom(this.id);this.el=Ext.get(this.swf);},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID));
},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID));},onFlashEvent:function(b){switch(b.type){case"swfReady":this.initSwf();return;case"log":return;}b.component=this;this.fireEvent(b.type.toLowerCase().replace(/event$/,""),b);},initSwf:function(){this.onSwfReady(!!this.isInitialized);
this.isInitialized=true;this.fireEvent("initialize",this);},beforeDestroy:function(){if(this.rendered){swfobject.removeSWF(this.swf.id);}Ext.FlashComponent.superclass.beforeDestroy.call(this);},onSwfReady:Ext.emptyFn});Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf";
Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(g,d){var e=Ext.getCmp(g);if(e){e.onFlashEvent(d);}else{arguments.callee.defer(10,this,[g,d]);}}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);
if(!this.url){this.url=Ext.chart.Chart.CHART_URL;}if(this.disableCaching){this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,new Date().getTime()));}this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");
this.store=Ext.StoreMgr.lookup(this.store);},setStyle:function(d,c){this.swf.setStyle(d,Ext.encode(c));},setStyles:function(b){this.swf.setStyles(Ext.encode(b));},setSeriesStyles:function(c){this.seriesStyles=c;var d=[];Ext.each(c,function(a){d.push(Ext.encode(a));});this.swf.setSeriesStyles(d);},setCategoryNames:function(b){this.swf.setCategoryNames(b);
},setLegendRenderer:function(g,d){var e=this;d=d||e;e.removeFnProxy(e.legendFnName);e.legendFnName=e.createFnProxy(function(a){return g.call(d,a);});e.swf.setLegendLabelFunction(e.legendFnName);},setTipRenderer:function(g,d){var e=this;d=d||e;e.removeFnProxy(e.tipFnName);e.tipFnName=e.createFnProxy(function(a,c,b){var i=e.store.getAt(c);
return g.call(d,e,i,c,b);});e.swf.setDataTipFunction(e.tipFnName);},setSeries:function(b){this.series=b;this.refresh();},bindStore:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy();}else{this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);
this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this);}}if(d){d=Ext.StoreMgr.lookup(d);d.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh});
}this.store=d;if(d&&!c){this.refresh();}},onSwfReady:function(c){Ext.chart.Chart.superclass.onSwfReady.call(this,c);var d;this.swf.setType(this.type);if(this.chartStyle){this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle));}if(this.categoryNames){this.setCategoryNames(this.categoryNames);}if(this.tipRenderer){d=this.getFunctionRef(this.tipRenderer);
this.setTipRenderer(d.fn,d.scope);}if(this.legendRenderer){d=this.getFunctionRef(this.legendRenderer);this.setLegendRenderer(d.fn,d.scope);}if(!c){this.bindStore(this.store,true);}this.refresh.defer(10,this);},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this);
}this.refreshTask.delay(this.refreshBuffer);},refresh:function(){if(this.fireEvent("beforerefresh",this)!==false){var v=false;var i=[],r=this.store.data.items;for(var o=0,w=r.length;o<w;o++){i[o]=r[o].data;}var p=[];var q=0;var u=null;var j=0;if(this.series){q=this.series.length;for(j=0;j<q;j++){u=this.series[j];
var s={};for(var t in u){if(t=="style"&&u.style!==null){s.style=Ext.encode(u.style);v=true;}else{s[t]=u[t];}}p.push(s);}}if(q>0){for(j=0;j<q;j++){u=p[j];if(!u.type){u.type=this.type;}u.dataProvider=i;}}else{p.push({type:this.type,dataProvider:i});}this.swf.setDataProvider(p);if(this.seriesStyles){this.setSeriesStyles(this.seriesStyles);
}this.fireEvent("refresh",this);}},createFnProxy:function(d){var c="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);Ext.chart.Chart.proxyFunction[c]=d;return"Ext.chart.Chart.proxyFunction."+c;},removeFnProxy:function(b){if(!Ext.isEmpty(b)){b=b.replace("Ext.chart.Chart.proxyFunction.","");delete Ext.chart.Chart.proxyFunction[b];
}},getFunctionRef:function(b){if(Ext.isFunction(b)){return{fn:b,scope:this};}else{return{fn:b.fn,scope:b.scope||this};}},onDestroy:function(){if(this.refreshTask&&this.refreshTask.cancel){this.refreshTask.cancel();}Ext.chart.Chart.superclass.onDestroy.call(this);this.bindStore(null);this.removeFnProxy(this.tipFnName);
this.removeFnProxy(this.legendFnName);}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.Chart.proxyFunction={};Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.8.0/build/charts/assets/charts.swf";Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(b){Ext.chart.PieChart.superclass.onSwfReady.call(this,b);
this.setDataField(this.dataField);this.setCategoryField(this.categoryField);},setDataField:function(b){this.dataField=b;this.swf.setDataField(b);},setCategoryField:function(b){this.categoryField=b;this.swf.setCategoryField(b);}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(b){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,b);
this.labelFn=[];if(this.xField){this.setXField(this.xField);}if(this.yField){this.setYField(this.yField);}if(this.xAxis){this.setXAxis(this.xAxis);}if(this.xAxes){this.setXAxes(this.xAxes);}if(this.yAxis){this.setYAxis(this.yAxis);}if(this.yAxes){this.setYAxes(this.yAxes);}if(Ext.isDefined(this.constrainViewport)){this.swf.setConstrainViewport(this.constrainViewport);
}},setXField:function(b){this.xField=b;this.swf.setHorizontalField(b);},setYField:function(b){this.yField=b;this.swf.setVerticalField(b);},setXAxis:function(b){this.xAxis=this.createAxis("xAxis",b);this.swf.setHorizontalAxis(this.xAxis);},setXAxes:function(g){var d;for(var e=0;e<g.length;e++){d=this.createAxis("xAxis"+e,g[e]);
this.swf.setHorizontalAxis(d);}},setYAxis:function(b){this.yAxis=this.createAxis("yAxis",b);this.swf.setVerticalAxis(this.yAxis);},setYAxes:function(g){var d;for(var e=0;e<g.length;e++){d=this.createAxis("yAxis"+e,g[e]);this.swf.setVerticalAxis(d);}},createAxis:function(i,g){var k=Ext.apply({},g),h,j;
if(this[i]){j=this[i].labelFunction;this.removeFnProxy(j);this.labelFn.remove(j);}if(k.labelRenderer){h=this.getFunctionRef(k.labelRenderer);k.labelFunction=this.createFnProxy(function(a){return h.fn.call(h.scope,a);});delete k.labelRenderer;this.labelFn.push(k.labelFunction);}if(i.indexOf("xAxis")>-1&&k.position=="left"){k.position="bottom";
}return k;},onDestroy:function(){Ext.chart.CartesianChart.superclass.onDestroy.call(this);Ext.each(this.labelFn,function(b){this.removeFnProxy(b);},this);}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);
Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"});Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});
Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"});Ext.reg("stackedbarchart",Ext.chart.StackedBarChart);Ext.chart.Axis=function(b){Ext.apply(this,b);};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true,labelSpacing:2};
Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear",roundMajorUnit:true,calculateByLabelSize:true,position:"left",adjustMaximumByMajorUnit:true,adjustMinimumByMajorUnit:true});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true,stackingEnabled:false,calculateByLabelSize:true});
Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null,calculateCategoryCount:false});Ext.chart.Series=function(b){Ext.apply(this,b);};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null,showInLegend:true,axis:"primary"});
Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});
Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,enableScrolling:true,maxHeight:null,scrollIncrement:24,showSeparator:true,defaultOffsets:[0,0],plain:false,floating:true,zIndex:15000,hidden:true,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:true,defaultType:"menuitem",bufferResize:false,initComponent:function(){if(Ext.isArray(this.initialConfig)){Ext.apply(this,{items:this.initialConfig});
}this.addEvents("click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating){Ext.EventManager.onWindowResize(this.hide,this);}else{if(this.initialConfig.hidden!==false){this.hidden=false;}this.internalDefaults={hideOnClick:false};}Ext.menu.Menu.superclass.initComponent.call(this);
if(this.autoLayout){var b=this.doLayout.createDelegate(this,[]);this.on({add:b,remove:b});}},getLayoutTarget:function(){return this.ul;},onRender:function(d,e){if(!d){d=Ext.getBody();}var g={id:this.getId(),cls:"x-menu "+((this.floating)?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};
if(this.floating){this.el=new Ext.Layer({shadow:this.shadow,dh:g,constrain:false,parentEl:d,zindex:this.zIndex});}else{this.el=d.createChild(g);}Ext.menu.Menu.superclass.onRender.call(this,d,e);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this);}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");
this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});if(this.enableScrolling){this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive});}},findTargetItem:function(c){var d=c.getTarget(".x-menu-list-item",this.ul,true);
if(d&&d.menuItemId){return this.items.get(d.menuItemId);}},onClick:function(c){var d=this.findTargetItem(c);if(d){if(d.isFormField){this.setActiveItem(d);}else{if(d instanceof Ext.menu.BaseItem){if(d.menu&&this.ignoreParentClicks){d.expandMenu();c.preventDefault();}else{if(d.onClick){d.onClick(c);this.fireEvent("click",this,d,c);
}}}}}},setActiveItem:function(d,c){if(d!=this.activeItem){this.deactivateActive();if((this.activeItem=d).isFormField){d.focus();}else{d.activate(c);}}else{if(c){d.expandMenu();}}},deactivateActive:function(){var a=this.activeItem;if(a){if(a.isFormField){if(a.collapse){a.collapse();}}else{a.deactivate();
}delete this.activeItem;}},tryActivate:function(j,k){var h=this.items;for(var m=j,i=h.length;m>=0&&m<i;m+=k){var l=h.get(m);if(!l.disabled&&(l.canActivate||l.isFormField)){this.setActiveItem(l,false);return l;}}return false;},onMouseOver:function(c){var d=this.findTargetItem(c);if(d){if(d.canActivate&&!d.disabled){this.setActiveItem(d,true);
}}this.over=true;this.fireEvent("mouseover",this,c,d);},onMouseOut:function(c){var d=this.findTargetItem(c);if(d){if(d==this.activeItem&&d.shouldDeactivate&&d.shouldDeactivate(c)){this.activeItem.deactivate();delete this.activeItem;}}this.over=false;this.fireEvent("mouseout",this,c,d);},onScroll:function(h,e){if(h){h.stopEvent();
}var g=this.ul.dom,i=Ext.fly(e).is(".x-menu-scroller-top");g.scrollTop+=this.scrollIncrement*(i?-1:1);if(i?g.scrollTop<=0:g.scrollTop+this.activeMax>=g.scrollHeight){this.onScrollerOut(null,e);}},onScrollerIn:function(h,e){var g=this.ul.dom,i=Ext.fly(e).is(".x-menu-scroller-top");if(i?g.scrollTop>0:g.scrollTop+this.activeMax<g.scrollHeight){Ext.fly(e).addClass(["x-menu-item-active","x-menu-scroller-active"]);
}},onScrollerOut:function(c,d){Ext.fly(d).removeClass(["x-menu-item-active","x-menu-scroller-active"]);},show:function(d,g,e){if(this.floating){this.parentMenu=e;if(!this.el){this.render();this.doLayout(false,true);}this.showAt(this.el.getAlignToXY(d,g||this.defaultAlign,this.defaultOffsets),e);}else{Ext.menu.Menu.superclass.show.call(this);
}},showAt:function(c,d){if(this.fireEvent("beforeshow",this)!==false){this.parentMenu=d;if(!this.el){this.render();}if(this.enableScrolling){this.el.setXY(c);c[1]=this.constrainScroll(c[1]);c=[this.el.adjustForConstraints(c)[0],c[1]];}else{c=this.el.adjustForConstraints(c);}this.el.setXY(c);this.el.show();
Ext.menu.Menu.superclass.onShow.call(this);if(Ext.isIE){this.fireEvent("autosize",this);if(!Ext.isIE8){this.el.repaint();}}this.hidden=false;this.focus();this.fireEvent("show",this);}},constrainScroll:function(p){var n,l=this.ul.setHeight("auto").getHeight(),o=p,q,k,j,m;if(this.floating){k=Ext.fly(this.el.dom.parentNode);
j=k.getScroll().top;m=k.getViewSize().height;q=p-j;n=this.maxHeight?this.maxHeight:m-q;if(l>m){n=m;o=p-q;}else{if(n<l){o=p-(l-n);n=l;}}}else{n=this.getHeight();}if(this.maxHeight){n=Math.min(this.maxHeight,n);}if(l>n&&n>0){this.activeMax=n-this.scrollerHeight*2-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0);
this.ul.setHeight(this.activeMax);this.createScrollers();this.el.select(".x-menu-scroller").setDisplayed("");}else{this.ul.setHeight(l);this.el.select(".x-menu-scroller").setDisplayed("none");}this.ul.dom.scrollTop=0;return o;},createScrollers:function(){if(!this.scroller){this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})};
this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],false)}});this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],false)}});
}},onLayout:function(){if(this.isVisible()){if(this.enableScrolling){this.constrainScroll(this.el.getTop());}if(this.floating){this.el.sync();}}},focus:function(){if(!this.hidden){this.doFocus.defer(50,this);}},doFocus:function(){if(!this.hidden){this.focusEl.focus();}},hide:function(b){if(!this.isDestroyed){this.deepHide=b;
Ext.menu.Menu.superclass.hide.call(this);delete this.deepHide;}},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();if(this.el&&this.floating){this.el.hide();}var b=this.parentMenu;if(this.deepHide===true&&b){if(b.floating){b.hide(true);}else{b.deactivateActive();}}},lookupComponent:function(b){if(Ext.isString(b)){b=(b=="separator"||b=="-")?new Ext.menu.Separator():new Ext.menu.TextItem(b);
this.applyDefaults(b);}else{if(Ext.isObject(b)){b=this.getMenuItem(b);}else{if(b.tagName||b.el){b=new Ext.BoxComponent({el:b});}}}return b;},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.menu.Menu.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;if(d){if(c.events){Ext.applyIf(c.initialConfig,d);
Ext.apply(c,d);}else{Ext.applyIf(c,d);}}}return c;},getMenuItem:function(b){if(!b.isXType){if(!b.xtype&&Ext.isBoolean(b.checked)){return new Ext.menu.CheckItem(b);}return Ext.create(b,this.defaultType);}return b;},addSeparator:function(){return this.add(new Ext.menu.Separator());},addElement:function(b){return this.add(new Ext.menu.BaseItem({el:b}));
},addItem:function(b){return this.add(b);},addMenuItem:function(b){return this.add(this.getMenuItem(b));},addText:function(b){return this.add(new Ext.menu.TextItem(b));},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,this);var d=this.parentMenu;if(d&&d.activeChild==this){delete d.activeChild;
}delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable();}var c=this.scroller;if(c){Ext.destroy(c.topRepeater,c.bottomRepeater,c.top,c.bottom);}Ext.destroy(this.el,this.focusEl,this.ul);}});Ext.reg("menu",Ext.menu.Menu);
Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function d(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)){b.tryActivate(b.items.length-1,-1);}}function c(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)+1,1)){b.tryActivate(0,1);}}return{constructor:function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);
this.scope=this.menu=a;},doRelay:function(a,b){var e=a.getKey();if(this.menu.activeItem&&this.menu.activeItem.isFormField&&e!=a.TAB){return false;}if(!this.menu.activeItem&&a.isNavKeyPress()&&e!=a.SPACE&&e!=a.RETURN){this.menu.tryActivate(0,1);return false;}return b.call(this.scope||this,a,this.menu);
},tab:function(a,b){a.stopEvent();if(a.shiftKey){d(a,b);}else{c(a,b);}},up:d,down:c,right:function(a,b){if(b.activeItem){b.activeItem.expandMenu(true);}},left:function(a,b){b.hide();if(b.parentMenu&&b.parentMenu.activeItem){b.parentMenu.activeItem.activate();}},enter:function(a,b){if(b.activeItem){a.stopPropagation();
b.activeItem.onClick(a);b.fireEvent("click",this,b.activeItem);return true;}}};}());Ext.menu.MenuMgr=function(){var w,z,A={},o=false,s=new Date();function q(){w={};z=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(z.length>0){v();}});}function v(){if(z&&z.length>0){var a=z.clone();
a.each(function(b){b.hide();});return true;}return false;}function y(a){z.remove(a);if(z.length<1){Ext.getDoc().un("mousedown",r);o=false;}}function t(b){var a=z.last();s=new Date();z.add(b);if(!o){Ext.getDoc().on("mousedown",r);o=true;}if(b.parentMenu){b.getEl().setZIndex(parseInt(b.parentMenu.getEl().getStyle("z-index"),10)+3);
b.parentMenu.activeChild=b;}else{if(a&&!a.isDestroyed&&a.isVisible()){b.getEl().setZIndex(parseInt(a.getEl().getStyle("z-index"),10)+3);}}}function p(a){if(a.activeChild){a.activeChild.hide();}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer;}}function x(b){var a=b.parentMenu;
if(!a&&!b.allowOtherMenus){v();}else{if(a&&a.activeChild){a.activeChild.hide();}}}function r(a){if(s.getElapsed()>50&&z.length>0&&!a.getTarget(".x-menu")){v();}}function u(b,d){if(d){var e=A[b.group];for(var a=0,c=e.length;a<c;a++){if(e[a]!=b){e[a].setChecked(false);}}}}return{hideAll:function(){return v();
},register:function(a){if(!w){q();}w[a.id]=a;a.on({beforehide:p,hide:y,beforeshow:x,show:t});},get:function(a){if(typeof a=="string"){if(!w){return null;}return w[a];}else{if(a.events){return a;}else{if(typeof a.length=="number"){return new Ext.menu.Menu({items:a});}else{return Ext.create(a,"menu");}}}},unregister:function(a){delete w[a.id];
a.un("beforehide",p);a.un("hide",y);a.un("beforeshow",x);a.un("show",t);},registerCheckable:function(b){var a=b.group;if(a){if(!A[a]){A[a]=[];}A[a].push(b);b.on("beforecheckchange",u);}},unregisterCheckable:function(b){var a=b.group;if(a){A[a].remove(b);b.un("beforecheckchange",u);}},getCheckedItem:function(b){var a=A[b];
if(a){for(var c=0,d=a.length;c<d;c++){if(a[c].checked){return a[c];}}}return null;},setCheckedItem:function(a,d){var e=A[a];if(e){for(var b=0,c=e.length;b<c;b++){if(e[b].id==d){e[b].setChecked(true);}}}return null;}};}();Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);
this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope);}},onRender:function(c,d){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);if(this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu){this.parentMenu=this.ownerCt;}else{this.container.addClass("x-menu-list-item");
this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate});}},setHandler:function(c,d){if(this.handler){this.un("click",this.handler,this.scope);}this.on("click",this.handler=c,this.scope=d);},onClick:function(b){if(!this.disabled&&this.fireEvent("click",this,b)!==false&&(this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,b)!==false)){this.handleClick(b);
}else{b.stopEvent();}},activate:function(){if(this.disabled){return false;}var b=this.container;b.addClass(this.activeClass);this.region=b.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true;},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this);
},shouldDeactivate:function(b){return !this.region||!this.region.contains(b.getPoint());},handleClick:function(c){var d=this.parentMenu;if(this.hideOnClick){if(d.floating){d.hide.defer(this.clickHideDelay,d,[true]);}else{d.deactivateActive();}}},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});Ext.reg("menubaseitem",Ext.menu.BaseItem);
Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",constructor:function(b){if(typeof b=="string"){b={text:b};}Ext.menu.TextItem.superclass.constructor.call(this,b);},onRender:function(){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML=this.text;
this.el=b;Ext.menu.TextItem.superclass.onRender.apply(this,arguments);}});Ext.reg("menutextitem",Ext.menu.TextItem);Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,activeClass:"",onRender:function(d){var c=document.createElement("span");c.className=this.itemCls;
c.innerHTML="&#160;";this.el=c;d.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments);}});Ext.reg("menuseparator",Ext.menu.Separator);Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);
if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=this;}},onRender:function(e,a){if(!this.itemTpl){this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>");
}var g=this.getTemplateArgs();this.el=a?this.itemTpl.insertBefore(a,g,true):this.itemTpl.append(e,g,true);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");if(!this.href){this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:true});}Ext.menu.Item.superclass.onRender.call(this,e,a);
},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;"};},setText:function(b){this.text=b||"&#160;";
if(this.rendered){this.textEl.update(this.text);this.parentMenu.layout.doAutoSize();}},setIconClass:function(d){var c=this.iconCls;this.iconCls=d;if(this.rendered){this.iconEl.replaceClass(c,this.iconCls);}},beforeDestroy:function(){if(this.menu){delete this.menu.ownerCt;this.menu.destroy();}Ext.menu.Item.superclass.beforeDestroy.call(this);
},handleClick:function(b){if(!this.href){b.stopEvent();}Ext.menu.Item.superclass.handleClick.apply(this,arguments);},activate:function(b){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(b){this.expandMenu();}}return true;},shouldDeactivate:function(b){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,b)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(b.getPoint());
}return true;}return false;},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu();},expandMenu:function(b){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[b]);
}else{if(this.menu.isVisible()&&b){this.menu.tryActivate(0,1);}}}},deferExpand:function(b){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(b){this.menu.tryActivate(0,1);}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;
if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this);}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false);}else{this.menu.hide();}}});Ext.reg("menuitem",Ext.menu.Item);Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);
this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope);}Ext.menu.MenuMgr.registerCheckable(this);},onRender:function(b){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass);}if(this.checked){this.checked=false;
this.setChecked(true,true);}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments);},setChecked:function(d,e){var g=e===true;if(this.checked!=d&&(g||this.fireEvent("beforecheckchange",this,d)!==false)){if(this.container){this.container[d?"addClass":"removeClass"]("x-menu-item-checked");
}this.checked=d;if(!g){this.fireEvent("checkchange",this,d);}}},handleClick:function(b){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked);}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments);}});Ext.reg("menucheckitem",Ext.menu.CheckItem);Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);
if(this.strict=(Ext.isIE7&&Ext.isStrict)){this.on("show",this.onShow,this,{single:true,delay:20});}Ext.apply(this,{plain:true,showSeparator:false,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();
Ext.menu.DateMenu.superclass.initComponent.call(this);this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this);}},menuHide:function(){if(this.hideOnClick){this.hide(true);
}},onBeforeShow:function(){if(this.picker){this.picker.hideMonthPicker(true);}},onShow:function(){var b=this.picker.getEl();b.setWidth(b.getWidth());}});Ext.reg("datemenu",Ext.menu.DateMenu);Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:true,showSeparator:false,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});
this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this);}},menuHide:function(){if(this.hideOnClick){this.hide(true);}}});Ext.reg("colormenu",Ext.menu.ColorMenu);
Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,msgDisplay:"",hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);
this.addEvents("focus","blur","specialkey","change","invalid","valid");},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||"";},onRender:function(i,g){if(!this.el){var e=this.getAutoCreate();if(!e.name){e.name=this.name||this.id;}if(this.inputType){e.type=this.inputType;
}this.autoEl=e;}Ext.form.Field.superclass.onRender.call(this,i,g);if(this.submitValue===false){this.el.dom.removeAttribute("name");}var h=this.el.dom.type;if(h){if(h=="password"){h="text";}this.el.addClass("x-form-"+h);}if(this.readOnly){this.setReadOnly(true);}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex);
}this.el.addClass([this.fieldClass,this.cls]);},getItemCt:function(){return this.itemCt;},initValue:function(){if(this.value!==undefined){this.setValue(this.value);}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value);}}this.originalValue=this.getValue();
},isDirty:function(){if(this.disabled||!this.rendered){return false;}return String(this.getValue())!==String(this.originalValue);},setReadOnly:function(b){if(this.rendered){this.el.dom.readOnly=b;}this.readOnly=b;},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();
this.initValue();},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,b);}},reset:function(){this.setValue(this.originalValue);this.clearInvalid();},initEvents:function(){this.mon(this.el,Ext.EventManager.useKeydown?"keydown":"keypress",this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);
this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null);},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();if(this.focusClass){this.el.addClass(this.focusClass);}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this);}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();
if(this.focusClass){this.el.removeClass(this.focusClass);}this.hasFocus=false;if(this.validationEvent!==false&&(this.validateOnBlur||this.validationEvent=="blur")){this.validate();}var b=this.getValue();if(String(b)!==String(this.startValue)){this.fireEvent("change",this,b,this.startValue);}this.fireEvent("blur",this);
this.postBlur();},postBlur:Ext.emptyFn,isValid:function(e){if(this.disabled){return true;}var g=this.preventMark;this.preventMark=e===true;var d=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=g;return d;},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();
return true;}return false;},processValue:function(b){return b;},validateValue:function(c){var d=this.getErrors(c)[0];if(d==undefined){return true;}else{this.markInvalid(d);return false;}},getErrors:function(){return[];},getActiveError:function(){return this.activeError||"";},markInvalid:function(g){if(this.rendered&&!this.preventMark){g=g||this.invalidText;
var e=this.getMessageHandler();if(e){e.mark(this,g);}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var d=Ext.getDom(this.msgTarget);if(d){d.innerHTML=g;d.style.display=this.msgDisplay;}}}}this.setActiveError(g);},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);
var d=this.getMessageHandler();if(d){d.clear(this);}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var c=Ext.getDom(this.msgTarget);if(c){c.innerHTML="";c.style.display="none";}}}}this.unsetActiveError();},setActiveError:function(c,d){this.activeError=c;if(d!==true){this.fireEvent("invalid",this,c);
}},unsetActiveError:function(b){delete this.activeError;if(b!==true){this.fireEvent("valid",this);}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget];},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true);
},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(true)-20);},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0]);},getRawValue:function(){var b=this.rendered?this.el.getValue():Ext.value(this.value,"");if(b===this.emptyText){b="";}return b;},getValue:function(){if(!this.rendered){return this.value;
}var b=this.el.getValue();if(b===this.emptyText||b===undefined){b="";}return b;},setRawValue:function(b){return this.rendered?(this.el.dom.value=(Ext.isEmpty(b)?"":b)):"";},setValue:function(b){this.value=b;if(this.rendered){this.el.dom.value=(Ext.isEmpty(b)?"":b);this.validate();}return this;},append:function(b){this.setValue([this.getValue(),b].join(""));
}});Ext.form.MessageTargets={qtip:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.qtip=c;d.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable();}},clear:function(b){b.el.removeClass(b.invalidClass);b.el.dom.qtip="";}},title:{mark:function(d,c){d.el.addClass(d.invalidClass);
d.el.dom.title=c;},clear:function(b){b.el.dom.title="";}},under:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorEl){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return;}d.errorEl=e.createChild({cls:"x-form-invalid-msg"});d.on("resize",d.alignErrorEl,d);d.on("destroy",function(){Ext.destroy(this.errorEl);
},d);}d.alignErrorEl();d.errorEl.update(g);Ext.form.Field.msgFx[d.msgFx].show(d.errorEl,d);},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorEl){Ext.form.Field.msgFx[b.msgFx].hide(b.errorEl,b);}else{b.el.dom.title="";}}},side:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorIcon){var e=d.getErrorCt();
if(!e){d.el.dom.title=g;return;}d.errorIcon=e.createChild({cls:"x-form-invalid-icon"});if(d.ownerCt){d.ownerCt.on("afterlayout",d.alignErrorIcon,d);d.ownerCt.on("expand",d.alignErrorIcon,d);}d.on("resize",d.alignErrorIcon,d);d.on("destroy",function(){Ext.destroy(this.errorIcon);},d);}d.alignErrorIcon();
d.errorIcon.dom.qtip=g;d.errorIcon.dom.qclass="x-form-invalid-tip";d.errorIcon.show();},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorIcon){b.errorIcon.dom.qtip="";b.errorIcon.hide();}else{b.el.dom.title="";}}}};Ext.form.Field.msgFx={normal:{show:function(d,c){d.setDisplayed("block");},hide:function(d,c){d.setDisplayed(false).update("");
}},slide:{show:function(d,c){d.slideIn("t",{stopFx:true});},hide:function(d,c){d.slideOut("t",{stopFx:true,useDisplay:true});}},slideRight:{show:function(d,c){d.fixDisplay();d.alignTo(c.el,"tl-tr");d.slideIn("l",{stopFx:true});},hide:function(d,c){d.slideOut("l",{stopFx:true,useDisplay:true});}}};Ext.reg("field",Ext.form.Field);
Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);
this.addEvents("autosize","keydown","keyup","keypress");},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.mon(this.el,"keyup",this.filterValidation,this);}else{if(this.validationEvent!==false&&this.validationEvent!="blur"){this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay});
}}if(this.selectOnFocus||this.emptyText){this.mon(this.el,"mousedown",this.onMouseDown,this);if(this.emptyText){this.applyEmptyText();}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.mon(this.el,"keypress",this.filterKeys,this);}if(this.grow){this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50});
this.mon(this.el,"click",this.autoSize,this);}if(this.enableKeyEvents){this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress});}},onMouseDown:function(b){if(!this.hasFocus){this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:true,preventDefault:true});}},processValue:function(d){if(this.stripCharsRe){var c=d.replace(this.stripCharsRe,"");
if(c!==d){this.setRawValue(c);return c;}}return d;},filterValidation:function(b){if(!b.isNavKeyPress()){this.validationTask.delay(this.validationDelay);}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on";}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);
if(Ext.isIE){this.el.dom.unselectable="";}},onKeyUpBuffered:function(b){if(this.doAutoSize(b)){this.autoSize();}},doAutoSize:function(b){return !b.isNavKeyPress();},onKeyUp:function(b){this.fireEvent("keyup",this,b);},onKeyDown:function(b){this.fireEvent("keydown",this,b);},onKeyPress:function(b){this.fireEvent("keypress",this,b);
},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText();},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass);}},preFocus:function(){var b=this.el;if(this.emptyText){if(b.dom.value==this.emptyText){this.setRawValue("");
}b.removeClass(this.emptyClass);}if(this.selectOnFocus){b.dom.select();}},postBlur:function(){this.applyEmptyText();},filterKeys:function(d){if(d.ctrlKey){return;}var e=d.getKey();if(Ext.isGecko&&(d.isNavKeyPress()||e==d.BACKSPACE||(e==d.DELETE&&d.button==-1))){return;}var g=String.fromCharCode(d.getCharCode());
if(!Ext.isGecko&&d.isSpecialKey()&&!g){return;}if(!this.maskRe.test(g)){d.stopEvent();}},setValue:function(b){if(this.emptyText&&this.el&&!Ext.isEmpty(b)){this.el.removeClass(this.emptyClass);}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this;
},getErrors:function(g){var h=Ext.form.TextField.superclass.getErrors.apply(this,arguments);g=g||this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var i=this.validator(g);if(i!==true){h.push(i);}}if(g.length<1||g===this.emptyText){if(this.allowBlank){return h;}else{h.push(this.blankText);
}}if(!this.allowBlank&&(g.length<1||g===this.emptyText)){h.push(this.blankText);}if(g.length<this.minLength){h.push(String.format(this.minLengthText,this.minLength));}if(g.length>this.maxLength){h.push(String.format(this.maxLengthText,this.maxLength));}if(this.vtype){var e=Ext.form.VTypes;if(!e[this.vtype](g,this)){h.push(this.vtypeText||e[this.vtype+"Text"]);
}}if(this.regex&&!this.regex.test(g)){h.push(this.regexText);}return h;},selectText:function(j,i){var m=this.getRawValue();var l=false;if(m.length>0){j=j===undefined?0:j;i=i===undefined?m.length:i;var k=this.el.dom;if(k.setSelectionRange){k.setSelectionRange(j,i);}else{if(k.createTextRange){var d=k.createTextRange();
d.moveStart("character",j);d.moveEnd("character",i-m.length);d.select();}}l=Ext.isGecko||Ext.isOpera;}else{l=true;}if(l){this.focus();}},autoSize:function(){if(!this.grow||!this.rendered){return;}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el);}var i=this.el;var d=i.dom.value;
var h=document.createElement("div");h.appendChild(document.createTextNode(d));d=h.innerHTML;Ext.removeNode(h);h=null;d+="&#160;";var g=Math.min(this.growMax,Math.max(this.metrics.getWidth(d)+10,this.growMin));this.el.setWidth(g);this.fireEvent("autosize",this,g);},onDestroy:function(){if(this.validationTask){this.validationTask.cancel();
this.validationTask=null;}Ext.form.TextField.superclass.onDestroy.call(this);}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,editable:true,readOnly:false,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(e,g){Ext.form.TriggerField.superclass.onResize.call(this,e,g);
var d=this.getTriggerWidth();if(Ext.isNumber(e)){this.el.setWidth(e-d);}this.wrap.setWidth(this.el.getWidth()+d);},getTriggerWidth:function(){var b=this.trigger.getWidth();if(!this.hideTrigger&&!this.readOnly&&b===0){b=this.defaultTriggerWidth;}return b;},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0]);
}},onRender:function(c,d){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,c,d);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass});
this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth());}this.resizeEl=this.positionEl=this.wrap;},getWidth:function(){return(this.el.getWidth()+this.trigger.getWidth());},updateEditState:function(){if(this.rendered){if(this.readOnly){this.el.dom.readOnly=true;
this.el.addClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this);this.trigger.setDisplayed(false);}else{if(!this.editable){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mon(this.el,"click",this.onTriggerClick,this);}else{this.el.dom.readOnly=false;this.el.removeClass("x-trigger-noedit");
this.mun(this.el,"click",this.onTriggerClick,this);}this.trigger.setDisplayed(!this.hideTrigger);}this.onResize(this.width||this.wrap.getWidth());}},setHideTrigger:function(b){if(b!=this.hideTrigger){this.hideTrigger=b;this.updateEditState();}},setEditable:function(b){if(b!=this.editable){this.editable=b;
this.updateEditState();}},setReadOnly:function(b){if(b!=this.readOnly){this.readOnly=b;this.updateEditState();}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState();},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:true});
this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click");},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);if(this.mimicing){this.doc.un("mousedown",this.mimicBlur,this);}delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this);},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);
if(!this.mimicing){this.wrap.addClass(this.wrapFocusClass);this.mimicing=true;this.doc.on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.on("specialkey",this.checkTab,this);}}},checkTab:function(d,c){if(c.getKey()==c.TAB){this.triggerBlur();}},onBlur:Ext.emptyFn,mimicBlur:function(b){if(!this.isDestroyed&&!this.wrap.contains(b.target)&&this.validateBlur(b)){this.triggerBlur();
}},triggerBlur:function(){this.mimicing=false;this.doc.un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.un("specialkey",this.checkTab,this);}Ext.form.TriggerField.superclass.onBlur.call(this);if(this.wrap){this.wrap.removeClass(this.wrapFocusClass);}},beforeBlur:Ext.emptyFn,validateBlur:function(b){return true;
},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]};
},getTrigger:function(b){return this.triggers[b];},initTrigger:function(){var d=this.trigger.select(".x-form-trigger",true);var c=this;d.each(function(h,a,i){var b="Trigger"+(i+1);h.hide=function(){var e=c.wrap.getWidth();this.dom.style.display="none";c.el.setWidth(e-c.trigger.getWidth());this["hidden"+b]=true;
};h.show=function(){var e=c.wrap.getWidth();this.dom.style.display="";c.el.setWidth(e-c.trigger.getWidth());this["hidden"+b]=false;};if(this["hide"+b]){h.dom.style.display="none";this["hidden"+b]=true;}this.mon(h,"click",this["on"+b+"Click"],this,{preventDefault:true});h.addClassOnOver("x-form-trigger-over");
h.addClassOnClick("x-form-trigger-click");},this);this.triggers=d.elements;},getTriggerWidth:function(){var b=0;Ext.each(this.triggers,function(h,i){var g="Trigger"+(i+1),a=h.getWidth();if(a===0&&!this["hidden"+g]){b+=this.defaultTriggerWidth;}else{b+=a;}},this);return b;},onDestroy:function(){Ext.destroy(this.triggers);
Ext.form.TwinTriggerField.superclass.onDestroy.call(this);},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",enterIsSpecial:false,preventScrollbars:false,onRender:function(c,d){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"};
}Ext.form.TextArea.superclass.onRender.call(this,c,d);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden");}this.el.setHeight(this.growMin);}},onDestroy:function(){Ext.removeNode(this.textSizeEl);
Ext.form.TextArea.superclass.onDestroy.call(this);},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!=b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b);}},doAutoSize:function(b){return !b.isNavKeyPress()||b.getKey()==b.ENTER;},autoSize:function(){if(!this.grow||!this.textSizeEl){return;
}var i=this.el,g=Ext.util.Format.htmlEncode(i.dom.value),h=this.textSizeEl,e;Ext.fly(h).setWidth(this.el.getWidth());if(g.length<1){g="&#160;&#160;";}else{g+=this.growAppend;if(Ext.isIE){g=g.replace(/\n/g,"&#160;<br />");}}h.innerHTML=g;e=Math.min(this.growMax,Math.max(h.offsetHeight,this.growMin));if(e!=this.lastHeight){this.lastHeight=e;
this.el.setHeight(e);this.fireEvent("autosize",this,e);}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){var b=this.baseChars+"";
if(this.allowDecimals){b+=this.decimalSeparator;}if(this.allowNegative){b+="-";}this.maskRe=new RegExp("["+Ext.escapeRe(b)+"]");Ext.form.NumberField.superclass.initEvents.call(this);},getErrors:function(d){var g=Ext.form.NumberField.superclass.getErrors.apply(this,arguments);d=d||this.processValue(this.getRawValue());
if(d.length<1){return g;}d=String(d).replace(this.decimalSeparator,".");if(isNaN(d)){g.push(String.format(this.nanText,d));}var e=this.parseValue(d);if(e<this.minValue){g.push(String.format(this.minText,this.minValue));}if(e>this.maxValue){g.push(String.format(this.maxText,this.maxValue));}return g;},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)));
},setValue:function(b){b=Ext.isNumber(b)?b:parseFloat(String(b).replace(this.decimalSeparator,"."));b=isNaN(b)?"":String(b).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,b);},setMinValue:function(b){this.minValue=Ext.num(b,Number.NEGATIVE_INFINITY);},setMaxValue:function(b){this.maxValue=Ext.num(b,Number.MAX_VALUE);
},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?"":b;},fixPrecision:function(c){var d=isNaN(c);if(!this.allowDecimals||this.decimalPrecision==-1||d||!c){return d?"":c;}return parseFloat(parseFloat(c).toFixed(this.decimalPrecision));},beforeBlur:function(){var b=this.parseValue(this.getRawValue());
if(!Ext.isEmpty(b)){this.setValue(this.fixPrecision(b));}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(d,g){if(/[gGhH]/.test(g.replace(/(\\.)/g,""))){return Date.parseDate(d,g);
}else{var e=Date.parseDate(d+" "+this.initTime,g+" "+this.initTimeFormat);if(e){return e.clearTime();}}},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(Ext.isString(this.minValue)){this.minValue=this.parseDate(this.minValue);}if(Ext.isString(this.maxValue)){this.maxValue=this.parseDate(this.maxValue);
}this.disabledDatesRE=null;this.initDisabledDays();},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(b){this.onTriggerClick();},scope:this,forceKeyDown:true});},initDisabledDays:function(){if(this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";
Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":d[b];if(b!=e){g+="|";}},this);this.disabledDatesRE=new RegExp(g+")");}},setDisabledDates:function(b){this.disabledDates=b;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE);
}},setDisabledDays:function(b){this.disabledDays=b;if(this.menu){this.menu.picker.setDisabledDays(b);}},setMinValue:function(b){this.minValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMinDate(this.minValue);}},setMaxValue:function(b){this.maxValue=(Ext.isString(b)?this.parseDate(b):b);
if(this.menu){this.menu.picker.setMaxDate(this.maxValue);}},getErrors:function(i){var n=Ext.form.DateField.superclass.getErrors.apply(this,arguments);i=this.formatDate(i||this.processValue(this.getRawValue()));if(i.length<1){return n;}var k=i;i=this.parseDate(i);if(!i){n.push(String.format(this.invalidText,k,this.format));
return n;}var o=i.getTime();if(this.minValue&&o<this.minValue.getTime()){n.push(String.format(this.minText,this.formatDate(this.minValue)));}if(this.maxValue&&o>this.maxValue.getTime()){n.push(String.format(this.maxText,this.formatDate(this.maxValue)));}if(this.disabledDays){var m=i.getDay();for(var l=0;
l<this.disabledDays.length;l++){if(m===this.disabledDays[l]){n.push(this.disabledDaysText);break;}}}var j=this.formatDate(i);if(this.disabledDatesRE&&this.disabledDatesRE.test(j)){n.push(String.format(this.disabledDatesText,j));}return n;},validateBlur:function(){return !this.menu||!this.menu.isVisible();
},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||"";},setValue:function(b){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)));},parseDate:function(j){if(!j||Ext.isDate(j)){return j;}var h=this.safeParse(j,this.format),m=this.altFormats,k=this.altFormatsArray;
if(!h&&m){k=k||m.split("|");for(var l=0,i=k.length;l<i&&!h;l++){h=this.safeParse(j,k[l]);}}return h;},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this);},formatDate:function(b){return Ext.isDate(b)?b.dateFormat(this.format):b;},onTriggerClick:function(){if(this.disabled){return;
}if(this.menu==null){this.menu=new Ext.menu.DateMenu({hideOnClick:false,focusOnSelect:false});}this.onFocus();Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});
this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");this.menuEvents("on");},menuEvents:function(b){this.menu[b]("select",this.onSelect,this);this.menu[b]("hide",this.onMenuHide,this);this.menu[b]("show",this.onFocus,this);},onSelect:function(d,c){this.setValue(c);this.fireEvent("select",this,c);
this.menu.hide();},onMenuHide:function(){this.focus(false,60);this.menuEvents("un");},beforeBlur:function(){var b=this.parseDate(this.getRawValue());if(b){this.setValue(b);}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:Ext.emptyFn,isValid:function(){return true;
},validate:function(){return true;},getRawValue:function(){var b=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(b===this.emptyText){b="";}if(this.htmlEncode){b=Ext.util.Format.htmlDecode(b);}return b;},getValue:function(){return this.getRawValue();},getName:function(){return this.name;
},setRawValue:function(b){if(this.htmlEncode){b=Ext.util.Format.htmlEncode(b);}return this.rendered?(this.el.dom.innerHTML=(Ext.isEmpty(b)?"":b)):(this.value=b);},setValue:function(b){this.setRawValue(b);return this;}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:true,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,clearFilterOnReset:true,submitValue:undefined,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);
this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var d=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=d.name;}if(!this.store){this.mode="local";var l=[],k=d.options;for(var m=0,n=k.length;m<n;m++){var o=k[m],i=(o.hasAttribute?o.hasAttribute("value"):o.getAttributeNode("value").specified)?o.value:o.text;
if(o.selected&&Ext.isEmpty(this.value,true)){this.value=i;}l.push([i,o.text]);}this.store=new Ext.data.ArrayStore({id:0,fields:["value","text"],data:l,autoDestroy:true});this.valueField="value";this.displayField="text";}d.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(d,this.autoCreate||this.defaultAutoCreate);
this.render(this.el.parentNode,d);}Ext.removeNode(d);}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store);if(this.store.autoCreated){this.displayField=this.valueField="field1";if(!this.store.expandData){this.displayField="field2";}this.mode="local";}}}this.selectedIndex=-1;if(this.mode=="local"){if(!Ext.isDefined(this.initialConfig.queryDelay)){this.queryDelay=10;
}if(!Ext.isDefined(this.initialConfig.minChars)){this.minChars=0;}}},onRender:function(c,d){if(this.hiddenName&&!Ext.isDefined(this.submitValue)){this.submitValue=false;}Ext.form.ComboBox.superclass.onRender.call(this,c,d);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||this.hiddenName)},"before",true);
}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off");}if(!this.lazyInit){this.initList();}else{this.on("focus",this.initList,this,{single:true});}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,"");
}},getParentZIndex:function(){var b;if(this.ownerCt){this.findParentBy(function(a){b=parseInt(a.getPositionEl().getStyle("z-index"),10);return !!b;});}return b;},initList:function(){if(!this.list){var g="x-combo-list",h=Ext.getDom(this.getListParent()||Ext.getBody()),e=parseInt(Ext.fly(h).getStyle("z-index"),10);
if(!e){e=this.getParentZIndex();}this.list=new Ext.Layer({parentEl:h,shadow:this.shadow,cls:[g,this.listClass].join(" "),constrain:false,zindex:(e||12000)+5});var i=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(i,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;
if(this.syncFont!==false){this.list.setStyle("font-size",this.el.getStyle("font-size"));}if(this.title){this.header=this.list.createChild({cls:g+"-hd",html:this.title});this.assetHeight+=this.header.getHeight();}this.innerList=this.list.createChild({cls:g+"-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);
this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(i-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:g+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight();
}if(!this.tpl){this.tpl='<tpl for="."><div class="'+g+'-item">{'+this.displayField+"}</div></tpl>";}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+g+"-item",emptyText:this.listEmptyText,deferEmptyText:false});
this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.mon(this.resizer,"resize",function(a,c,b){this.maxHeight=b-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;
this.listWidth=c;this.innerList.setWidth(c-this.list.getFrameWidth("lr"));this.restrictHeight();},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px");}}},getListParent:function(){return document.body;},getStore:function(){return this.store;},bindStore:function(d,c){if(this.store&&!c){if(this.store!==d&&this.store.autoDestroy){this.store.destroy();
}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.collapse,this);}if(!d){this.store=null;if(this.view){this.view.bindStore(null);}if(this.pageTb){this.pageTb.bindStore(null);}}}if(d){if(!c){this.lastQuery=null;if(this.pageTb){this.pageTb.bindStore(d);
}}this.store=Ext.StoreMgr.lookup(d);this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse});if(this.view){this.view.bindStore(d);}}},reset:function(){Ext.form.ComboBox.superclass.reset.call(this);if(this.clearFilterOnReset&&this.mode=="local"){this.store.clearFilter();
}},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(b){this.inKeyMode=true;this.selectPrev();},down:function(b){if(!this.isExpanded()){this.onTriggerClick();}else{this.inKeyMode=true;this.selectNext();}},enter:function(b){this.onViewClick();
},esc:function(b){this.collapse();},tab:function(b){if(this.forceSelection===true){this.collapse();}else{this.onViewClick(false);}return true;},scope:this,doRelay:function(i,e,g){if(g=="down"||this.scope.isExpanded()){var h=Ext.KeyNav.prototype.doRelay.apply(this,arguments);if(!Ext.isIE&&Ext.EventManager.useKeydown){this.scope.fireKey(i);
}return h;}return true;},forceKeyDown:true,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this);}if(!this.enableKeyEvents){this.mon(this.el,"keyup",this.onKeyUp,this);
}},onDestroy:function(){if(this.dqTask){this.dqTask.cancel();this.dqTask=null;}this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this);},fireKey:function(b){if(!this.isExpanded()){Ext.form.ComboBox.superclass.fireKey.call(this,b);
}},onResize:function(d,c){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(!isNaN(d)&&this.isVisible()&&this.list){this.doResize(d);}else{this.bufferSize=d;}},doResize:function(d){if(!Ext.isDefined(this.listWidth)){var c=Math.max(d,this.minListWidth);this.list.setWidth(c);this.innerList.setWidth(c-this.list.getFrameWidth("lr"));
}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false;}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true;}},onBeforeLoad:function(){if(!this.hasFocus){return;
}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1;},onLoad:function(){if(!this.hasFocus){return;}if(this.store.getCount()>0||this.listEmptyText){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select();
}if(this.autoSelect!==false&&!this.selectByValue(this.value,true)){this.select(0,true);}}else{if(this.autoSelect!==false){this.selectNext();}if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay);}}}else{this.collapse();
}},onTypeAhead:function(){if(this.store.getCount()>0){var e=this.store.getAt(0);var i=e.data[this.displayField];var g=i.length;var h=this.getRawValue().length;if(h!=g){this.setRawValue(i);this.selectText(h,i.length);}}},assertValue:function(){var c=this.getRawValue(),d=this.findRecord(this.displayField,c);
if(!d&&this.forceSelection){if(c.length>0&&c!=this.emptyText){this.el.dom.value=Ext.value(this.lastSelectionText,"");this.applyEmptyText();}else{this.clearValue();}}else{if(d){if(c==d.get(this.displayField)&&this.value==d.get(this.valueField)){return;}c=d.get(this.valueField||this.displayField);}this.setValue(c);
}},onSelect:function(d,c){if(this.fireEvent("beforeselect",this,d,c)!==false){this.setValue(d.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,d,c);}},getName:function(){var b=this.hiddenField;return b&&b.name?b.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this);
},getValue:function(){if(this.valueField){return Ext.isDefined(this.value)?this.value:"";}else{return Ext.form.ComboBox.superclass.getValue.call(this);}},clearValue:function(){if(this.hiddenField){this.hiddenField.value="";}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value="";
},setValue:function(e){var g=e;if(this.valueField){var d=this.findRecord(this.valueField,e);if(d){g=d.data[this.displayField];}else{if(Ext.isDefined(this.valueNotFoundText)){g=this.valueNotFoundText;}}}this.lastSelectionText=g;if(this.hiddenField){this.hiddenField.value=Ext.value(e,"");}Ext.form.ComboBox.superclass.setValue.call(this,g);
this.value=e;return this;},findRecord:function(g,d){var e;if(this.store.getCount()>0){this.store.each(function(a){if(a.data[g]==d){e=a;return false;}});}return e;},onViewMove:function(c,d){this.inKeyMode=false;},onViewOver:function(h,e){if(this.inKeyMode){return;}var i=this.view.findItemFromChild(e);
if(i){var g=this.view.indexOf(i);this.select(g,false);}},onViewClick:function(e){var g=this.view.getSelectedIndexes()[0],i=this.store,h=i.getAt(g);if(h){this.onSelect(h,g);}else{this.collapse();}if(e!==false){this.el.focus();}},restrictHeight:function(){this.innerList.dom.style.height="";var h=this.innerList.dom,k=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,m=Math.max(h.clientHeight,h.offsetHeight,h.scrollHeight),i=this.getPosition()[1]-Ext.getBody().getScroll().top,j=Ext.lib.Dom.getViewHeight()-i-this.getSize().height,l=Math.max(i,j,this.minHeight||0)-this.list.shadowOffset-k-5;
m=Math.min(m,l,this.maxHeight);this.innerList.setHeight(m);this.list.beginUpdate();this.list.setHeight(m+k);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate();},isExpanded:function(){return this.list&&this.list.isVisible();},selectByValue:function(e,g){if(!Ext.isEmpty(e,true)){var d=this.findRecord(this.valueField||this.displayField,e);
if(d){this.select(this.store.indexOf(d),g);return true;}}return false;},select:function(e,g){this.selectedIndex=e;this.view.select(e);if(g!==false){var d=this.view.getNode(e);if(d){this.innerList.scrollChildIntoView(d,false);}}},selectNext:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0);
}else{if(this.selectedIndex<b-1){this.select(this.selectedIndex+1);}}}},selectPrev:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0);}else{if(this.selectedIndex!==0){this.select(this.selectedIndex-1);}}}},onKeyUp:function(c){var d=c.getKey();if(this.editable!==false&&this.readOnly!==true&&(d==c.BACKSPACE||!c.isSpecialKey())){this.lastKey=d;
this.dqTask.delay(this.queryDelay);}Ext.form.ComboBox.superclass.onKeyUp.call(this,c);},validateBlur:function(){return !this.list||!this.list.isVisible();},initQuery:function(){this.doQuery(this.getRawValue());},beforeBlur:function(){this.assertValue();},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);
this.collapse();this.inKeyMode=false;},doQuery:function(g,d){g=Ext.isEmpty(g)?"":g;var e={query:g,forceAll:d,combo:this,cancel:false};if(this.fireEvent("beforequery",e)===false||e.cancel){return false;}g=e.query;d=e.forceAll;if(d===true||(g.length>=this.minChars)){if(this.lastQuery!==g){this.lastQuery=g;
if(this.mode=="local"){this.selectedIndex=-1;if(d){this.store.clearFilter();}else{this.store.filter(this.displayField,g);}this.onLoad();}else{this.store.baseParams[this.queryParam]=g;this.store.load({params:this.getParams(g)});this.expand();}}else{this.selectedIndex=-1;this.onLoad();}}},getParams:function(d){var c={};
if(this.pageSize){c.start=0;c.limit=this.pageSize;}return c;},collapse:function(){if(!this.isExpanded()){return;}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this);},collapseIf:function(b){if(!this.isDestroyed&&!b.within(this.wrap)&&!b.within(this.list)){this.collapse();
}},expand:function(){if(this.isExpanded()||!this.hasFocus){return;}if(this.title||this.pageSize){this.assetHeight=0;if(this.title){this.assetHeight+=this.header.getHeight();}if(this.pageSize){this.assetHeight+=this.footer.getHeight();}}if(this.bufferSize){this.doResize(this.bufferSize);delete this.bufferSize;
}this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));var c=Ext.getDom(this.getListParent()||Ext.getBody()),d=parseInt(Ext.fly(c).getStyle("z-index"),10);if(!d){d=this.getParentZIndex();}if(d){this.list.setZIndex(d+5);}this.list.show();if(Ext.isGecko2){this.innerList.setOverflow("auto");
}this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this);},onTriggerClick:function(){if(this.readOnly||this.disabled){return;}if(this.isExpanded()){this.collapse();this.el.focus();}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true);
}else{this.doQuery(this.getRawValue());}this.el.focus();}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);
this.addEvents("check");},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c");}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick});
},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(c,d){Ext.form.Checkbox.superclass.onRender.call(this,c,d);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue;}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel});
}if(this.checked){this.setValue(true);}else{this.checked=this.el.dom.checked;}if(Ext.isIE){this.wrap.repaint();}this.resizeEl=this.positionEl=this.wrap;},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this);},initValue:function(){this.originalValue=this.getValue();
},getValue:function(){if(this.rendered){return this.el.dom.checked;}return this.checked;},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked);}},setValue:function(d){var c=this.checked;this.checked=(d===true||d==="true"||d=="1"||String(d).toLowerCase()=="on");if(this.rendered){this.el.dom.checked=this.checked;
this.el.dom.defaultChecked=this.checked;}if(c!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked);}}return this;}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");
this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this);},onRender:function(i,t){if(!this.el){var v={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:i,bufferResize:false};var E={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:true,anchor:"100%"}};
if(this.items[0].items){Ext.apply(v,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var z=0,y=this.items.length;z<y;z++){Ext.applyIf(this.items[z],E);}}else{var B,x=[];if(typeof this.columns=="string"){this.columns=this.items.length;}if(!Ext.isArray(this.columns)){var A=[];
for(var z=0;z<this.columns;z++){A.push((100/this.columns)*0.01);}this.columns=A;}B=this.columns.length;for(var z=0;z<B;z++){var w=Ext.apply({items:[]},E);w[this.columns[z]<=1?"columnWidth":"width"]=this.columns[z];if(this.defaults){w.defaults=Ext.apply(w.defaults||{},this.defaults);}x.push(w);}if(this.vertical){var u=Math.ceil(this.items.length/B),D=0;
for(var z=0,y=this.items.length;z<y;z++){if(z>0&&z%u==0){D++;}if(this.items[z].fieldLabel){this.items[z].hideLabel=false;}x[D].items.push(this.items[z]);}}else{for(var z=0,y=this.items.length;z<y;z++){var l=z%B;if(this.items[z].fieldLabel){this.items[z].hideLabel=false;}x[l].items.push(this.items[z]);
}}Ext.apply(v,{layoutConfig:{columns:B},items:x});}this.panel=new Ext.Container(v);this.panel.ownerCt=this;this.el=this.panel.getEl();if(this.forId&&this.itemCls){var C=this.el.up(this.itemCls).child("label",true);if(C){C.setAttribute("htmlFor",this.forId);}}var s=this.panel.findBy(function(a){return a.isFormField;
},this);this.items=new Ext.util.MixedCollection();this.items.addAll(s);}Ext.form.CheckboxGroup.superclass.onRender.call(this,i,t);},initValue:function(){if(this.value){this.setValue.apply(this,this.buffered?this.value:[this.value]);delete this.buffered;delete this.value;}},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);
this.eachItem(function(b){b.on("check",this.fireChecked,this);b.inGroup=true;});},doLayout:function(){if(this.rendered){this.panel.forceLayout=this.ownerCt.forceLayout;this.panel.doLayout();}},fireChecked:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a);}});this.fireEvent("change",this,b);
},getErrors:function(){var c=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var d=true;this.eachItem(function(a){if(a.checked){return(d=false);}});if(d){c.push(this.blankText);}}return c;},isDirty:function(){if(this.disabled||!this.rendered){return false;}var b=false;
this.eachItem(function(a){if(a.isDirty()){b=true;return false;}});return b;},setReadOnly:function(b){if(this.rendered){this.eachItem(function(a){a.setReadOnly(b);});}this.readOnly=b;},onDisable:function(){this.eachItem(function(b){b.disable();});},onEnable:function(){this.eachItem(function(b){b.enable();
});},onResize:function(d,c){this.panel.setSize(d,c);this.panel.doLayout();},reset:function(){if(this.originalValue){this.eachItem(function(b){if(b.setValue){b.setValue(false);b.originalValue=b.getValue();}});this.resetOriginal=true;this.setValue(this.originalValue);delete this.resetOriginal;}else{this.eachItem(function(b){if(b.reset){b.reset();
}});}(function(){this.clearInvalid();}).defer(50,this);},setValue:function(){if(this.rendered){this.onSetValue.apply(this,arguments);}else{this.buffered=true;this.value=arguments;}return this;},onSetValue:function(h,i){if(arguments.length==1){if(Ext.isArray(h)){Ext.each(h,function(a,c){if(Ext.isObject(a)&&a.setValue){a.setValue(true);
if(this.resetOriginal===true){a.originalValue=a.getValue();}}else{var b=this.items.itemAt(c);if(b){b.setValue(a);}}},this);}else{if(Ext.isObject(h)){for(var g in h){var e=this.getBox(g);if(e){e.setValue(h[g]);}}}else{this.setValueForItem(h);}}}else{var e=this.getBox(h);if(e){e.setValue(i);}}},beforeDestroy:function(){Ext.destroy(this.panel);
Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this);},setValueForItem:function(b){b=String(b).split(",");this.eachItem(function(a){if(b.indexOf(a.inputValue)>-1){a.setValue(true);}});},getBox:function(c){var d=null;this.eachItem(function(a){if(c==a||a.dataIndex==c||a.id==c||a.getName()==c){d=a;
return false;}});return d;},getValue:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a);}});return b;},eachItem:function(c,d){if(this.items&&this.items.each){this.items.each(c,d||this);}},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);
Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:true,isComposite:true,combineErrors:true,initComponent:function(){var k=[],j=this.items,g;for(var h=0,i=j.length;h<i;h++){g=j[h];k.push(g.fieldLabel);Ext.apply(g,this.defaults);if(!(h==i-1&&this.skipLastItemMargin)){Ext.applyIf(g,{margins:this.defaultMargins});
}}this.fieldLabel=this.fieldLabel||this.buildLabel(k);this.fieldErrors=new Ext.util.MixedCollection(true,function(a){return a.field;});this.fieldErrors.on({scope:this,add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments);
},onRender:function(g,i){if(!this.el){var k=this.innerCt=new Ext.Container({layout:"hbox",renderTo:g,items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0"});this.el=k.getEl();var j=k.findBy(function(a){return a.isFormField;},this);this.items=new Ext.util.MixedCollection();this.items.addAll(j);
if(this.combineErrors){this.eachItem(function(a){Ext.apply(a,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[a],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[a],0)});});}var h=this.el.parent().parent().child("label",true);if(h){h.setAttribute("for",this.items.items[0].id);}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments);
},onFieldMarkInvalid:function(h,i){var e=h.getName(),g={field:e,error:i};this.fieldErrors.replace(e,g);h.el.addClass(h.invalidClass);},onFieldClearInvalid:function(b){this.fieldErrors.removeKey(b.getName());b.el.removeClass(b.invalidClass);},updateInvalidMark:function(){var d=Ext.isIE6&&Ext.isStrict;
if(this.fieldErrors.length==0){this.clearInvalid();if(d){this.clearInvalid.defer(50,this);}}else{var c=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(c);if(d){this.markInvalid(c);}}},validateValue:function(){var b=true;this.eachItem(function(a){if(!a.isValid()){b=false;
}});return b;},buildCombinedErrorMessage:function(k){var g=[],i;for(var h=0,j=k.length;h<j;h++){i=k[h];g.push(String.format("{0}: {1}",i.field,i.error));}return g.join("<br />");},sortErrors:function(){var b=this.items;this.fieldErrors.sort("ASC",function(h,j){var k=function(c){return function(d){return d.getName()==c;
};};var a=b.findIndexBy(k(h.field)),i=b.findIndexBy(k(j.field));return a<i?-1:1;});},reset:function(){this.eachItem(function(b){b.reset();});(function(){this.clearInvalid();}).defer(50,this);},clearInvalidChildren:function(){this.eachItem(function(b){b.clearInvalid();});},buildLabel:function(b){return b.join(", ");
},isDirty:function(){if(this.disabled||!this.rendered){return false;}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false;}});return b;},eachItem:function(c,d){if(this.items&&this.items.each){this.items.each(c,d||this);}},onResize:function(k,h,j,g){var i=this.innerCt;if(this.rendered&&i.rendered){i.setSize(k,h);
}Ext.form.CompositeField.superclass.onResize.apply(this,arguments);},doLayout:function(g,d){if(this.rendered){var e=this.innerCt;e.forceLayout=this.ownerCt.forceLayout;e.doLayout(g,d);}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this);},setReadOnly:function(b){b=b||true;
if(this.rendered){this.eachItem(function(a){a.setReadOnly(b);});}this.readOnly=b;},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout();},onDisable:function(){this.eachItem(function(b){b.disable();});},onEnable:function(){this.eachItem(function(b){b.enable();});}});Ext.reg("compositefield",Ext.form.CompositeField);
Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var d=this.el.up("form")||Ext.getBody();var c=d.child("input[name="+this.el.dom.name+"]:checked",true);return c?c.value:null;},onClick:function(){if(this.el.dom.checked!=this.checked){var b=this.getCheckEl().select("input[name="+this.el.dom.name+"]");
b.each(function(a){if(a.dom.id==this.id){this.setValue(true);}else{Ext.getCmp(a.dom.id).setValue(false);}},this);}},setValue:function(d){if(typeof d=="boolean"){Ext.form.Radio.superclass.setValue.call(this,d);}else{if(this.rendered){var c=this.getCheckEl().child("input[name="+this.el.dom.name+"][value="+d+"]",true);
if(c){Ext.getCmp(c.id).setValue(true);}}}return this;},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group");}return this.el.up("form")||Ext.getBody();}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var b=null;
this.eachItem(function(a){if(a.checked){b=a;return false;}});return b;},onSetValue:function(g,d){if(arguments.length>1){var e=this.getBox(g);if(e){e.setValue(d);if(e.checked){this.eachItem(function(a){if(a!==e){a.setValue(false);}});}}}else{this.setValueForItem(g);}},setValueForItem:function(b){b=String(b).split(",")[0];
this.eachItem(function(a){a.setValue(b==a.inputValue);});},fireChecked:function(){if(!this.checkTask){this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this);}this.checkTask.delay(10);},bufferChecked:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false;}});this.fireEvent("change",this,b);
},onDestroy:function(){if(this.checkTask){this.checkTask.cancel();this.checkTask=null;}Ext.form.RadioGroup.superclass.onDestroy.call(this);}});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments);
},initEvents:function(){this.originalValue=this.getValue();},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(c,d){Ext.apply(this,d);
if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/);}this.items=new Ext.util.MixedCollection(false,function(a){return a.getItemId();});this.addEvents("beforeaction","actionfailed","actioncomplete");if(c){this.initEl(c);}Ext.form.BasicForm.superclass.constructor.call(this);
},timeout:30,paramOrder:undefined,paramsAsHash:false,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:false,initEl:function(b){this.el=Ext.get(b);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this);}this.el.addClass("x-form");},getEl:function(){return this.el;
},onSubmit:function(b){b.stopEvent();},destroy:function(b){if(b!==true){this.items.each(function(a){Ext.destroy(a);});Ext.destroy(this.el);}this.items.clear();this.purgeListeners();},isValid:function(){var b=true;this.items.each(function(a){if(!a.validate()){b=false;}});return b;},isDirty:function(){var b=false;
this.items.each(function(a){if(a.isDirty()){b=true;return false;}});return b;},doAction:function(c,d){if(Ext.isString(c)){c=new Ext.form.Action.ACTION_TYPES[c](this,d);}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);c.run.defer(100,c);}return this;},submit:function(e){e=e||{};
if(this.standardSubmit){var g=e.clientValidation===false||this.isValid();if(g){var i=this.el.dom;if(this.url&&Ext.isEmpty(i.action)){i.action=this.url;}i.submit();}return g;}var h=String.format("{0}submit",this.api?"direct":"");this.doAction(h,e);return this;},load:function(d){var c=String.format("{0}load",this.api?"direct":"");
this.doAction(c,d);return this;},updateRecord:function(c){c.beginEdit();var d=c.fields;d.each(function(b){var a=this.findField(b.name);if(a){c.set(b.name,a.getValue());}},this);c.endEdit();return this;},loadRecord:function(b){this.setValues(b.data);return this;},beforeAction:function(d){this.items.each(function(a){if(a.isFormField&&a.syncValue){a.syncValue();
}});var c=d.options;if(c.waitMsg){if(this.waitMsgTarget===true){this.el.mask(c.waitMsg,"x-mask-loading");}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(c.waitMsg,"x-mask-loading");}else{Ext.MessageBox.wait(c.waitMsg,c.waitTitle||this.waitTitle);}}}},afterAction:function(e,g){this.activeAction=null;
var d=e.options;if(d.waitMsg){if(this.waitMsgTarget===true){this.el.unmask();}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask();}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide();}}}if(g){if(d.reset){this.reset();}Ext.callback(d.success,d.scope,[this,e]);this.fireEvent("actioncomplete",this,e);
}else{Ext.callback(d.failure,d.scope,[this,e]);this.fireEvent("actionfailed",this,e);}},findField:function(g){var d=this.items.get(g);if(!Ext.isObject(d)){var e=function(a){if(a.isFormField){if(a.dataIndex==g||a.id==g||a.getName()==g){d=a;return false;}else{if(a.isComposite&&a.rendered){return a.items.each(e);
}}}};this.items.each(e);}return d||null;},markInvalid:function(n){if(Ext.isArray(n)){for(var k=0,m=n.length;k<m;k++){var l=n[k];var j=this.findField(l.id);if(j){j.markInvalid(l.msg);}}}else{var i,o;for(o in n){if(!Ext.isFunction(n[o])&&(i=this.findField(o))){i.markInvalid(n[o]);}}}return this;},setValues:function(k){if(Ext.isArray(k)){for(var j=0,m=k.length;
j<m;j++){var l=k[j];var i=this.findField(l.id);if(i){i.setValue(l.value);if(this.trackResetOnLoad){i.originalValue=i.getValue();}}}}else{var o,n;for(n in k){if(!Ext.isFunction(k[n])&&(o=this.findField(n))){o.setValue(k[n]);if(this.trackResetOnLoad){o.originalValue=o.getValue();}}}}return this;},getValues:function(c){var d=Ext.lib.Ajax.serializeForm(this.el.dom);
if(c===true){return d;}return Ext.urlDecode(d);},getFieldValues:function(j){var g={},k,i,h;this.items.each(function(a){if(j!==true||a.isDirty()){k=a.getName();i=g[k];h=a.getValue();if(Ext.isDefined(i)){if(Ext.isArray(i)){g[k].push(h);}else{g[k]=[i,h];}}else{g[k]=h;}}});return g;},clearInvalid:function(){this.items.each(function(b){b.clearInvalid();
});return this;},reset:function(){this.items.each(function(b){b.reset();});return this;},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this;},remove:function(b){this.items.remove(b);return this;},cleanDestroyed:function(){this.items.filterBy(function(b){return !!b.isDestroyed;
}).each(this.remove,this);},render:function(){this.items.each(function(b){if(b.isFormField&&!b.rendered&&document.getElementById(b.id)){b.applyToMarkup(b.id);}});return this;},applyToFields:function(b){this.items.each(function(a){Ext.apply(a,b);});return this;},applyIfToFields:function(b){this.items.each(function(a){Ext.applyIf(a,b);
});return this;},callFieldMethod:function(c,d){d=d||[];this.items.each(function(a){if(Ext.isFunction(a[c])){a[c].apply(a,d);}});return this;}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();
Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data";}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"]);
},createForm:function(){var b=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,b);},initFields:function(){var g=this.form;var e=this;var d=function(a){if(e.isField(a)){g.add(a);}else{if(a.findBy&&a!=e){e.applySettings(a);if(a.items&&a.items.each){a.items.each(d,this);
}}}};this.items.each(d,this);},applySettings:function(c){var d=c.ownerCt;Ext.applyIf(c,{labelAlign:d.labelAlign,labelWidth:d.labelWidth,itemCls:d.itemCls});},getLayoutTarget:function(){return this.form.el;},getForm:function(){return this.form;},onRender:function(c,d){this.initFields();Ext.FormPanel.superclass.onRender.call(this,c,d);
this.form.initEl(this.body);},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(true);Ext.FormPanel.superclass.beforeDestroy.call(this);},isField:function(b){return !!b.setValue&&!!b.getValue&&!!b.markInvalid&&!!b.clearInvalid;},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);
this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});if(this.monitorValid){this.startMonitoring();}},onAdd:function(b){Ext.FormPanel.superclass.onAdd.call(this,b);this.processAdd(b);},onAddEvent:function(d,c){if(d!==this){this.processAdd(c);}},processAdd:function(b){if(this.isField(b)){this.form.add(b);
}else{if(b.findBy){this.applySettings(b);this.form.add.apply(this.form,b.findBy(this.isField));}}},onRemove:function(b){Ext.FormPanel.superclass.onRemove.call(this,b);this.processRemove(b);},onRemoveEvent:function(d,c){if(d!==this){this.processRemove(c);}},processRemove:function(b){if(!this.destroying){if(this.isField(b)){this.form.remove(b);
}else{if(b.findBy){Ext.each(b.findBy(this.isField),this.form.remove,this.form);if(b.isDestroyed){this.form.cleanDestroyed();}}}}},startMonitoring:function(){if(!this.validTask){this.validTask=new Ext.util.TaskRunner();this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this});
}},stopMonitoring:function(){if(this.validTask){this.validTask.stopAll();this.validTask=null;}},load:function(){this.form.load.apply(this.form,arguments);},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable();});}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);
if(this.form){this.form.items.each(function(){this.enable();});}},bindHandler:function(){var k=true;this.form.items.each(function(a){if(!a.isValid(true)){k=false;return false;}});if(this.fbar){var i=this.fbar.items.items;for(var g=0,j=i.length;g<j;g++){var h=i[g];if(h.formBind===true&&h.disabled===k){h.setDisabled(!k);
}}}this.fireEvent("clientvalidation",this,k);}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(d,e){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;
if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header";}}Ext.form.FieldSet.superclass.onRender.call(this,d,e);if(this.checkboxToggle){var g=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};
this.checkbox=this.header.insertFirst(g);this.checkbox.dom.checked=!this.collapsed;this.mon(this.checkbox,"click",this.onCheckClick,this);}},onCollapse:function(d,c){if(this.checkbox){this.checkbox.dom.checked=false;}Ext.form.FieldSet.superclass.onCollapse.call(this,d,c);},onExpand:function(d,c){if(this.checkbox){this.checkbox.dom.checked=true;
}Ext.form.FieldSet.superclass.onExpand.call(this,d,c);},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]();}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");
},createFontOptions:function(){var l=[],h=this.fontFamilies,m,j;for(var k=0,i=h.length;k<i;k++){m=h[k];j=m.toLowerCase();l.push('<option value="',j,'" style="font-family:',m,';"',(this.defaultFont==j?' selected="true">':">"),m,"</option>");}return l.join("");},createToolbar:function(k){var m=[];var i=Ext.QuickTips&&Ext.QuickTips.isEnabled();
function l(a,c,b){return{itemId:a,cls:"x-btn-icon",iconCls:"x-edit-"+a,enableToggle:c!==false,scope:k,handler:b||k.relayBtnCmd,clickEvent:"mousedown",tooltip:i?k.buttonTips[a]||undefined:undefined,overflowText:k.buttonTips[a].title||undefined,tabIndex:-1};}if(this.enableFont&&!Ext.isSafari2){var j=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});
m.push(j,"-");}if(this.enableFormat){m.push(l("bold"),l("italic"),l("underline"));}if(this.enableFontSize){m.push("-",l("increasefontsize",false,this.adjustFont),l("decreasefontsize",false,this.adjustFont));}if(this.enableColors){m.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:i?k.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,listeners:{scope:this,select:function(a,b){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+b:b);
this.deferFocus();}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:i?k.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,listeners:{scope:this,select:function(a,b){if(Ext.isGecko){this.execCmd("useCSS",false);
this.execCmd("hilitecolor",b);this.execCmd("useCSS",true);this.deferFocus();}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+b:b);this.deferFocus();}}},clickEvent:"mousedown"})});}if(this.enableAlignments){m.push("-",l("justifyleft"),l("justifycenter"),l("justifyright"));
}if(!Ext.isSafari2){if(this.enableLinks){m.push("-",l("createlink",false,this.createLink));}if(this.enableLists){m.push("-",l("insertorderedlist"),l("insertunorderedlist"));}if(this.enableSourceEdit){m.push("-",l("sourceedit",true,function(a){this.toggleSourceEdit(!this.sourceEditMode);}));}}var h=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:m});
if(j){this.fontSelect=j.el;this.mon(this.fontSelect,"change",function(){var a=this.fontSelect.dom.value;this.relayCmd("fontname",a);this.deferFocus();},this);}this.mon(h.el,"click",function(a){a.preventDefault();});this.tb=h;this.tb.doLayout();},onDisable:function(){this.wrap.mask();Ext.form.HtmlEditor.superclass.onDisable.call(this);
},onEnable:function(){this.wrap.unmask();Ext.form.HtmlEditor.superclass.onEnable.call(this);},setReadOnly:function(c){Ext.form.HtmlEditor.superclass.setReadOnly.call(this,c);if(this.initialized){if(Ext.isIE){this.getEditorBody().contentEditable=!c;}else{this.setDesignMode(!c);}var d=this.getEditorBody();
if(d){d.style.cursor=this.readOnly?"default":"text";}this.disableItems(c);}},getDocMarkup:function(){var b=Ext.fly(this.iframe).getHeight()-this.iframePad*2;return String.format('<html><head><style type="text/css">body{border: 0; margin: 0; padding: {0}px; height: {1}px; cursor: text}</style></head><body></body></html>',this.iframePad,b);
},getEditorBody:function(){var b=this.getDoc();return b.body||b.documentElement;},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document);},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name];},onRender:function(d,e){Ext.form.HtmlEditor.superclass.onRender.call(this,d,e);
this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;");}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.disableItems(true);
this.tb.doLayout();this.createIFrame();if(!this.width){var g=this.el.getSize();this.setSize(g.width,this.height||g.height);}this.resizeEl=this.positionEl=this.wrap;},createIFrame:function(){var b=document.createElement("iframe");b.name=Ext.id();b.frameBorder="0";b.style.overflow="auto";this.wrap.dom.appendChild(b);
this.iframe=b;this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100});},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var c=this.getDoc();this.win=this.getWin();c.open();c.write(this.getDocMarkup());c.close();var d={run:function(){var a=this.getDoc();if(a.body||a.readyState=="complete"){Ext.TaskMgr.stop(d);
this.setDesignMode(true);this.initEditor.defer(10,this);}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(d);},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var b=this.getDoc();if(!b){return;}if(!b.editorInitialized||this.getDesignMode()!="on"){this.initFrame();}}},setDesignMode:function(c){var d;
if(d=this.getDoc()){if(this.readOnly){c=false;}d.designMode=(/on|true/i).test(String(c).toLowerCase())?"on":"off";}},getDesignMode:function(){var b=this.getDoc();if(!b){return"";}return String(b.designMode).toLowerCase();},disableItems:function(b){if(this.fontSelect){this.fontSelect.dom.disabled=b;}this.tb.items.each(function(a){if(a.getItemId()!="sourceedit"){a.setDisabled(b);
}});},onResize:function(i,h){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(Ext.isNumber(i)){var k=i-this.wrap.getFrameWidth("lr");this.el.setWidth(k);this.tb.setWidth(k);this.iframe.style.width=Math.max(k,0)+"px";}if(Ext.isNumber(h)){var j=h-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();
this.el.setHeight(j);this.iframe.style.height=Math.max(j,0)+"px";var g=this.getEditorBody();if(g){g.style.height=Math.max((j-(this.iframePad*2)),0)+"px";}}}},toggleSourceEdit:function(h){var k,i,j;if(h===undefined){h=!this.sourceEditMode;}this.sourceEditMode=h===true;var g=this.tb.getComponent("sourceedit");
if(g.pressed!==this.sourceEditMode){g.toggle(this.sourceEditMode);if(!g.xtbHidden){return;}}if(this.sourceEditMode){j=this.getSize();k=Ext.get(this.iframe).getHeight();this.disableItems(true);this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");
this.el.focus();this.el.dom.style.height=k+"px";}else{i=parseInt(this.el.dom.style.height,10);if(this.initialized){this.disableItems(this.readOnly);}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();this.setSize(j);this.iframe.style.height=i+"px";
}this.fireEvent("editmodechange",this,this.sourceEditMode);},createLink:function(){var b=prompt(this.createLinkText,this.defaultLinkValue);if(b&&b!="http://"){this.relayCmd("createlink",b);}},initEvents:function(){this.originalValue=this.getValue();},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(b){Ext.form.HtmlEditor.superclass.setValue.call(this,b);
this.pushValue();return this;},cleanHtml:function(b){b=String(b);if(Ext.isWebKit){b=b.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"");}if(b.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")){b=b.substring(1);}return b;},syncValue:function(){if(this.initialized){var h=this.getEditorBody();
var i=h.innerHTML;if(Ext.isWebKit){var e=h.getAttribute("style");var g=e.match(/text-align:(.*?);/i);if(g&&g[1]){i='<div style="'+g[0]+'">'+i+"</div>";}}i=this.cleanHtml(i);if(this.fireEvent("beforesync",this,i)!==false){this.el.dom.value=i;this.fireEvent("sync",this,i);}}},getValue:function(){this[this.sourceEditMode?"pushValue":"syncValue"]();
return Ext.form.HtmlEditor.superclass.getValue.call(this);},pushValue:function(){if(this.initialized){var b=this.el.dom.value;if(!this.activated&&b.length<1){b=this.defaultValue;}if(this.fireEvent("beforepush",this,b)!==false){this.getEditorBody().innerHTML=b;if(Ext.isGecko){this.setDesignMode(false);
this.setDesignMode(true);}this.fireEvent("push",this,b);}}},deferFocus:function(){this.focus.defer(10,this);},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus();}else{this.el.focus();}},initEditor:function(){try{var h=this.getEditorBody(),j=this.el.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),k,i;
j["background-attachment"]="fixed";h.bgProperties="fixed";Ext.DomHelper.applyStyles(h,j);k=this.getDoc();if(k){try{Ext.EventManager.removeAll(k);}catch(e){}}i=this.onEditorEvent.createDelegate(this);Ext.EventManager.on(k,{mousedown:i,dblclick:i,click:i,keyup:i,buffer:100});if(Ext.isGecko){Ext.EventManager.on(k,"keypress",this.applyCommand,this);
}if(Ext.isIE||Ext.isWebKit||Ext.isOpera){Ext.EventManager.on(k,"keydown",this.fixKeys,this);}k.editorInitialized=true;this.initialized=true;this.pushValue();this.setReadOnly(this.readOnly);this.fireEvent("initialize",this);}catch(e){}},onDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask);
}if(this.rendered){Ext.destroy(this.tb);var d=this.getDoc();if(d){try{Ext.EventManager.removeAll(d);for(var g in d){delete d[g];}}catch(e){}}if(this.wrap){this.wrap.dom.innerHTML="";this.wrap.remove();}}if(this.el){this.el.removeAllListeners();this.el.remove();}this.purgeListeners();},onFirstFocus:function(){this.activated=true;
this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var e=this.win.getSelection();if(!e.focusNode||e.focusNode.nodeType!=3){var d=e.getRangeAt(0);d.selectNodeContents(this.getEditorBody());d.collapse(true);this.deferFocus();}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false);
}catch(g){}}this.fireEvent("activate",this);},adjustFont:function(e){var h=e.getItemId()=="increasefontsize"?1:-1,i=this.getDoc(),g=parseInt(i.queryCommandValue("FontSize")||2,10);if((Ext.isSafari&&!Ext.isSafari2)||Ext.isChrome||Ext.isAir){if(g<=10){g=1+h;}else{if(g<=13){g=2+h;}else{if(g<=16){g=3+h;}else{if(g<=18){g=4+h;
}else{if(g<=24){g=5+h;}else{g=6+h;}}}}}g=g.constrain(1,6);}else{if(Ext.isSafari){h*=2;}g=Math.max(1,g+h)+(Ext.isSafari?"px":0);}this.execCmd("FontSize",g);},onEditorEvent:function(b){this.updateToolbar();},updateToolbar:function(){if(this.readOnly){return;}if(!this.activated){this.onFirstFocus();return;
}var d=this.tb.items.map,g=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var e=(g.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(e!=this.fontSelect.dom.value){this.fontSelect.dom.value=e;}}if(this.enableFormat){d.bold.toggle(g.queryCommandState("bold"));d.italic.toggle(g.queryCommandState("italic"));
d.underline.toggle(g.queryCommandState("underline"));}if(this.enableAlignments){d.justifyleft.toggle(g.queryCommandState("justifyleft"));d.justifycenter.toggle(g.queryCommandState("justifycenter"));d.justifyright.toggle(g.queryCommandState("justifyright"));}if(!Ext.isSafari2&&this.enableLists){d.insertorderedlist.toggle(g.queryCommandState("insertorderedlist"));
d.insertunorderedlist.toggle(g.queryCommandState("insertunorderedlist"));}Ext.menu.MenuMgr.hideAll();this.syncValue();},relayBtnCmd:function(b){this.relayCmd(b.getItemId());},relayCmd:function(c,d){(function(){this.focus();this.execCmd(c,d);this.updateToolbar();}).defer(10,this);},execCmd:function(d,e){var g=this.getDoc();
g.execCommand(d,false,e===undefined?null:e);this.syncValue();},applyCommand:function(c){if(c.ctrlKey){var g=c.getCharCode(),e;if(g>0){g=String.fromCharCode(g);switch(g){case"b":e="bold";break;case"i":e="italic";break;case"u":e="underline";break;}if(e){this.win.focus();this.execCmd(e);this.deferFocus();
c.preventDefault();}}}},insertAtCursor:function(g){if(!this.activated){return;}if(Ext.isIE){this.win.focus();var d=this.getDoc(),e=d.selection.createRange();if(e){e.pasteHTML(g);this.syncValue();this.deferFocus();}}else{this.win.focus();this.execCmd("InsertHTML",g);this.deferFocus();}},fixKeys:function(){if(Ext.isIE){return function(k){var j=k.getKey(),e=this.getDoc(),i;
if(j==k.TAB){k.stopEvent();i=e.selection.createRange();if(i){i.collapse(true);i.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus();}}else{if(j==k.ENTER){i=e.selection.createRange();if(i){var h=i.parentElement();if(!h||h.tagName.toLowerCase()!="li"){k.stopEvent();i.pasteHTML("<br />");i.collapse(false);
i.select();}}}}};}else{if(Ext.isOpera){return function(c){var d=c.getKey();if(d==c.TAB){c.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus();}};}else{if(Ext.isWebKit){return function(c){var d=c.getKey();if(d==c.TAB){c.stopEvent();this.execCmd("InsertText","\t");
this.deferFocus();}else{if(d==c.ENTER){c.stopEvent();this.execCmd("InsertHtml","<br /><br />");this.deferFocus();}}};}}}}(),getToolbar:function(){return this.tb;},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});
Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:undefined,maxValue:undefined,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){if(Ext.isDefined(this.minValue)){this.setMinValue(this.minValue,true);
}if(Ext.isDefined(this.maxValue)){this.setMaxValue(this.maxValue,true);}if(!this.store){this.generateStore(true);}Ext.form.TimeField.superclass.initComponent.call(this);},setMinValue:function(c,d){this.setLimit(c,true,d);return this;},setMaxValue:function(c,d){this.setLimit(c,false,d);return this;},generateStore:function(e){var i=this.minValue||new Date(this.initDate).clearTime(),g=this.maxValue||new Date(this.initDate).clearTime().add("mi",(24*60)-1),h=[];
while(i<=g){h.push(i.dateFormat(this.format));i=i.add("mi",this.increment);}this.bindStore(h,e);},setLimit:function(i,k,j){var d;if(Ext.isString(i)){d=this.parseDate(i);}else{if(Ext.isDate(i)){d=i;}}if(d){var h=new Date(this.initDate).clearTime();h.setHours(d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds());
this[k?"minValue":"maxValue"]=h;if(!j){this.generateStore();}}},getValue:function(){var b=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(b))||"";},setValue:function(b){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)));
},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(q){if(!q||Ext.isDate(q)){return q;}var p=this.initDate+" ",i=this.initDateFormat+" ",n=Date.parseDate(p+q,i+this.format),m=this.altFormats;if(!n&&m){if(!this.altFormatsArray){this.altFormatsArray=m.split("|");
}for(var k=0,l=this.altFormatsArray,o=l.length;k<o&&!n;k++){n=Date.parseDate(p+q,i+l[k]);}}return n;}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:true,tipText:null,actionMode:"wrap",initComponent:function(){var c=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,["vertical","minValue","maxValue","decimalPrecision","keyIncrement","increment","clickToChange","animate"]);
if(this.useTips){var d=this.tipText?{getText:this.tipText}:{};c.plugins=[new Ext.slider.Tip(d)];}this.slider=new Ext.Slider(c);Ext.form.SliderField.superclass.initComponent.call(this);},onRender:function(c,d){this.autoCreate={id:this.id,name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,c,d);
this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.resizeEl=this.positionEl=this.wrap;this.slider.render(this.wrap);},onResize:function(e,i,h,g){Ext.form.SliderField.superclass.onResize.call(this,e,i,h,g);this.slider.setSize(e,i);},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);
this.slider.on("change",this.onChange,this);},onChange:function(c,d){this.setValue(d,undefined,true);},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);this.slider.enable();},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable();},beforeDestroy:function(){Ext.destroy(this.slider);
Ext.form.SliderField.superclass.beforeDestroy.call(this);},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0]);},setMinValue:function(b){this.slider.setMinValue(b);return this;},setMaxValue:function(b){this.slider.setMaxValue(b);return this;},setValue:function(g,d,e){if(!e){this.slider.setValue(g,d);
}return Ext.form.SliderField.superclass.setValue.call(this,this.slider.getValue());},getValue:function(){return this.slider.getValue();}});Ext.reg("sliderfield",Ext.form.SliderField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(c,d){if(!this.el){this.el=document.createElement("label");
this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId);}}Ext.form.Label.superclass.onRender.call(this,c,d);},setText:function(e,d){var g=d===false;this[!g?"text":"html"]=e;delete this[g?"text":"html"];
if(this.rendered){this.el.dom.innerHTML=d!==false?Ext.util.Format.htmlEncode(e):e;}return this;}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(c,d){this.form=c;this.options=d||{};};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";
Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(b){},success:function(b){},handleResponse:function(b){},failure:function(b){this.response=b;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false);},processResponse:function(b){this.response=b;
if(!b.responseText&&!b.responseXML){return true;}this.result=this.handleResponse(b);return this.result;},getUrl:function(g){var e=this.options.url||this.form.url||this.form.el.dom.action;if(g){var d=this.getParams();if(d){e=Ext.urlAppend(e,d);}}return e;},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase();
},getParams:function(){var d=this.form.baseParams;var c=this.options.params;if(c){if(typeof c=="object"){c=Ext.urlEncode(Ext.applyIf(c,d));}else{if(typeof c=="string"&&d){c+="&"+Ext.urlEncode(d);}}}else{if(d){c=Ext.urlEncode(d);}}return c;},createCallback:function(b){var b=b||{};return{success:this.success,failure:this.failure,scope:this,timeout:(b.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined};
}};Ext.form.Action.Submit=function(c,d){Ext.form.Action.Submit.superclass.constructor.call(this,c,d);};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var g=this.options,k=this.getMethod(),h=k=="GET";if(g.clientValidation===false||this.form.isValid()){if(g.submitEmptyText===false){var j=this.form.items,i=[];
j.each(function(a){if(a.el.getValue()==a.emptyText){i.push(a);a.el.dom.value="";}});}Ext.Ajax.request(Ext.apply(this.createCallback(g),{form:this.form.el.dom,url:this.getUrl(h),method:k,headers:g.headers,params:!h?this.getParams():null,isUpload:this.form.fileUpload}));if(g.submitEmptyText===false){Ext.each(i,function(a){if(a.applyEmptyText){a.applyEmptyText();
}});}}else{if(g.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false);}}},success:function(c){var d=this.processResponse(c);if(d===true||d.success){this.form.afterAction(this,true);return;}if(d.errors){this.form.markInvalid(d.errors);}this.failureType=Ext.form.Action.SERVER_INVALID;
this.form.afterAction(this,false);},handleResponse:function(m){if(this.form.errorReader){var h=this.form.errorReader.read(m);var j=[];if(h.records){for(var l=0,i=h.records.length;l<i;l++){var k=h.records[l];j[l]=k.data;}}if(j.length<1){j=null;}return{success:h.success,errors:j};}return Ext.decode(m.responseText);
}});Ext.form.Action.Load=function(c,d){Ext.form.Action.Load.superclass.constructor.call(this,c,d);this.reader=this.form.reader;};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}));
},success:function(c){var d=this.processResponse(c);if(d===true||!d.success||!d.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return;}this.form.clearInvalid();this.form.setValues(d.data);this.form.afterAction(this,true);},handleResponse:function(d){if(this.form.reader){var e=this.form.reader.read(d);
var g=e.records&&e.records[0]?e.records[0].data:null;return{success:e.success,data:g};}return Ext.decode(d.responseText);}});Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(c,d){Ext.form.Action.DirectLoad.superclass.constructor.call(this,c,d);},type:"directload",run:function(){var b=this.getParams();
b.push(this.success,this);this.form.api.load.apply(window,b);},getParams:function(){var k=[],n={};var i=this.form.baseParams;var o=this.options.params;Ext.apply(n,o,i);var l=this.form.paramOrder;if(l){for(var j=0,m=l.length;j<m;j++){k.push(n[l[j]]);}}else{if(this.form.paramsAsHash){k.push(n);}}return k;
},processResponse:function(b){this.result=b;return b;},success:function(d,c){if(c.type==Ext.Direct.exceptions.SERVER){d={};}Ext.form.Action.DirectLoad.superclass.success.call(this,d);}});Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(c,d){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,c,d);
},type:"directsubmit",run:function(){var b=this.options;if(b.clientValidation===false||this.form.isValid()){this.success.params=this.getParams();this.form.api.submit(this.form.el.dom,this.success,this);}else{if(b.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false);
}}},getParams:function(){var g={};var e=this.form.baseParams;var d=this.options.params;Ext.apply(g,d,e);return g;},processResponse:function(b){this.result=b;return b;},success:function(d,c){if(c.type==Ext.Direct.exceptions.SERVER){d={};}Ext.form.Action.DirectSubmit.superclass.success.call(this,d);}});
Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};Ext.form.VTypes=function(){var i=/^[a-zA-Z_]+$/,h=/^[a-zA-Z0-9_]+$/,e=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,g=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;
return{email:function(a){return e.test(a);},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(a){return g.test(a);},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return i.test(a);
},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return h.test(a);},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i};}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:false,autoExpandMax:1000,autoExpandMin:50,columnLines:false,ddText:"{0} selected row{1}",deferRowRender:true,enableColumnHide:true,enableColumnMove:true,enableDragDrop:false,enableHdMenu:true,loadMask:false,minColumnWidth:25,stripeRows:false,trackMouseOver:true,stateEvents:["columnmove","columnresize","sortchange","groupchange"],view:null,bubbleEvents:[],rendered:false,viewReady:false,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);
if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines";}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns;}if(this.ds){this.store=this.ds;delete this.ds;}if(this.cm){this.colModel=this.cm;delete this.cm;
}if(this.sm){this.selModel=this.sm;delete this.sm;}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","groupchange","reconfigure","viewready");
},onRender:function(i,g){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var h=this.getGridEl();this.el.addClass("x-grid-panel");this.mon(h,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu});this.relayEvents(h,["mousedown","mouseup","mouseover","mouseout","keypress","keydown"]);
var c=this.getView();c.init(this);c.render();this.getSelectionModel().init(this);},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask));}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);
this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100});},applyState:function(s){var u=this.colModel,o=s.columns,c=this.store,t,n,i;if(o){for(var q=0,p=o.length;q<p;q++){t=o[q];n=u.getColumnById(t.id);if(n){n.hidden=t.hidden;n.width=t.width;i=u.getIndexById(t.id);if(i!=q){u.moveColumn(i,q);
}}}}if(c){t=s.sort;if(t){c[c.remoteSort?"setDefaultSort":"sort"](t.field,t.direction);}t=s.group;if(c.groupBy){if(t){c.groupBy(t);}else{c.clearGrouping();}}}var r=Ext.apply({},s);delete r.columns;delete r.sort;Ext.grid.GridPanel.superclass.applyState.call(this,r);},getState:function(){var k={columns:[]},c=this.store,l,i;
for(var m=0,j;(j=this.colModel.config[m]);m++){k.columns[m]={id:j.id,width:j.width};if(j.hidden){k.columns[m].hidden=true;}}if(c){l=c.getSortState();if(l){k.sort=l;}if(c.getGroupState){i=c.getGroupState();if(i){k.group=i;}}}return k;},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);
var b=this.view;this.on("bodyresize",b.layout,b);b.layout();if(this.deferRowRender){if(!this.deferRowRenderTask){this.deferRowRenderTask=new Ext.util.DelayedTask(b.afterRender,this.view);}this.deferRowRenderTask.delay(10);}else{b.afterRender();}this.viewReady=true;},reconfigure:function(e,d){var g=this.rendered;
if(g){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:e},this.initialConfig.loadMask));}}if(this.view){this.view.initData(e,d);}this.store=e;this.colModel=d;if(g){this.view.refresh(true);}this.fireEvent("reconfigure",this,e,d);},onDestroy:function(){if(this.deferRowRenderTask&&this.deferRowRenderTask.cancel){this.deferRowRenderTask.cancel();
}if(this.rendered){Ext.destroy(this.view,this.loadMask);}else{if(this.store&&this.store.autoDestroy){this.store.destroy();}}Ext.destroy(this.colModel,this.selModel);this.store=this.selModel=this.colModel=this.view=this.loadMask=null;Ext.grid.GridPanel.superclass.onDestroy.call(this);},processEvent:function(d,c){this.view.processEvent(d,c);
},onClick:function(b){this.processEvent("click",b);},onMouseDown:function(b){this.processEvent("mousedown",b);},onContextMenu:function(c,d){this.processEvent("contextmenu",c);},onDblClick:function(b){this.processEvent("dblclick",b);},walkCells:function(t,q,r,o,u){var l=this.colModel,n=l.getColumnCount(),s=this.store,m=s.getCount(),p=true;
if(r<0){if(q<0){t--;p=false;}while(t>=0){if(!p){q=n-1;}p=false;while(q>=0){if(o.call(u||this,t,q,l)===true){return[t,q];}q--;}t--;}}else{if(q>=n){t++;p=false;}while(t<m){if(!p){q=0;}p=false;while(q<n){if(o.call(u||this,t,q,l)===true){return[t,q];}q++;}t++;}}return null;},getGridEl:function(){return this.body;
},stopEditing:Ext.emptyFn,getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null);}return this.selModel;},getStore:function(){return this.store;},getColumnModel:function(){return this.colModel;},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig);
}return this.view;},getDragDropText:function(){var b=this.selModel.getCount();return String.format(this.ddText,b,b==1?"":"s");}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:true,scrollOffset:undefined,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,constructor:function(b){Ext.apply(this,b);
this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this);},initTemplates:function(){var g=this.templates||{};if(!g.master){g.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset" style="{ostyle}">{header}</div></div><div class="x-clear"></div></div>','<div class="x-grid3-scroller"><div class="x-grid3-body" style="{bstyle}">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>");
}if(!g.header){g.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>");}if(!g.hcell){g.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>");
}if(!g.body){g.body=new Ext.Template("{rows}");}if(!g.row){g.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",(this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':""),"</tbody></table></div>");
}if(!g.cell){g.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>");}for(var e in g){var d=g[e];if(d&&Ext.isFunction(d.compile)&&!d.compiled){d.disableFormats=true;
d.compile();}}this.templates=g;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","");},fly:function(b){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body);}this._flyweight.dom=b;return this._flyweight;},getEditorParent:function(){return this.scroller.dom;},initElements:function(){var g=Ext.Element;
var d=this.grid.getGridEl().dom.firstChild;var e=d.childNodes;this.el=new g(d);this.mainWrap=new g(e[0]);this.mainHd=new g(this.mainWrap.dom.firstChild);if(this.grid.hideHeaders){this.mainHd.setDisplayed(false);}this.innerHd=this.mainHd.dom.firstChild;this.scroller=new g(this.mainWrap.dom.childNodes[1]);
if(this.forceFit){this.scroller.setStyle("overflow-x","hidden");}this.mainBody=new g(this.scroller.dom.firstChild);this.focusEl=new g(this.scroller.dom.childNodes[1]);this.focusEl.swallowEvent("click",true);this.resizeMarker=new g(e[1]);this.resizeProxy=new g(e[2]);},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[];
},findCell:function(b){if(!b){return false;}return this.fly(b).findParent(this.cellSelector,this.cellSelectorDepth);},findCellIndex:function(g,d){var e=this.findCell(g);if(e&&(!d||this.fly(e).hasClass(d))){return this.getCellIndex(e);}return false;},getCellIndex:function(c){if(c){var d=c.className.match(this.colRe);
if(d&&d[1]){return this.cm.getIndexById(d[1]);}}return false;},findHeaderCell:function(c){var d=this.findCell(c);return d&&this.fly(d).hasClass(this.hdCls)?d:null;},findHeaderIndex:function(b){return this.findCellIndex(b,this.hdCls);},findRow:function(b){if(!b){return false;}return this.fly(b).findParent(this.rowSelector,this.rowSelectorDepth);
},findRowIndex:function(d){var c=this.findRow(d);return c?c.rowIndex:false;},findRowBody:function(b){if(!b){return false;}return this.fly(b).findParent(this.rowBodySelector,this.rowBodySelectorDepth);},getRow:function(b){return this.getRows()[b];},getCell:function(c,d){return this.getRow(c).getElementsByTagName("td")[d];
},getHeaderCell:function(b){return this.mainHd.dom.getElementsByTagName("td")[b];},addRowClass:function(g,e){var d=this.getRow(g);if(d){this.fly(d).addClass(e);}},removeRowClass:function(g,e){var d=this.getRow(g);if(d){this.fly(d).removeClass(e);}},removeRow:function(b){Ext.removeNode(this.getRow(b));
this.syncFocusEl(b);},removeRows:function(i,g){var e=this.mainBody.dom;for(var h=i;h<=g;h++){Ext.removeNode(e.childNodes[i]);}this.syncFocusEl(i);},getScrollState:function(){var b=this.scroller.dom;return{left:b.scrollLeft,top:b.scrollTop};},restoreScroll:function(d){var c=this.scroller.dom;c.scrollLeft=d.left;
c.scrollTop=d.top;},scrollToTop:function(){this.scroller.dom.scrollTop=0;this.scroller.dom.scrollLeft=0;},syncScroll:function(){this.syncHeaderScroll();var b=this.scroller.dom;this.grid.fireEvent("bodyscroll",b.scrollLeft,b.scrollTop);},syncHeaderScroll:function(){var b=this.scroller.dom;this.innerHd.scrollLeft=b.scrollLeft;
this.innerHd.scrollLeft=b.scrollLeft;},updateSortIcon:function(e,g){var h=this.sortClasses;var i=this.mainHd.select("td").removeClass(h);i.item(e).addClass(h[g=="DESC"?1:0]);},updateAllColumnWidths:function(){var p=this.getTotalWidth(),u=this.cm.getColumnCount(),n=[],o,r;for(r=0;r<u;r++){n[r]=this.getColumnWidth(r);
}this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=p;this.mainBody.dom.style.width=p;for(r=0;r<u;r++){var q=this.getHeaderCell(r);q.style.width=n[r];}var i=this.getRows(),t,j;for(r=0,o=i.length;r<o;r++){t=i[r];t.style.width=p;if(t.firstChild){t.firstChild.style.width=p;
j=t.firstChild.rows[0];for(var s=0;s<u;s++){j.childNodes[s].style.width=n[s];}}}this.onAllColumnWidthsUpdated(n,p);},updateColumnWidth:function(o,p){var r=this.getColumnWidth(o);var l=this.getTotalWidth();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=l;
this.mainBody.dom.style.width=l;var m=this.getHeaderCell(o);m.style.width=r;var s=this.getRows(),q;for(var n=0,i=s.length;n<i;n++){q=s[n];q.style.width=l;if(q.firstChild){q.firstChild.style.width=l;q.firstChild.rows[0].childNodes[o].style.width=r;}}this.onColumnWidthUpdated(o,r,l);},updateColumnHidden:function(p,l){var m=this.getTotalWidth();
this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=m;this.mainBody.dom.style.width=m;var s=l?"none":"";var n=this.getHeaderCell(p);n.style.display=s;var r=this.getRows(),q;for(var o=0,i=r.length;o<i;o++){q=r[o];q.style.width=m;if(q.firstChild){q.firstChild.style.width=m;
q.firstChild.rows[0].childNodes[p].style.display=s;}}this.onColumnHiddenUpdated(p,l,m);delete this.lastViewWidth;this.layout();},doRender:function(P,F,D,S,J,H){var O=this.templates,Q=O.cell,i=O.row,B=J-1;var R="width:"+this.getTotalWidth()+";";var L=[],E=[],C={tstyle:R},z={},M,N;for(var I=0,G=F.length;
I<G;I++){N=F[I];E=[];var A=I+S;for(var K=0;K<J;K++){M=P[K];z.id=M.id;z.css=K===0?"x-grid3-cell-first ":(K==B?"x-grid3-cell-last ":"");z.attr=z.cellAttr="";z.style=M.style;z.value=M.renderer.call(M.scope,N.data[M.name],z,N,A,K,D);if(Ext.isEmpty(z.value)){z.value="&#160;";}if(this.markDirty&&N.dirty&&Ext.isDefined(N.modified[M.name])){z.css+=" x-grid3-dirty-cell";
}E[E.length]=Q.apply(z);}var j=[];if(H&&((A+1)%2===0)){j[0]="x-grid3-row-alt";}if(N.dirty){j[1]=" x-grid3-dirty-row";}C.cols=J;if(this.getRowClass){j[2]=this.getRowClass(N,A,C,D);}C.alt=j.join(" ");C.cells=E.join("");L[L.length]=i.apply(C);}return L.join("");},processRows:function(h,j){if(!this.ds||this.ds.getCount()<1){return;
}var k=this.getRows(),i=k.length,m,l;j=j||!this.grid.stripeRows;h=h||0;for(m=0;m<i;m++){l=k[m];if(l){l.rowIndex=m;if(!j){l.className=l.className.replace(this.rowClsRe," ");if((m+1)%2===0){l.className+=" x-grid3-row-alt";}}}}if(h===0){Ext.fly(k[0]).addClass(this.firstRowCls);}Ext.fly(k[k.length-1]).addClass(this.lastRowCls);
},afterRender:function(){if(!this.ds||!this.cm){return;}this.mainBody.dom.innerHTML=this.renderRows()||"&#160;";this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText();}this.grid.fireEvent("viewready",this.grid);},renderUI:function(){var h=this.templates,k=this.renderHeaders(),j=h.body.apply({rows:"&#160;"});
var i=h.master.apply({body:j,header:k,ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"});var g=this.grid;g.getGridEl().dom.innerHTML=i;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});
this.scroller.on("scroll",this.syncScroll,this);if(g.enableColumnResize!==false){this.splitZone=new Ext.grid.GridView.SplitDragZone(g,this.mainHd.dom);}if(g.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(g,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(g,this.mainHd.dom);
}if(g.enableHdMenu!==false){this.hmenu=new Ext.menu.Menu({id:g.id+"-hctx"});this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(g.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:g.id+"-hcols-menu"});
this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick});this.hmenu.add("-",{itemId:"columns",hideOnClick:false,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"});}this.hmenu.on("itemclick",this.handleHdMenuClick,this);}if(g.trackMouseOver){this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut});
}if(g.enableDragDrop||g.enableDrag){this.dragZone=new Ext.grid.GridDragZone(g,{ddGroup:g.ddGroup||"GridDD"});}this.updateHeaderSortState();},processEvent:function(l,n){var e=n.getTarget(),m=this.grid,p=this.findHeaderIndex(e);m.fireEvent(l,n);if(p!==false){m.fireEvent("header"+l,m,p,n);}else{var g=this.findRowIndex(e),o,q;
if(g!==false){m.fireEvent("row"+l,m,g,n);o=this.findCellIndex(e);if(o!==false){m.fireEvent("cell"+l,m,g,o,n);}else{q=this.findRowBody(e);if(q){m.fireEvent("rowbody"+l,m,g,n);}}}else{m.fireEvent("container"+l,m,n);}}},layout:function(){if(!this.mainBody){return;}var m=this.grid;var j=m.getGridEl();var g=j.getSize(true);
var c=g.width;if(!m.hideHeaders&&(c<20||g.height<20)){return;}if(m.autoHeight){this.scroller.dom.style.overflow="visible";if(Ext.isWebKit){this.scroller.dom.style.position="static";}}else{this.el.setSize(g.width,g.height);var k=this.mainHd.getHeight();var l=g.height-(k);this.scroller.setSize(c,l);if(this.innerHd){this.innerHd.style.width=(c)+"px";
}}if(this.forceFit){if(this.lastViewWidth!=c){this.fitColumns(false,false);this.lastViewWidth=c;}}else{this.autoExpand();this.syncHeaderScroll();}this.onLayout(c,l);},onLayout:function(d,c){},onColumnWidthUpdated:function(g,e,d){},onAllColumnWidthsUpdated:function(d,c){},onColumnHiddenUpdated:function(d,g,e){},updateColumnText:function(d,c){},afterMove:function(b){},init:function(b){this.grid=b;
this.initTemplates();this.initData(b.store,b.colModel);this.initUI(b);},getColumnId:function(b){return this.cm.getColumnId(b);},getOffsetWidth:function(){return(this.cm.getTotalWidth()+this.getScrollOffset())+"px";},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth());
},renderHeaders:function(){var m=this.cm,q=this.templates,k=q.hcell,n=[],p={},o=m.getColumnCount(),i=o-1;for(var l=0;l<o;l++){p.id=m.getColumnId(l);p.value=m.getColumnHeader(l)||"";p.style=this.getColumnStyle(l,true);p.tooltip=this.getColumnTooltip(l);p.css=l===0?"x-grid3-cell-first ":(l==i?"x-grid3-cell-last ":"");
if(m.config[l].align=="right"){p.istyle="padding-right:16px";}else{delete p.istyle;}n[n.length]=k.apply(p);}return q.header.apply({cells:n.join(""),tstyle:"width:"+this.getTotalWidth()+";"});},getColumnTooltip:function(d){var c=this.cm.getColumnTooltip(d);if(c){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+c+'"';
}else{return'title="'+c+'"';}}return"";},beforeUpdate:function(){this.grid.stopEditing(true);},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();this.innerHd.firstChild.style.width=this.getOffsetWidth();this.innerHd.firstChild.firstChild.style.width=this.getTotalWidth();
},focusRow:function(b){this.focusCell(b,0,false);},focusCell:function(g,e,d){this.syncFocusEl(this.ensureVisible(g,e,d));if(Ext.isGecko){this.focusEl.focus();}else{this.focusEl.focus.defer(1,this.focusEl);}},resolveCell:function(n,j,o){if(!Ext.isNumber(n)){n=n.rowIndex;}if(!this.ds){return null;}if(n<0||n>=this.ds.getCount()){return null;
}j=(j!==undefined?j:0);var k=this.getRow(n),m=this.cm,i=m.getColumnCount(),l;if(!(o===false&&j===0)){while(j<i&&m.isHidden(j)){j++;}l=this.getCell(n,j);}return{row:k,cell:l};},getResolvedXY:function(g){if(!g){return null;}var c=this.scroller.dom,h=g.cell,i=g.row;return h?Ext.fly(h).getXY():[this.el.getX(),Ext.fly(i).getY()];
},syncFocusEl:function(h,g,i){var e=h;if(!Ext.isArray(e)){h=Math.min(h,Math.max(0,this.getRows().length-1));if(isNaN(h)){return;}e=this.getResolvedXY(this.resolveCell(h,g,i));}this.focusEl.setXY(e||this.scroller.getXY());},ensureVisible:function(F,A,B){var y=this.resolveCell(F,A,B);if(!y||!y.row){return;
}var x=y.row,c=y.cell,I=this.scroller.dom,w=0,C=x,p=this.el.dom;while(C&&C!=p){w+=C.offsetTop;C=C.offsetParent;}w-=this.mainHd.dom.offsetHeight;p=parseInt(I.scrollTop,10);var D=w+x.offsetHeight,G=I.clientHeight,H=p+G;if(w<p){I.scrollTop=w;}else{if(D>H){I.scrollTop=D-G;}}if(B!==false){var u=parseInt(c.offsetLeft,10);
var v=u+c.offsetWidth;var z=parseInt(I.scrollLeft,10);var E=z+I.clientWidth;if(u<z){I.scrollLeft=u;}else{if(v>E){I.scrollLeft=v-I.clientWidth;}}}return this.getResolvedXY(y);},insertRows:function(o,p,k,q){var l=o.getCount()-1;if(!q&&p===0&&k>=l){this.fireEvent("beforerowsinserted",this,p,k);this.refresh();
this.fireEvent("rowsinserted",this,p,k);}else{if(!q){this.fireEvent("beforerowsinserted",this,p,k);}var n=this.renderRows(p,k),j=this.getRow(p);if(j){if(p===0){Ext.fly(this.getRow(0)).removeClass(this.firstRowCls);}Ext.DomHelper.insertHtml("beforeBegin",j,n);}else{var m=this.getRow(l-1);if(m){Ext.fly(m).removeClass(this.lastRowCls);
}Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,n);}if(!q){this.fireEvent("rowsinserted",this,p,k);this.processRows(p);}else{if(p===0||p>=l){Ext.fly(this.getRow(p)).addClass(p===0?this.firstRowCls:this.lastRowCls);}}}this.syncFocusEl(p);},deleteRows:function(e,g,d){if(e.getRowCount()<1){this.refresh();
}else{this.fireEvent("beforerowsdeleted",this,g,d);this.removeRows(g,d);this.processRows(g);this.fireEvent("rowsdeleted",this,g,d);}},getColumnStyle:function(g,i){var e=!i?(this.cm.config[g].css||""):"";e+="width:"+this.getColumnWidth(g)+";";if(this.cm.isHidden(g)){e+="display:none;";}var h=this.cm.config[g].align;
if(h){e+="text-align:"+h+";";}return e;},getColumnWidth:function(c){var d=this.cm.getColumnWidth(c);if(Ext.isNumber(d)){return(Ext.isBorderBox||(Ext.isWebKit&&!Ext.isSafari2)?d:(d-this.borderWidth>0?d-this.borderWidth:0))+"px";}return d;},getTotalWidth:function(){return this.cm.getTotalWidth()+"px";},fitColumns:function(w,y,v){var B=this.cm,u;
var x=B.getTotalWidth(false);var D=this.grid.getGridEl().getWidth(true)-this.getScrollOffset();if(D<20){return;}var i=D-x;if(i===0){return false;}var F=B.getColumnCount(true);var H=F-(Ext.isNumber(v)?1:0);if(H===0){H=1;v=undefined;}var G=B.getColumnCount();var C=[];var A=0;var t=0;var E;for(u=0;u<G;u++){if(!B.isHidden(u)&&!B.isFixed(u)&&u!==v){E=B.getColumnWidth(u);
C.push(u);A=u;C.push(E);t+=E;}}var z=(D-B.getTotalWidth())/t;while(C.length){E=C.pop();u=C.pop();B.setColumnWidth(u,Math.max(this.grid.minColumnWidth,Math.floor(E+E*z)),true);}if((x=B.getTotalWidth(false))>D){var I=H!=F?v:A;B.setColumnWidth(I,Math.max(1,B.getColumnWidth(I)-(x-D)),true);}if(w!==true){this.updateAllColumnWidths();
}return true;},autoExpand:function(n){var q=this.grid,o=this.cm;if(!this.userResized&&q.autoExpandColumn){var l=o.getTotalWidth(false);var p=this.grid.getGridEl().getWidth(true)-this.getScrollOffset();if(l!=p){var g=o.getIndexById(q.autoExpandColumn);var k=o.getColumnWidth(g);var m=Math.min(Math.max(((p-l)+k),q.autoExpandMin),q.autoExpandMax);
if(m!=k){o.setColumnWidth(g,m,true);if(n!==true){this.updateColumnWidth(g,m);}}}}},getColumnData:function(){var g=[],j=this.cm,k=j.getColumnCount();for(var h=0;h<k;h++){var i=j.getDataIndex(h);g[h]={name:(!Ext.isDefined(i)?this.ds.fields.get(h).name:i),renderer:j.getRenderer(h),scope:j.getRendererScope(h),id:j.getColumnId(h),style:this.getColumnStyle(h)};
}return g;},renderRows:function(r,n){var m=this.grid,g=m.colModel,p=m.store,q=m.stripeRows;var s=g.getColumnCount();if(p.getCount()<1){return"";}var l=this.getColumnData();r=r||0;n=!Ext.isDefined(n)?p.getCount()-1:n;var o=p.getRange(r,n);return this.doRender(l,o,p,r,s,q);},renderBody:function(){var b=this.renderRows()||"&#160;";
return this.templates.body.apply({rows:b});},refreshRow:function(e){var g=this.ds,d;if(Ext.isNumber(e)){d=e;e=g.getAt(d);if(!e){return;}}else{d=g.indexOf(e);if(d<0){return;}}this.insertRows(g,d,d,true);this.getRow(d).rowIndex=d;this.onRemove(g,e,d+1,true);this.fireEvent("rowupdated",this,d,e);},refresh:function(c){this.fireEvent("beforerefresh",this);
this.grid.stopEditing(true);var d=this.renderBody();this.mainBody.update(d).setWidth(this.getTotalWidth());if(c===true){this.updateHeaders();this.updateHeaderSortState();}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this);},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>");
}},updateHeaderSortState:function(){var d=this.ds.getSortState();if(!d){return;}if(!this.sortState||(this.sortState.field!=d.field||this.sortState.direction!=d.direction)){this.grid.fireEvent("sortchange",this.grid,d);}this.sortState=d;var g=this.cm.findColumnIndex(d.field);if(g!=-1){var e=d.direction;
this.updateSortIcon(g,e);}},clearHeaderSortState:function(){if(!this.sortState){return;}this.grid.fireEvent("sortchange",this.grid,null);this.mainHd.select("td").removeClass(this.sortClasses);delete this.sortState;},destroy:function(){if(this.scrollToTopTask&&this.scrollToTopTask.cancel){this.scrollToTopTask.cancel();
}if(this.colMenu){Ext.menu.MenuMgr.unregister(this.colMenu);this.colMenu.destroy();delete this.colMenu;}if(this.hmenu){Ext.menu.MenuMgr.unregister(this.hmenu);this.hmenu.destroy();delete this.hmenu;}this.initData(null,null);this.purgeListeners();Ext.fly(this.innerHd).un("click",this.handleHdDown,this);
if(this.grid.enableColumnMove){Ext.destroy(this.columnDrag.el,this.columnDrag.proxy.ghost,this.columnDrag.proxy.el,this.columnDrop.el,this.columnDrop.proxyTop,this.columnDrop.proxyBottom,this.columnDrag.dragData.ddel,this.columnDrag.dragData.header);if(this.columnDrag.proxy.anim){Ext.destroy(this.columnDrag.proxy.anim);
}delete this.columnDrag.proxy.ghost;delete this.columnDrag.dragData.ddel;delete this.columnDrag.dragData.header;this.columnDrag.destroy();delete Ext.dd.DDM.locationCache[this.columnDrag.id];delete this.columnDrag._domRef;delete this.columnDrop.proxyTop;delete this.columnDrop.proxyBottom;this.columnDrop.destroy();
delete Ext.dd.DDM.locationCache["gridHeader"+this.grid.getGridEl().id];delete this.columnDrop._domRef;delete Ext.dd.DDM.ids[this.columnDrop.ddGroup];}if(this.splitZone){this.splitZone.destroy();delete this.splitZone._domRef;delete Ext.dd.DDM.ids["gridSplitters"+this.grid.getGridEl().id];}Ext.fly(this.innerHd).removeAllListeners();
Ext.removeNode(this.innerHd);delete this.innerHd;Ext.destroy(this.el,this.mainWrap,this.mainHd,this.scroller,this.mainBody,this.focusEl,this.resizeMarker,this.resizeProxy,this.activeHdBtn,this.dragZone,this.splitZone,this._flyweight);delete this.grid.container;if(this.dragZone){this.dragZone.destroy();
}Ext.dd.DDM.currentTarget=null;delete Ext.dd.DDM.locationCache[this.grid.getGridEl().id];Ext.EventManager.removeResizeListener(this.onWindowResize,this);},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var b=this.grid.ownerCt;if(b&&b.getLayout()){b.on("afterlayout",function(){this.fitColumns(true,true);
this.updateHeaders();},this,{single:true});}else{this.fitColumns(true,true);}}else{if(this.forceFit){this.fitColumns(true,false);}else{if(this.grid.autoExpandColumn){this.autoExpand(true);}}}this.renderUI();},initData:function(c,d){if(this.ds){this.ds.un("load",this.onLoad,this);this.ds.un("datachanged",this.onDataChange,this);
this.ds.un("add",this.onAdd,this);this.ds.un("remove",this.onRemove,this);this.ds.un("update",this.onUpdate,this);this.ds.un("clear",this.onClear,this);if(this.ds!==c&&this.ds.autoDestroy){this.ds.destroy();}}if(c){c.on({scope:this,load:this.onLoad,datachanged:this.onDataChange,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onClear});
}this.ds=c;if(this.cm){this.cm.un("configchange",this.onColConfigChange,this);this.cm.un("widthchange",this.onColWidthChange,this);this.cm.un("headerchange",this.onHeaderChange,this);this.cm.un("hiddenchange",this.onHiddenChange,this);this.cm.un("columnmoved",this.onColumnMove,this);}if(d){delete this.lastViewWidth;
d.on({scope:this,configchange:this.onColConfigChange,widthchange:this.onColWidthChange,headerchange:this.onHeaderChange,hiddenchange:this.onHiddenChange,columnmoved:this.onColumnMove});}this.cm=d;},onDataChange:function(){this.refresh();this.updateHeaderSortState();this.syncFocusEl(0);},onClear:function(){this.refresh();
this.syncFocusEl(0);},onUpdate:function(c,d){this.refreshRow(d);},onAdd:function(g,e,d){this.insertRows(g,d,d+(e.length-1));},onRemove:function(h,g,e,i){if(i!==true){this.fireEvent("beforerowremoved",this,e,g);}this.removeRow(e);if(i!==true){this.processRows(e);this.applyEmptyText();this.fireEvent("rowremoved",this,e,g);
}},onLoad:function(){if(Ext.isGecko){if(!this.scrollToTopTask){this.scrollToTopTask=new Ext.util.DelayedTask(this.scrollToTop,this);}this.scrollToTopTask.delay(1);}else{this.scrollToTop();}},onColWidthChange:function(e,d,g){this.updateColumnWidth(d,g);},onHeaderChange:function(e,d,g){this.updateHeaders();
},onHiddenChange:function(e,d,g){this.updateColumnHidden(d,g);},onColumnMove:function(g,h,e){this.indexMap=null;var i=this.getScrollState();this.refresh(true);this.restoreScroll(i);this.afterMove(e);this.grid.fireEvent("columnmove",h,e);},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;
this.refresh(true);},initUI:function(b){b.on("headerclick",this.onHeaderClick,this);},initEvents:function(){},onHeaderClick:function(c,d){if(this.headersDisabled||!this.cm.isSortable(d)){return;}c.stopEditing(true);c.store.sort(this.cm.getDataIndex(d));},onRowOver:function(d,e){var g;if((g=this.findRowIndex(e))!==false){this.addRowClass(g,"x-grid3-row-over");
}},onRowOut:function(d,e){var g;if((g=this.findRowIndex(e))!==false&&!d.within(this.getRow(g),true)){this.removeRowClass(g,"x-grid3-row-over");}},handleWheel:function(b){b.stopPropagation();},onRowSelect:function(b){this.addRowClass(b,this.selectedRowClass);},onRowDeselect:function(b){this.removeRowClass(b,this.selectedRowClass);
},onCellSelect:function(g,d){var e=this.getCell(g,d);if(e){this.fly(e).addClass("x-grid3-cell-selected");}},onCellDeselect:function(g,d){var e=this.getCell(g,d);if(e){this.fly(e).removeClass("x-grid3-cell-selected");}},onColumnSplitterMoved:function(g,d){this.userResized=true;var e=this.grid.colModel;
e.setColumnWidth(g,d,true);if(this.forceFit){this.fitColumns(true,false,g);this.updateAllColumnWidths();}else{this.updateColumnWidth(g,d);this.syncHeaderScroll();}this.grid.fireEvent("columnresize",g,d);},handleHdMenuClick:function(h){var i=this.hdCtxIndex,j=this.cm,g=this.ds,k=h.getItemId();switch(k){case"asc":g.sort(j.getDataIndex(i),"ASC");
break;case"desc":g.sort(j.getDataIndex(i),"DESC");break;default:i=j.getIndexById(k.substr(4));if(i!=-1){if(h.checked&&j.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return false;}j.setHidden(i,h.checked);}}return true;},isHideableColumn:function(b){return !b.hidden;},beforeColMenuShow:function(){var e=this.cm,g=e.getColumnCount();
this.colMenu.removeAll();for(var d=0;d<g;d++){if(e.config[d].hideable!==false){this.colMenu.add(new Ext.menu.CheckItem({itemId:"col-"+e.getColumnId(d),text:e.getColumnHeader(d),checked:!e.isHidden(d),hideOnClick:false,disabled:e.config[d].hideable===false}));}}},handleHdDown:function(j,l){if(Ext.fly(l).hasClass("x-grid3-hd-btn")){j.stopEvent();
var k=this.findHeaderCell(l);Ext.fly(k).addClass("x-grid3-hd-menu-open");var m=this.getCellIndex(k);this.hdCtxIndex=m;var e=this.hmenu.items,i=this.cm;e.get("asc").setDisabled(!i.isSortable(m));e.get("desc").setDisabled(!i.isSortable(m));this.hmenu.on("hide",function(){Ext.fly(k).removeClass("x-grid3-hd-menu-open");
},this,{single:true});this.hmenu.show(l,"tl-bl?");}},handleHdOver:function(h,g){var i=this.findHeaderCell(g);if(i&&!this.headersDisabled){this.activeHdRef=g;this.activeHdIndex=this.getCellIndex(i);var e=this.fly(i);this.activeHdRegion=e.getRegion();if(!this.cm.isMenuDisabled(this.activeHdIndex)){e.addClass("x-grid3-hd-over");
this.activeHdBtn=e.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(i.firstChild.offsetHeight-1)+"px";}}}},handleHdMove:function(e,k){var n=this.findHeaderCell(this.activeHdRef);if(n&&!this.headersDisabled){var o=this.splitHandleWidth||5,l=this.activeHdRegion,q=e.getPageX(),m=n.style,p="";
if(this.grid.enableColumnResize!==false){if(q-l.left<=o&&this.cm.isResizable(this.activeHdIndex-1)){p=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize";}else{if(l.right-q<=(!this.activeHdBtn?o:2)&&this.cm.isResizable(this.activeHdIndex)){p=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize";}}}m.cursor=p;
}},handleHdOut:function(g,e){var d=this.findHeaderCell(e);if(d&&(!Ext.isIE||!g.within(d,true))){this.activeHdRef=null;this.fly(d).removeClass("x-grid3-hd-over");d.style.cursor="";}},hasRows:function(){var b=this.mainBody.dom.firstChild;return b&&b.nodeType==1&&b.className!="x-grid-empty";},bind:function(d,c){this.initData(d,c);
}});Ext.grid.GridView.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{constructor:function(d,c){this.grid=d;this.view=d.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,c,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});
this.scroll=false;this.hw=this.view.splitHandleWidth||5;},b4StartDrag:function(j,k){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var g=this.view.mainWrap.getHeight();this.marker.setHeight(g);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);
this.proxy.setHeight(g);var i=this.cm.getColumnWidth(this.cellIndex),h=Math.max(i-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(h,1000);this.setYConstraint(0,0);this.minX=j-h;this.maxX=j+1000;this.startPos=j;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,j,k);},allowHeaderDrag:function(b){return true;
},handleMouseDown:function(s){var m=this.view.findHeaderCell(s.getTarget());if(m&&this.allowHeaderDrag(s)){var t=this.view.fly(m).getXY(),p=t[0],q=t[1],e=s.getXY(),r=e[0],n=m.offsetWidth,o=false;if((r-p)<=this.hw){o=-1;}else{if((p+n)-r<=this.hw){o=0;}}if(o!==false){this.cm=this.grid.colModel;var u=this.view.getCellIndex(m);
if(o==-1){if(u+o<0){return;}while(this.cm.isHidden(u+o)){--o;if(u+o<0){return;}}}this.cellIndex=u+o;this.split=m.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments);}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(s);
}}}},endDrag:function(k){this.marker.hide();var j=this.view,h=Math.max(this.minX,k.getPageX()),e=h-this.startPos,i=this.dragHeadersDisabled;j.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+e);setTimeout(function(){j.headersDisabled=i;},50);},autoOffset:function(){this.setDelta(0,0);
}});Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(e,g,d){this.grid=e;this.view=e.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,g);if(d){this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(d));
}this.scroll=false;},getDragData:function(g){var e=Ext.lib.Event.getTarget(g),d=this.view.findHeaderCell(e);if(d){return{ddel:d.firstChild,header:d};}return false;},onInitDrag:function(d){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var c=this.dragData.ddel.cloneNode(true);
c.id=Ext.id();c.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(c);return true;},afterValidDrop:function(){this.completeDrop();},afterInvalidDrop:function(){this.completeDrop();},completeDrop:function(){var d=this.view,c=this.dragHeadersDisabled;setTimeout(function(){d.headersDisabled=c;
},50);}});Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(e,g,d){this.grid=e;this.view=e.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);
this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden");};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,e.getGridEl().dom);},getTargetFromEvent:function(g){var e=Ext.lib.Event.getTarget(g),d=this.view.findCellIndex(e);
if(d!==false){return this.view.getHeaderCell(d);}},nextVisible:function(g){var d=this.view,e=this.grid.colModel;g=g.nextSibling;while(g){if(!e.isHidden(d.getCellIndex(g))){return g;}g=g.nextSibling;}return null;},prevVisible:function(g){var d=this.view,e=this.grid.colModel;g=g.prevSibling;while(g){if(!e.isHidden(d.getCellIndex(g))){return g;
}g=g.prevSibling;}return null;},positionIndicator:function(e,l,h){var n=Ext.lib.Event.getPageX(h),m=Ext.lib.Dom.getRegion(l.firstChild),p,q,o=m.top+this.proxyOffsets[1];if((m.right-n)<=(m.right-m.left)/2){p=m.right+this.view.borderWidth;q="after";}else{p=m.left;q="before";}if(this.grid.colModel.isFixed(this.view.getCellIndex(l))){return false;
}p+=this.proxyOffsets[0];this.proxyTop.setLeftTop(p,o);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight();}this.proxyBottom.setLeftTop(p,o+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return q;},onNodeEnter:function(h,g,i,e){if(e.header!=h){this.positionIndicator(e.header,h,i);
}},onNodeOver:function(k,i,e,h){var j=false;if(h.header!=k){j=this.positionIndicator(h.header,k,e);}if(!j){this.proxyTop.hide();this.proxyBottom.hide();}return j?this.dropAllowed:this.dropNotAllowed;},onNodeOut:function(h,g,i,e){this.proxyTop.hide();this.proxyBottom.hide();},onNodeDrop:function(s,v,p,r){var q=r.header;
if(q!=s){var e=this.grid.colModel,h=Ext.lib.Event.getPageX(p),t=Ext.lib.Dom.getRegion(s.firstChild),u=(t.right-h)<=((t.right-t.left)/2)?"after":"before",n=this.view.getCellIndex(q),w=this.view.getCellIndex(s);if(u=="after"){w++;}if(n<w){w--;}e.moveColumn(n,w);return true;}return false;}});Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(d,c){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,d,c,null);
this.proxy.el.addClass("x-grid3-col-dd");},handleMouseDown:function(b){},callHandleMouseDown:function(b){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,b);}});Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(e,g,d){this.grid=e;this.view=e.getView();
this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,g,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(d));this.scroll=false;},b4StartDrag:function(g,h){this.view.headersDisabled=true;
this.proxy.setHeight(this.view.mainWrap.getHeight());var e=this.cm.getColumnWidth(this.cellIndex);var i=Math.max(e-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(i,1000);this.setYConstraint(0,0);this.minX=g-i;this.maxX=g+1000;this.startPos=g;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,g,h);
},handleMouseDown:function(g){var d=Ext.EventObject.setEvent(g);var e=this.fly(d.getTarget());if(e.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(e.dom);this.split=e.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments);
}}},endDrag:function(g){this.view.headersDisabled=false;var e=Math.max(this.minX,Ext.lib.Event.getPageX(g));var d=e-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+d);},autoOffset:function(){this.setDelta(0,0);}});Ext.grid.GridDragZone=function(c,d){this.view=c.getView();
Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,d);this.scroll=false;this.grid=c;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap";};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(e){var g=Ext.lib.Event.getTarget(e);
var h=this.view.findRowIndex(g);if(h!==false){var i=this.grid.selModel;if(!i.isSelected(h)||e.hasModifier()){i.handleMouseDown(this.grid,h,e);}return{grid:this.grid,ddel:this.ddel,rowIndex:h,selections:i.getSelections()};}return false;},onInitDrag:function(c){var d=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();
this.proxy.update(this.ddel);},afterRepair:function(){this.dragging=false;},getRepairXY:function(c,d){return false;},onEndDrag:function(d,c){},onValidDrop:function(e,d,g){this.hideProxy();},beforeInvalidDrop:function(d,c){}});Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:false,constructor:function(b){if(b.columns){Ext.apply(this,b);
this.setConfig(b.columns,true);}else{this.setConfig(b,true);}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this);},getColumnId:function(b){return this.config[b].id;},getColumnAt:function(b){return this.config[b];
},setConfig:function(m,c){var l,j,i;if(!c){delete this.totalWidth;for(l=0,i=this.config.length;l<i;l++){j=this.config[l];if(j.setEditor){j.setEditor(null);}}}this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults);this.config=m;this.lookup={};for(l=0,i=m.length;
l<i;l++){j=Ext.applyIf(m[l],this.defaults);if(Ext.isEmpty(j.id)){j.id=l;}if(!j.isColumn){var k=Ext.grid.Column.types[j.xtype||"gridcolumn"];j=new k(j);m[l]=j;}this.lookup[j.id]=j;}if(!c){this.fireEvent("configchange",this);}},getColumnById:function(b){return this.lookup[b];},getIndexById:function(g){for(var d=0,e=this.config.length;
d<e;d++){if(this.config[d].id==g){return d;}}return -1;},moveColumn:function(g,e){var c=this.config[g];this.config.splice(g,1);this.config.splice(e,0,c);this.dataMap=null;this.fireEvent("columnmoved",this,g,e);},getColumnCount:function(i){if(i===true){var h=0;for(var c=0,g=this.config.length;c<g;c++){if(!this.isHidden(c)){h++;
}}return h;}return this.config.length;},getColumnsBy:function(l,m){var k=[];for(var c=0,i=this.config.length;c<i;c++){var j=this.config[c];if(l.call(m||this,j,c)===true){k[k.length]=j;}}return k;},isSortable:function(b){return !!this.config[b].sortable;},isMenuDisabled:function(b){return !!this.config[b].menuDisabled;
},getRenderer:function(b){if(!this.config[b].renderer){return Ext.grid.ColumnModel.defaultRenderer;}return this.config[b].renderer;},getRendererScope:function(b){return this.config[b].scope;},setRenderer:function(d,c){this.config[d].renderer=c;},getColumnWidth:function(b){return this.config[b].width;
},setColumnWidth:function(d,g,e){this.config[d].width=g;this.totalWidth=null;if(!e){this.fireEvent("widthchange",this,d,g);}},getTotalWidth:function(d){if(!this.totalWidth){this.totalWidth=0;for(var g=0,e=this.config.length;g<e;g++){if(d||!this.isHidden(g)){this.totalWidth+=this.getColumnWidth(g);}}}return this.totalWidth;
},getColumnHeader:function(b){return this.config[b].header;},setColumnHeader:function(d,c){this.config[d].header=c;this.fireEvent("headerchange",this,d,c);},getColumnTooltip:function(b){return this.config[b].tooltip;},setColumnTooltip:function(d,c){this.config[d].tooltip=c;},getDataIndex:function(b){return this.config[b].dataIndex;
},setDataIndex:function(d,c){this.config[d].dataIndex=c;},findColumnIndex:function(i){var h=this.config;for(var c=0,g=h.length;c<g;c++){if(h[c].dataIndex==i){return c;}}return -1;},isCellEditable:function(c,h){var i=this.config[c],g=i.editable;return !!(g||(!Ext.isDefined(g)&&i.editor));},getCellEditor:function(d,c){return this.config[d].getCellEditor(c);
},setEditable:function(d,c){this.config[d].editable=c;},isHidden:function(b){return !!this.config[b].hidden;},isFixed:function(b){return !!this.config[b].fixed;},isResizable:function(b){return b>=0&&this.config[b].resizable!==false&&this.config[b].fixed!==true;},setHidden:function(e,c){var g=this.config[e];
if(g.hidden!==c){g.hidden=c;this.totalWidth=null;this.fireEvent("hiddenchange",this,e,c);}},setEditor:function(d,c){this.config[d].setEditor(c);},destroy:function(){var g;for(var c=0,e=this.config.length;c<e;c++){g=this.config[c];if(g.setEditor){g.setEditor(null);}}this.purgeListeners();}});Ext.grid.ColumnModel.defaultRenderer=function(b){if(typeof b=="string"&&b.length<1){return"&#160;";
}return b;};Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this);},init:function(b){this.grid=b;if(this.lockOnInit){delete this.lockOnInit;this.locked=false;this.lock();}this.initEvents();
},lock:function(){if(!this.locked){this.locked=true;var b=this.grid;if(b){b.getView().on({scope:this,beforerefresh:this.sortUnLock,refresh:this.sortLock});}else{this.lockOnInit=true;}}},sortLock:function(){this.locked=true;},sortUnLock:function(){this.locked=false;},unlock:function(){if(this.locked){this.locked=false;
var d=this.grid,c;if(d){c=d.getView();c.un("beforerefresh",this.sortUnLock,this);c.un("refresh",this.sortLock,this);}else{delete this.lockOnInit;}}},isLocked:function(){return this.locked;},destroy:function(){this.unlock();this.purgeListeners();}});Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:false,constructor:function(b){Ext.apply(this,b);
this.selections=new Ext.util.MixedCollection(false,function(a){return a.id;});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this);},initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this);
}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(c){if(!c.shiftKey||this.singleSelect){this.selectPrevious(false);}else{if(this.last!==false&&this.lastActive!==false){var d=this.last;this.selectRange(this.last,this.lastActive-1);this.grid.getView().focusRow(this.lastActive);if(d!==false){this.last=d;
}}else{this.selectFirstRow();}}},down:function(c){if(!c.shiftKey||this.singleSelect){this.selectNext(false);}else{if(this.last!==false&&this.lastActive!==false){var d=this.last;this.selectRange(this.last,this.lastActive+1);this.grid.getView().focusRow(this.lastActive);if(d!==false){this.last=d;}}else{this.selectFirstRow();
}}},scope:this});this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove});},onRefresh:function(){var j=this.grid.store,h;var l=this.getSelections();this.clearSelections(true);for(var m=0,i=l.length;m<i;m++){var k=l[m];if((h=j.indexOfId(k.id))!=-1){this.selectRow(h,true);
}}if(l.length!=this.selections.getCount()){this.fireEvent("selectionchange",this);}},onRemove:function(e,d,g){if(this.selections.remove(g)!==false){this.fireEvent("selectionchange",this);}},onRowUpdated:function(e,d,g){if(this.isSelected(g)){e.onRowSelect(d);}},selectRecords:function(i,k){if(!k){this.clearSelections();
}var g=this.grid.store;for(var h=0,j=i.length;h<j;h++){this.selectRow(g.indexOf(i[h]),true);}},getCount:function(){return this.selections.length;},selectFirstRow:function(){this.selectRow(0);},selectLastRow:function(b){this.selectRow(this.grid.store.getCount()-1,b);},selectNext:function(b){if(this.hasNext()){this.selectRow(this.last+1,b);
this.grid.getView().focusRow(this.last);return true;}return false;},selectPrevious:function(b){if(this.hasPrevious()){this.selectRow(this.last-1,b);this.grid.getView().focusRow(this.last);return true;}return false;},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount();
},hasPrevious:function(){return !!this.last;},getSelections:function(){return[].concat(this.selections.items);},getSelected:function(){return this.selections.itemAt(0);},each:function(k,g){var h=this.getSelections();for(var i=0,j=h.length;i<j;i++){if(k.call(g||this,h[i],i)===false){return false;}}return true;
},clearSelections:function(e){if(this.isLocked()){return;}if(e!==true){var g=this.grid.store;var d=this.selections;d.each(function(a){this.deselectRow(g.indexOfId(a.id));},this);d.clear();}else{this.selections.clear();}this.last=false;},selectAll:function(){if(this.isLocked()){return;}this.selections.clear();
for(var c=0,d=this.grid.store.getCount();c<d;c++){this.selectRow(c,true);}},hasSelection:function(){return this.selections.length>0;},isSelected:function(d){var c=Ext.isNumber(d)?this.grid.store.getAt(d):d;return(c&&this.selections.key(c.id)?true:false);},isIdSelected:function(b){return(this.selections.key(b)?true:false);
},handleMouseDown:function(l,j,k){if(k.button!==0||this.isLocked()){return;}var g=this.grid.getView();if(k.shiftKey&&!this.singleSelect&&this.last!==false){var m=this.last;this.selectRange(m,j,k.ctrlKey);this.last=m;g.focusRow(j);}else{var e=this.isSelected(j);if(k.ctrlKey&&e){this.deselectRow(j);}else{if(!e||this.getCount()>1){this.selectRow(j,k.ctrlKey||k.shiftKey);
g.focusRow(j);}}}},selectRows:function(i,h){if(!h){this.clearSelections();}for(var e=0,g=i.length;e<g;e++){this.selectRow(i[e],true);}},selectRange:function(e,g,h){var i;if(this.isLocked()){return;}if(!h){this.clearSelections();}if(e<=g){for(i=e;i<=g;i++){this.selectRow(i,true);}}else{for(i=e;i>=g;i--){this.selectRow(i,true);
}}},deselectRange:function(i,e,g){if(this.isLocked()){return;}for(var h=i;h<=e;h++){this.deselectRow(h,g);}},selectRow:function(e,h,g){if(this.isLocked()||(e<0||e>=this.grid.store.getCount())||(h&&this.isSelected(e))){return;}var i=this.grid.store.getAt(e);if(i&&this.fireEvent("beforerowselect",this,e,h,i)!==false){if(!h||this.singleSelect){this.clearSelections();
}this.selections.add(i);this.last=this.lastActive=e;if(!g){this.grid.getView().onRowSelect(e);}this.fireEvent("rowselect",this,e,i);this.fireEvent("selectionchange",this);}},deselectRow:function(d,e){if(this.isLocked()){return;}if(this.last==d){this.last=false;}if(this.lastActive==d){this.lastActive=false;
}var g=this.grid.store.getAt(d);if(g){this.selections.remove(g);if(!e){this.grid.getView().onRowDeselect(d);}this.fireEvent("rowdeselect",this,d,g);this.fireEvent("selectionchange",this);}},restoreLast:function(){if(this._last){this.last=this._last;}},acceptsNav:function(g,d,e){return !e.isHidden(d)&&e.isCellEditable(d,g);
},onEditorKey:function(w,e){var r=e.getKey(),q,k=this.grid,v=k.lastEdit,g=k.activeEditor,u,v,t,c;var s=e.shiftKey;if(r==e.TAB){e.stopEvent();g.completeEdit();if(s){q=k.walkCells(g.row,g.col-1,-1,this.acceptsNav,this);}else{q=k.walkCells(g.row,g.col+1,1,this.acceptsNav,this);}}else{if(r==e.ENTER){if(this.moveEditorOnEnter!==false){if(s){q=k.walkCells(v.row-1,v.col,-1,this.acceptsNav,this);
}else{q=k.walkCells(v.row+1,v.col,1,this.acceptsNav,this);}}}}if(q){t=q[0];c=q[1];if(v.row!=t){this.selectRow(t);}if(k.isEditor&&k.editing){u=k.activeEditor;if(u&&u.field.triggerBlur){u.field.triggerBlur();}}k.startEditing(t,c);}},destroy:function(){if(this.rowNav){this.rowNav.disable();this.rowNav=null;
}Ext.grid.RowSelectionModel.superclass.destroy.call(this);}});Ext.grid.Column=Ext.extend(Object,{isColumn:true,constructor:function(c){Ext.apply(this,c);if(Ext.isString(this.renderer)){this.renderer=Ext.util.Format[this.renderer];}else{if(Ext.isObject(this.renderer)){this.scope=this.renderer.scope;this.renderer=this.renderer.fn;
}}if(!this.scope){this.scope=this;}var d=this.editor;delete this.editor;this.setEditor(d);},renderer:function(b){if(Ext.isString(b)&&b.length<1){return"&#160;";}return b;},getEditor:function(b){return this.editable!==false?this.editor:null;},setEditor:function(c){var d=this.editor;if(d){if(d.gridEditor){d.gridEditor.destroy();
delete d.gridEditor;}else{d.destroy();}}this.editor=null;if(c){if(!c.isXType){c=Ext.create(c,"textfield");}this.editor=c;}},getCellEditor:function(c){var d=this.getEditor(c);if(d){if(!d.startEdit){if(!d.gridEditor){d.gridEditor=new Ext.grid.GridEditor(d);}d=d.gridEditor;}}return d;}});Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(g){Ext.grid.BooleanColumn.superclass.constructor.call(this,g);
var i=this.trueText,h=this.falseText,e=this.undefinedText;this.renderer=function(a){if(a===undefined){return e;}if(!a||a==="false"){return h;}return i;};}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(b){Ext.grid.NumberColumn.superclass.constructor.call(this,b);
this.renderer=Ext.util.Format.numberRenderer(this.format);}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(b){Ext.grid.DateColumn.superclass.constructor.call(this,b);this.renderer=Ext.util.Format.dateRenderer(this.format);}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(d){Ext.grid.TemplateColumn.superclass.constructor.call(this,d);
var c=(!Ext.isPrimitive(this.tpl)&&this.tpl.compile)?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(b,a,g){return c.apply(g.data);};this.tpl=c;}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn};
Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:false,constructor:function(b){Ext.apply(this,b);if(this.rowspan){this.renderer=this.renderer.createDelegate(this);}},fixed:true,hideable:false,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(e,i,g,h){if(this.rowspan){i.cellAttr='rowspan="'+this.rowspan+'"';
}return h+1;}});Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,hideable:false,dataIndex:"",id:"checker",constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);
if(this.checkOnly){this.handleMouseDown=Ext.emptyFn;}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var b=this.grid.getView();b.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(b.innerHd).on("mousedown",this.onHdMouseDown,this);
},this);},handleMouseDown:function(){Ext.grid.CheckboxSelectionModel.superclass.handleMouseDown.apply(this,arguments);this.mouseHandled=true;},onMouseDown:function(i,e){if(i.button===0&&e.className=="x-grid3-row-checker"){i.stopEvent();var h=i.getTarget(".x-grid3-row");if(!this.mouseHandled&&h){var g=h.rowIndex;
if(this.isSelected(g)){this.deselectRow(g);}else{this.selectRow(g,true);this.grid.getView().focusRow(g);}}}this.mouseHandled=false;},onHdMouseDown:function(i,g){if(g.className=="x-grid3-hd-checker"){i.stopEvent();var e=Ext.fly(g.parentNode);var h=e.hasClass("x-grid3-hd-checker-on");if(h){e.removeClass("x-grid3-hd-checker-on");
this.clearSelections();}else{e.addClass("x-grid3-hd-checker-on");this.selectAll();}}},renderer:function(d,g,e){return'<div class="x-grid3-row-checker">&#160;</div>';}});Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(b){Ext.apply(this,b);this.selection=null;
this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this);},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.on(Ext.EventManager.useKeydown?"keydown":"keypress",this.handleKeyDown,this);this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections});
if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this);}},beforeEdit:function(b){this.select(b.row,b.column,false,true,b.record);},onRowUpdated:function(e,d,g){if(this.selection&&this.selection.record==g){e.onCellSelect(d,this.selection.cell[1]);}},onViewChange:function(){this.clearSelections(true);
},getSelectedCell:function(){return this.selection?this.selection.cell:null;},clearSelections:function(c){var d=this.selection;if(d){if(c!==true){this.grid.view.onCellDeselect(d.cell[0],d.cell[1]);}this.selection=null;this.fireEvent("selectionchange",this,null);}},hasSelection:function(){return this.selection?true:false;
},handleMouseDown:function(e,h,g,i){if(i.button!==0||this.isLocked()){return;}this.select(h,g);},select:function(j,m,h,k,l){if(this.fireEvent("beforecellselect",this,j,m)!==false){this.clearSelections();l=l||this.grid.store.getAt(j);this.selection={record:l,cell:[j,m]};if(!h){var i=this.grid.getView();
i.onCellSelect(j,m);if(k!==true){i.focusCell(j,m);}}this.fireEvent("cellselect",this,j,m);this.fireEvent("selectionchange",this,this.selection);}},isSelectable:function(g,d,e){return !e.isHidden(d);},onEditorKey:function(c,d){if(d.getKey()==d.TAB){this.handleKeyDown(d);}},handleKeyDown:function(g){if(!g.isNavKeyPress()){return;
}var r=g.getKey(),k=this.grid,u=this.selection,s=this,c=function(a,d,b){return k.walkCells(a,d,b,k.isEditor&&k.editing?s.acceptsNav:s.isSelectable,s);},v,q,t,e,w;switch(r){case g.ESC:case g.PAGE_UP:case g.PAGE_DOWN:break;default:g.stopEvent();break;}if(!u){v=c(0,0,1);if(v){this.select(v[0],v[1]);}return;
}v=u.cell;t=v[0];e=v[1];switch(r){case g.TAB:if(g.shiftKey){q=c(t,e-1,-1);}else{q=c(t,e+1,1);}break;case g.DOWN:q=c(t+1,e,1);break;case g.UP:q=c(t-1,e,-1);break;case g.RIGHT:q=c(t,e+1,1);break;case g.LEFT:q=c(t,e-1,-1);break;case g.ENTER:if(k.isEditor&&!k.editing){k.startEditing(t,e);return;}break;}if(q){t=q[0];
e=q[1];this.select(t,e);if(k.isEditor&&k.editing){w=k.activeEditor;if(w&&w.field.triggerBlur){w.field.triggerBlur();}k.startEditing(t,e);}}},acceptsNav:function(g,d,e){return !e.isHidden(d)&&e.isCellEditable(d,g);}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:false,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);
if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel();}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit");},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,[true]),this);
this.on("columnresize",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this);}else{var b=this.getView();if(this.clicksToEdit=="auto"&&b.mainBody){b.mainBody.on("mousedown",this.onAutoEditClick,this);}this.on("celldblclick",this.onCellDblClick,this);}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);
var b=this.activeEditor;if(this.editing&&b){b.realign(true);}},onCellDblClick:function(d,g,e){this.startEditing(g,e);},onAutoEditClick:function(h,i){if(h.button!==0){return;}var k=this.view.findRowIndex(i),j=this.view.findCellIndex(i);if(k!==false&&j!==false){this.stopEditing();if(this.selModel.getSelectedCell){var e=this.selModel.getSelectedCell();
if(e&&e[0]===k&&e[1]===j){this.startEditing(k,j);}}else{if(this.selModel.isSelected(k)){this.startEditing(k,j);}}}},onEditComplete:function(e,l,i){this.editing=false;this.lastActiveEditor=this.activeEditor;this.activeEditor=null;var m=e.record,j=this.colModel.getDataIndex(e.col);l=this.postEditValue(l,i,m,j);
if(this.forceValidation===true||String(l)!==String(i)){var k={grid:this,record:m,field:j,originalValue:i,value:l,row:e.row,column:e.col,cancel:false};if(this.fireEvent("validateedit",k)!==false&&!k.cancel&&String(l)!==String(i)){m.set(j,k.value);delete k.cancel;this.fireEvent("afteredit",k);}}this.view.focusCell(e.row,e.col);
},startEditing:function(n,k){this.stopEditing();if(this.colModel.isCellEditable(k,n)){this.view.ensureVisible(n,k,true);var j=this.store.getAt(n),o=this.colModel.getDataIndex(k),e={grid:this,record:j,field:o,value:j.data[o],row:n,column:k,cancel:false};if(this.fireEvent("beforeedit",e)!==false&&!e.cancel){this.editing=true;
var l=this.colModel.getCellEditor(k,n);if(!l){return;}if(!l.rendered){l.parentEl=this.view.getEditorParent(l);l.on({scope:this,render:{fn:function(a){a.field.focus(false,true);},single:true,scope:this},specialkey:function(a,b){this.getSelectionModel().onEditorKey(a,b);},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[true])});
}Ext.apply(l,{row:n,col:k,record:j});this.lastEdit={row:n,col:k};this.activeEditor=l;l.selectSameEditor=(this.activeEditor==this.lastActiveEditor);var m=this.preEditValue(j,o);l.startEdit(this.view.getCell(n,k).firstChild,Ext.isDefined(m)?m:"");(function(){delete l.selectSameEditor;}).defer(50);}}},preEditValue:function(e,g){var d=e.data[g];
return this.autoEncode&&Ext.isString(d)?Ext.util.Format.htmlDecode(d):d;},postEditValue:function(i,g,e,h){return this.autoEncode&&Ext.isString(i)?Ext.util.Format.htmlEncode(i):i;},stopEditing:function(c){if(this.editing){var d=this.lastActiveEditor=this.activeEditor;if(d){d[c===true?"cancelEdit":"completeEdit"]();
this.view.focusCell(d.row,d.col);}this.activeEditor=null;}this.editing=false;}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(c,d){Ext.grid.GridEditor.superclass.constructor.call(this,c,d);c.monitorTab=false;};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});
Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(d,c){this.grid=d;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(c){this.setSource(c);
}Ext.grid.PropertyStore.superclass.constructor.call(this);},setSource:function(g){this.source=g;this.store.removeAll();var d=[];for(var e in g){if(this.isEditableValue(g[e])){d.push(new Ext.grid.PropertyRecord({name:e,value:g[e]},e));}}this.store.loadRecords({records:d},{},true);},onUpdate:function(k,j,g){if(g==Ext.data.Record.EDIT){var i=j.data.value;
var h=j.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,j.id,i,h)!==false){this.source[j.id]=i;j.commit();this.grid.fireEvent("propertychange",this.source,j.id,i,h);}else{j.reject();}}},getProperty:function(b){return this.store.getAt(b);},isEditableValue:function(b){return Ext.isPrimitive(b)||Ext.isDate(b);
},setValue:function(h,i,g){var e=this.getRec(h);if(e){e.set("value",i);this.source[h]=i;}else{if(g){this.source[h]=i;e=new Ext.grid.PropertyRecord({name:h,value:i},h);this.store.add(e);}}},remove:function(c){var d=this.getRec(c);if(d){this.store.remove(d);delete this.source[c];}},getRec:function(b){return this.store.getById(b);
},getSource:function(){return this.source;}});Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",constructor:function(h,i){var g=Ext.grid,k=Ext.form;this.grid=h;g.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);
this.store=i;var j=new k.Field({autoCreate:{tag:"select",children:[{tag:"option",value:"true",html:this.trueText},{tag:"option",value:"false",html:this.falseText}]},getValue:function(){return this.el.dom.value=="true";}});this.editors={date:new g.GridEditor(new k.DateField({selectOnFocus:true})),string:new g.GridEditor(new k.TextField({selectOnFocus:true})),number:new g.GridEditor(new k.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new g.GridEditor(j,{autoSize:"both"})};
this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this);},renderDate:function(b){return b.dateFormat(this.dateFormat);},renderBool:function(b){return this[b?"trueText":"falseText"];},isCellEditable:function(d,c){return d==1;},getRenderer:function(b){return b==1?this.renderCellDelegate:this.renderPropDelegate;
},renderProp:function(b){return this.getPropertyName(b);},renderCell:function(g,i,h){var j=this.grid.customRenderers[h.get("name")];if(j){return j.apply(this,arguments);}var k=g;if(Ext.isDate(g)){k=this.renderDate(g);}else{if(typeof g=="boolean"){k=this.renderBool(g);}}return Ext.util.Format.htmlEncode(k);
},getPropertyName:function(c){var d=this.grid.propertyNames;return d&&d[c]?d[c]:c;},getCellEditor:function(j,k){var i=this.store.getProperty(k),g=i.data.name,h=i.data.value;if(this.grid.customEditors[g]){return this.grid.customEditors[g];}if(Ext.isDate(h)){return this.editors.date;}else{if(typeof h=="number"){return this.editors.number;
}else{if(typeof h=="boolean"){return this.editors["boolean"];}else{return this.editors.string;}}}},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);for(var b in this.editors){Ext.destroy(this.editors[b]);}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customRenderers=this.customRenderers||{};
this.customEditors=this.customEditors||{};this.lastEditRow=null;var c=new Ext.grid.PropertyStore(this);this.propStore=c;var d=new Ext.grid.PropertyColumnModel(this,c);c.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=d;this.ds=c.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);
this.mon(this.selModel,"beforecellselect",function(a,b,g){if(g===0){this.startEditing.defer(200,this,[b,1]);return false;}},this);},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid");},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);
if(this.source){this.setSource(this.source);}},setSource:function(b){this.propStore.setSource(b);},getSource:function(){return this.propStore.getSource();},setProperty:function(g,d,e){this.propStore.setValue(g,d,e);},removeProperty:function(b){this.propStore.remove(b);}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);
Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",groupMode:"value",initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);
this.state={};var b=this.grid.getSelectionModel();b.on(b.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">');
}this.startGroup.compile();if(!this.endGroup){this.endGroup="</div></div>";}},findGroup:function(b){return Ext.fly(b).up(".x-grid-group",this.mainBody.dom);},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[];},onAdd:function(h,g,e){if(this.canGroup()&&!this.ignoreAdd){var i=this.getScrollState();
this.fireEvent("beforerowsinserted",h,e,e+(g.length-1));this.refresh();this.restoreScroll(i);this.fireEvent("rowsinserted",h,e,e+(g.length-1));}else{if(!this.canGroup()){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments);}}},onRemove:function(k,j,i,g){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);
var h=document.getElementById(j._groupId);if(h&&h.childNodes[1].childNodes.length<1){Ext.removeNode(h);}this.applyEmptyText();},refreshRow:function(b){if(this.ds.getCount()==1){this.refresh();}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false;
}},beforeMenuShow:function(){var g,e=this.hmenu.items,d=this.cm.config[this.hdCtxIndex].groupable===false;if((g=e.get("groupBy"))){g.setDisabled(d);}if((g=e.get("showGroups"))){g.setDisabled(d);g.setChecked(this.enableGrouping,true);}},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this);
this.mainBody.on("mousedown",this.interceptMouse,this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this});
}this.hmenu.on("beforeshow",this.beforeMenuShow,this);}},processEvent:function(e,j){Ext.grid.GroupingView.superclass.processEvent.call(this,e,j);var k=j.getTarget(".x-grid-group-hd",this.mainBody);if(k){var l=this.getGroupField(),m=this.getPrefix(l),i=k.id.substring(m.length);i=i.substr(0,i.length-3);
if(i){this.grid.fireEvent("group"+e,this.grid,l,i,j);}}},onGroupByClick:function(){this.enableGrouping=true;this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));this.grid.fireEvent("groupchange",this,this.grid.store.getGroupState());this.beforeMenuShow();this.refresh();},onShowGroupsClick:function(d,c){this.enableGrouping=c;
if(c){this.onGroupByClick();}else{this.grid.store.clearGrouping();this.grid.fireEvent("groupchange",this,null);}},toggleRowIndex:function(g,e){if(!this.canGroup()){return;}var d=this.getRow(g);if(d){this.toggleGroup(this.findGroup(d),e);}},toggleGroup:function(g,d){var e=Ext.get(g);d=Ext.isDefined(d)?d:e.hasClass("x-grid-group-collapsed");
if(this.state[e.id]!==d){this.grid.stopEditing(true);this.state[e.id]=d;e[d?"removeClass":"addClass"]("x-grid-group-collapsed");}},toggleAllGroups:function(i){var e=this.getGroups();for(var h=0,g=e.length;h<g;h++){this.toggleGroup(e[h],i);}},expandAllGroups:function(){this.toggleAllGroups(true);},collapseAllGroups:function(){this.toggleAllGroups(false);
},interceptMouse:function(c){var d=c.getTarget(".x-grid-group-hd",this.mainBody);if(d){c.stopEvent();this.toggleGroup(d.parentNode);}},getGroup:function(m,j,o,n,l,g){var k=o?o(m,{},j,n,l,g):String(m);if(k===""||k==="&#160;"){k=this.cm.config[l].emptyGroupText||this.emptyGroupText;}return k;},getGroupField:function(){return this.grid.store.getGroupState();
},afterRender:function(){if(!this.ds||!this.cm){return;}Ext.grid.GroupingView.superclass.afterRender.call(this);if(this.grid.deferRowRender){this.updateGroupWidths();}},renderRows:function(){var j=this.getGroupField();var k=!!j;if(this.hideGroupedColumn){var i=this.cm.findColumnIndex(j),g=Ext.isDefined(this.lastGroupField);
if(!k&&g){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField;}else{if(k&&!g){this.lastGroupField=j;this.cm.setHidden(i,true);}else{if(k&&g&&j!==this.lastGroupField){this.mainBody.update("");var h=this.cm.findColumnIndex(this.lastGroupField);
this.cm.setHidden(h,false);this.lastGroupField=j;this.cm.setHidden(i,true);}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments);},doRender:function(Q,N,F,S,G,E){if(N.length<1){return"";}if(!this.canGroup()||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments);
}var g=this.getGroupField(),H=this.cm.findColumnIndex(g),A,M="width:"+this.getTotalWidth()+";",O=this.cm.config[H],R=O.groupRenderer||O.renderer,D=this.showGroupName?(O.groupName||O.header)+": ":"",i=[],K,r,B,I;for(r=0,B=N.length;r<B;r++){var L=S+r,J=N[r],P=J.data[g];A=this.getGroup(P,J,R,L,H,F);if(!K||K.group!=A){I=this.constructId(P,g,H);
this.state[I]=!(Ext.isDefined(this.state[I])?!this.state[I]:this.startCollapsed);K={group:A,gvalue:P,text:D+A,groupId:I,startRow:L,rs:[J],cls:this.state[I]?"":"x-grid-group-collapsed",style:M};i.push(K);}else{K.rs.push(J);}J._groupId=I;}var C=[];for(r=0,B=i.length;r<B;r++){A=i[r];this.doGroupStart(C,A,Q,F,G);
C[C.length]=Ext.grid.GroupingView.superclass.doRender.call(this,Q,A.rs,F,A.startRow,G,E);this.doGroupEnd(C,A,Q,F,G);}return C.join("");},getGroupId:function(d){var c=this.getGroupField();return this.constructId(d,c,this.cm.findColumnIndex(c));},constructId:function(m,k,i){var h=this.cm.config[i],l=h.groupRenderer||h.renderer,j=(this.groupMode=="value")?m:this.getGroup(m,{data:{}},l,0,i,this.ds);
return this.getPrefix(k)+Ext.util.Format.htmlEncode(j);},canGroup:function(){return this.enableGrouping&&!!this.getGroupField();},getPrefix:function(b){return this.grid.getGridEl().id+"-gp-"+b+"-";},doGroupStart:function(j,g,i,k,h){j[j.length]=this.startGroup.apply(g);},doGroupEnd:function(j,g,i,k,h){j[j.length]=this.endGroup;
},getRows:function(){if(!this.canGroup()){return Ext.grid.GroupingView.superclass.getRows.call(this);}var n=[],j=this.getGroups(),o,g=0,m=j.length,i,l;for(;g<m;++g){o=j[g].childNodes[1];if(o){o=o.childNodes;for(i=0,l=o.length;i<l;++i){n[n.length]=o[i];}}}return n;},updateGroupWidths:function(){if(!this.canGroup()||!this.hasRows()){return;
}var i=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px";var e=this.getGroups();for(var h=0,g=e.length;h<g;h++){e[h].firstChild.style.width=i;}},onColumnWidthUpdated:function(g,e,d){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,g,e,d);this.updateGroupWidths();
},onAllColumnWidthsUpdated:function(d,c){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,d,c);this.updateGroupWidths();},onColumnHiddenUpdated:function(d,g,e){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,d,g,e);this.updateGroupWidths();},onLayout:function(){this.updateGroupWidths();
},onBeforeRowSelect:function(c,d){this.toggleRowIndex(d,true);}});Ext.grid.GroupingView.GROUP_ID=1000;
if (!Ext.grid.GridView.prototype.templates) {
    Ext.grid.GridView.prototype.templates = {};
}
Ext.grid.GridView.prototype.templates.cell = new Ext.Template(
    '<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} x-selectable {css}" style="{style}" tabIndex="0" {cellAttr}>',
    '<div class="x-grid3-cell-inner x-grid3-col-{id}" {attr}>{value}</div>',
    '</td>'
);
Ext.override(Ext.grid.GridView, {
    getColumnWidth : function(col){
        var w = this.cm.getColumnWidth(col);
        if(typeof w == 'number'){
            return (Ext.isBorderBox || Ext.isSafari3 ? w : (w-this.borderWidth > 0 ? w-this.borderWidth:0)) + 'px';
        }
        return w;
    }
});